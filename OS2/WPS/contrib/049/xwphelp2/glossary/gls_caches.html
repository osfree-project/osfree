<HTML>
<HEAD>
    <TITLE>
        &xwp;: Dateisystem-Caches
    </TITLE>
</HEAD>
<!-- all new with V0.9.13
    Changes:
    V0.9.20: add &xwp; to title
-->
<BODY>
<P>Dateisystem-Caches sind ein Mechanismus, der von den meisten heutigen Betriebssystemen
genutzt wird, um berflssige Laufwerkszugriffe zu vermeiden. Um dies zu erreichen,
wird ein Teil des Hauptspeichers (RAM) im Rechner als ein Puffer fr die
Daten benutzt, die auf die Laufwerke geschrieben bzw. von ihnen gelesen werden.
Einen solchen Speicherbereich bezeichnet man als "Cache".
 
<P>Siehe <A HREF="glossary/gls_fs.html">"Dateisysteme"</A> fr eine
einleitende Beschreibung von Dateisystemen.
 
<P>Verwechseln Sie nicht die Dateisystem-Caches, die hier beschrieben werden, mit den
anderen Caches Ihres Systems, wie z.B. die Prozessor-Caches und andere, die fest in Ihre
Festplatten eingebaut sind. Das dahinterstehende Konzept ist zwar das gleiche
(n„mlich langsame Zugriffe durch Zugriffe auf schnellen Speicher zu minimieren),
sie werden hier aber nicht beschrieben.
 
<P>Wenn nun eine Anwendung auf Laufwerksdaten zugreift, die sich noch im
Dateisystem-Cache befinden, so kann das Betriebssystem diese aus dem Hauptspeicher
zur Verfgung stellen und muá sie nicht von der Platte lesen, was sehr viel schneller
geht.
 
<P>Umgekehrt k”nnen Daten, die von einer Anwendung auf die Festplatte geschrieben werden,
erst einmal in den Cache kopiert und so lange zurckgehalten werden, bis die Festplatte
Zeit hat, die Daten entgegenzunehmen. Dies bezeichnet man als "verz”gertes Schreiben"
("lazy write") und kann die Leistung des Systems erheblich steigern. Andererseits
erh”ht sich dadurch die Gefahr von Datenverlust bei Stromausfall oder Systemabstrzen,
weil die Daten in den Caches unter Umst„nden noch nicht auf die Platte geschrieben sind.
Wenn Sie ein stabiles System haben und selten CHKDSKs beim Starten sehen, k”nnen Sie
jedoch das verz”gerte Schreiben bedenkenlos einschalten.
 
<P>OS/2 stellt unterschiedliche Caches fr jedes installierte Dateisystem zur Verfgung.
Dies bedeutet, das alle FAT-Laufwerke einen gemeinsamen Cache benutzen und alle
HPFS-Laufwerke einen zweiten. Diese beiden Caches werden getrennt ber unterschiedliche
CONFIG.SYS-Anweisungen konfiguriert.
 
<IFNDEF __NOOS2KERNEL__>
Diese Einstellungen lassen sich im Objekt
<A HREF="objects/obj_krnl.html">"&os2;-Kernel"</A> anpassen. Die Einstellungen fr
HPFS befinden sich auf der Seite "Treiber", da HPFS ein installierbares Dateisystem
(IFS) ist. Da FAT im Gegesatz dazu in den &os2;-Kernel eingebaut ist, hat es
seine eigene Seite.
</IFNDEF>
 
<P>Beachten Sie, daá der Speicher, den Sie fr Dateisystem-Caches reservieren,
nicht mehr fr andere Zwecke zur Verfgung steht. Wenn Sie zu viel Speicher fr
die Caches reservieren, kann dies die Leistung des Systems negativ beeinflussen,
da &os2; dann m”glicherweise Speicher auslagern muá. Experimentieren Sie mit den
Einstellungen.
 
<P>Generell gilt zun„chst, daá Sie umso mehr Speicher fr die Caches zur Verfgung
stellen sollten, je mehr Hauptspeicher Sie installiert haben. Auáerdem sollten Sie
bercksichtigen, welche Dateisysteme Sie mehr benutzen: greifen Sie z.B. haupts„chlich
auf HPFS-Laufwerke zu, so lohnt es sich nicht, fr FAT-Laufwerke viel Cache zu reservieren
(und umgekehrt).
 
<P>Mit den Speichergr”áen heutiger Rechner ist dies kein groáes Problem mehr.
Wenn Sie jedoch lediglich 16 MB Hauptspeicher haben (oder noch weniger), sollten
Sie nicht mehr als 1024 KB fr die Caches insgesamt reservieren.
 
<BR>
</BODY>
</HTML>
 
