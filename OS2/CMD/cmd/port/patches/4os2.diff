diff -urwN 4os2-o/4os2.ipf 4os2/4os2.ipf
--- 4os2-o/4os2.ipf	2023-01-18 02:41:34.426095034 +0300
+++ 4os2/4os2.ipf	2023-04-01 14:28:51.795753112 +0300
@@ -10,6 +10,8 @@
 .nameit symbol=9ver     text='3.09'
 .nameit symbol=10ver    text='3.10'
 .nameit symbol=11ver    text='3.11'
+.nameit symbol=4OS2     text='CMD.EXE'
+.nameit symbol=4OS2INI  text='CMD.INI'
 
 .* Use this to reference current version
 .nameit symbol=curver   text='3.11.4'
@@ -17,14 +19,14 @@
 
 :userdoc.
 :docprof toc=12345.
-:title.4OS2 v&curver. Help
+:title.Command reference
 
 .* dev notes:
 .*
 .* 2021-12-15-01 - LGR
 .* Changed references from HPFS to volumes supporting long filenames, as appropriate (mind FAT32 exceptions)
 .* Changed references from drive to volume, as appropriate
-.* Changed references from :hp1.4OS2.INI:ehp1. and :hp1..INI:ehp1. to link, as appropriate
+.* Changed references from :hp1.&4OS2INI.:ehp1. and :hp1..INI:ehp1. to link, as appropriate
 .* Changed references from 199? to 201?, e.g., 04-03-1997 -> 04-03-2017
 .* Changed references from file name to filename (compound word), except for references to description file name, batch file name (though log filename is acceptable)
 .* Changed references from file system to filesystem (compound word)
@@ -39,24 +41,26 @@
 .* To do: Clarify differences between large floppy format and partitioned media
 .* --------------------------------------------------------------------------
 
-:h1 name=AboutHelp.About 4OS2 Help
+:h1 name=AboutHelp.About Command reference
 :p.
 :lines align=center.
-4OS2
+&4OS2.
 
 Version &curver. Help System
 
-Text by Hardin Brothers, Tom Rawson, and Rex Conn
+Text by osFree team, Hardin Brothers, Tom Rawson, and Rex Conn
 :elines.
 :p.
 :p.
+Help Text Copyright 2003, osFree team.
+.br
 Help Text Copyright 1993 - 2004, JP Software Inc., All Rights Reserved.
 :p.
 Software Copyright 1988 - 2004, Rex Conn and JP Software Inc., All Rights
 Reserved.
 :p.
 
-4DOS, 4OS2, and 4NT are JP Software Inc.'s trademarks for its family of
+4DOS, &4OS2., and 4NT are JP Software Inc.'s trademarks for its family of
 character-mode command processors. 4DOS and Take Command are registered
 trademarks of JP Software Inc. JP Software, jpsoft.com, and all JP
 Software designs and logos are also trademarks of JP Software Inc. Other
@@ -72,7 +76,7 @@
 
 :h1 name=CommandLine.The Command Line
 :p.
-4OS2 displays a [c&colon.\] prompt when it is waiting for you to enter a
+&4OS2. displays a [c&colon.\] prompt when it is waiting for you to enter a
 command. (The actual text depends upon the current drive and
 directory as well as your PROMPT settings.) This is called the
 command line and the prompt is asking you to enter a command, an
@@ -82,10 +86,10 @@
 This section explains the features that will help you while you are
 typing in commands, and how keystrokes are interpreted when you
 enter them at the command line. The keystrokes discussed here are
-the ones normally used by 4OS2. If you prefer using different
+the ones normally used by &4OS2..  If you prefer using different
 keystrokes to perform these functions, you can assign new ones with
 :link reftype=hd refid=INIKeyMap.key mapping directives:elink. in
-:link reftype=hd refid=INIFile.4OS2.INI:elink.&per.
+:link reftype=hd refid=INIFile.&4OS2INI.:elink.&per.
 :p.
 The command line features documented in this section are&colon.
 :lm margin=8.:parml compact tsize=4 break=fit.
@@ -151,7 +155,7 @@
 :eparml.:lm margin=1.
 .br
 Most of the command-line editing capabilities are also available
-when a 4OS2 command prompts you for a line of input. For example,
+when a &4OS2. command prompts you for a line of input. For example,
 you can use the command-line editing keys when
 :link reftype=hd refid=DESCRIBE.DESCRIBE:elink. prompts for a file
 description, when :link reftype=hd refid=INPUT.INPUT:elink. prompts for
@@ -159,15 +163,15 @@
 refid=LIST.LIST:elink. prompts you for a search string.
 :p.
 If you want your input at the command line to be in a different
-color from 4OS2's prompts or output, you can use the
+color from &4OS2.'s prompts or output, you can use the
 :link reftype=hd refid=DisplayOption.Display page:elink. of the
 :link reftype=hd refid=TOC_ConfigurationNotebook.Configuration Notebook:elink.,
 or the :link reftype=hd refid=INI_InputColors.InputColors:elink. directive in
-:link reftype=hd refid=INIFile.4OS2.INI:elink.&per.
+:link reftype=hd refid=INIFile.&4OS2INI.:elink.&per.
 :p.
 If you want to spread a long command line across multiple lines,
 use the :link reftype=hd refid=Escape.escape character:elink.&per.
-4OS2 will prompt for additional command-line text when you include
+&4OS2. will prompt for additional command-line text when you include
 the escape character as the very
 last character of a typed command line. The default escape character
 is the caret [:hp2.^:ehp2.]. For example&colon.
@@ -195,13 +199,13 @@
 You enter Alt-255 by holding down the :hp2.Alt:ehp2. key while you type
 :hp2.255:ehp2. on the numeric keypad, then releasing the :hp2.Alt:ehp2. key (you
 must use the number keys on the numeric pad; the row of keys at the
-top of your keyboard won't work). This forces 4OS2 to interpret
+top of your keyboard won't work). This forces &4OS2. to interpret
 the next keystroke literally and places it on the command line,
 ignoring any special meaning it would normally have as a command-line
 editing or history keystroke. You can use Alt-255 to suppress
 the normal meaning of command-line editing keystrokes even if they
 have been reassigned with :link reftype=hd refid=INIKeyMap.key mapping directives:elink. in
-:link reftype=hd refid=INIFile.4OS2.INI:elink., and Alt-255 itself can be reassigned with the
+:link reftype=hd refid=INIFile.&4OS2INI.:elink., and Alt-255 itself can be reassigned with the
 :link reftype=hd refid=INI_CommandEscape.CommandEscape:elink. directive.
 
 .* --------------------------------------------------------------------------
@@ -243,7 +247,7 @@
 :link reftype=hd refid=CommandLine1Option.Command Line 1 page:elink. of the
 :link reftype=hd refid=TOC_ConfigurationNotebook.Configuration Notebook:elink.
 dialogs, or setting :link reftype=hd refid=INI_HistWrap.Histwrap:elink. to No in
-:link reftype=hd refid=INIFile.4OS2.INI:elink.&per.
+:link reftype=hd refid=INIFile.&4OS2INI.:elink.&per.
 :p.
 You can search the command history list to find a previous command
 quickly using :hp2.command completion:ehp2.&per. Just enter the first few
@@ -261,10 +265,10 @@
 :link reftype=hd refid=TOC_ConfigurationNotebook.Configuration Notebook:elink.,
 or with the
 :link reftype=hd refid=INI_History.History:elink. directive in
-:link reftype=hd refid=INIFile.4OS2.INI:elink.&per. When the list is full, the
+:link reftype=hd refid=INIFile.&4OS2INI.:elink.&per. When the list is full, the
 oldest commands are discarded to make room for new ones. You can also use the
 :link reftype=hd refid=INI_HistMin.HistMin:elink. directive in
-:link reftype=hd refid=INIFile.4OS2.INI:elink. to enable or disable history
+:link reftype=hd refid=INIFile.&4OS2INI.:elink. to enable or disable history
 saves and to specify the shortest command line to be saved.
 :p.
 You can prevent any command line from being saved in the history by
@@ -276,7 +280,7 @@
 each command to be copied or moved to the end of the list when it is re-
 executed, set :link reftype=hd refid=INI_HistCopy.HistCopy:elink. or
 :link reftype=hd refid=INI_HistMove.HistMove:elink. to Yes in
-:link reftype=hd refid=INIFile.4OS2.INI:elink.&per.
+:link reftype=hd refid=INIFile.&4OS2INI.:elink.&per.
 If you select either of these options, the list entry identified as "current"
 (the entry from which commands are retrieved when you press
 :hp2.&uarrow.:ehp2.) is also adjusted to refer to the end of the history
@@ -289,13 +293,13 @@
 list.
 :p.
 With a local command history list, any changes made to the history will
-only affect the current copy of 4OS2. They will not be visible in
+only affect the current copy of &4OS2.. They will not be visible in
 other shells, or other sessions.
 :p.
-With a global command history list, all copies of 4OS2 will share the same
+With a global command history list, all copies of &4OS2. will share the same
 command history, and any changes made to the history in one copy
 will affect all other copies. Global lists are the default for
-4OS2.
+&4OS2..
 :p.
 You can control the type of command history on the
 :link reftype=hd refid=StartupOption.Startup Configuration Page:elink.
@@ -303,7 +307,7 @@
 :link reftype=hd refid=TOC_ConfigurationNotebook.Configuration Notebook:elink.,
 with the
 :link reftype=hd refid=INI_LocalHistory.LocalHistory:elink. directive in
-:link reftype=hd refid=INIFile.4OS2.INI:elink., or with the :hp2./L:ehp2. and :hp2./LH:ehp2. options
+:link reftype=hd refid=INIFile.&4OS2INI.:elink., or with the :hp2./L:ehp2. and :hp2./LH:ehp2. options
 of the :link reftype=hd refid=START.START:elink. command.
 :p.
 There is no fixed rule for deciding whether to use a local or global
@@ -313,11 +317,11 @@
 default setting, then modify it if you find a situation where the default is
 not convenient.
 :p.
-If you select a global history list for 4OS2 you can share the
-history among all copies of 4OS2 running in any session. When you
-close all 4OS2 sessions, the memory for the global history list is
+If you select a global history list for &4OS2. you can share the
+history among all copies of &4OS2. running in any session. When you
+close all &4OS2. sessions, the memory for the global history list is
 released, and a new, empty history list is created the next time
-you start 4OS2.
+you start &4OS2..
 :p.
 If you want the history list to be retained in
 memory even when no command processor session is running, execute the :link
@@ -413,9 +417,9 @@
 If you are accustomed to UNIX syntax
 where forward slashes (:hp2./:ehp2.) are used as the path element separator or
 the executable you are
-invoking requires forward slashes, and you want 4OS2 to
+invoking requires forward slashes, and you want &4OS2. to
 recognize this syntax, you can set :link reftype=hd
-refid=INI_UnixPaths.UnixPaths:elink. to Yes in :link reftype=hd refid=INIFile.4OS2.INI:elink.&per.
+refid=INI_UnixPaths.UnixPaths:elink. to Yes in :link reftype=hd refid=INIFile.&4OS2INI.:elink.&per.
 :p.
 :hp2.Warning&colon.:ehp2. UNIX compatibility is not yet fully implemented.
 Internal commands will interpret forward slashes in unquoted command arguments
@@ -425,7 +429,7 @@
 For more information on command entry see
 :link reftype=hd refid=MultCmds.Multiple Commands:elink. and
 :link reftype=hd refid=CmdLength.Command-Line Length Limits:elink.&per.
-For details on how 4OS2 handles the various elements it finds on
+For details on how &4OS2. handles the various elements it finds on
 the command line see :link reftype=hd refid=Parsing.Command Parsing:elink.&per.
 
 .* --------------------------------------------------------------------------
@@ -449,13 +453,13 @@
 :xmp.
     [c&colon.\] copy au
 :exmp.:p.
-and then press the :hp2.Tab:ehp2. key or :hp2.F9:ehp2. key. 4OS2 will
+and then press the :hp2.Tab:ehp2. key or :hp2.F9:ehp2. key. &4OS2. will
 search the current directory for filenames that begin :hp1.AU:ehp1. and
 insert the first one onto the command line in place of the :hp1.AU:ehp1.
 that you typed.
 :p.
 If this is the file that you want, simply complete the command. If
-4OS2 didn't find the file that you were looking for, press :hp2.Tab:ehp2.
+&4OS2. didn't find the file that you were looking for, press :hp2.Tab:ehp2.
 or :hp2.F9:ehp2. again to substitute the next filename that begins with
 :hp1.AU:ehp1.&per. When there are no more filenames that match your pattern,
 the system will beep each time you press :hp2.Tab:ehp2. or :hp2.F9:ehp2.&per.
@@ -488,7 +492,7 @@
 press :hp2.Tab:ehp2. or :hp2.F9:ehp2. after that, another name from the
 current directory is displayed, until all filenames have been displayed.
 :p.
-If you type a filename without an extension, 4OS2 will add :hp1.*.*:ehp1. to
+If you type a filename without an extension, &4OS2. will add :hp1.*.*:ehp1. to
 the name (* on volumes supporting long filenames). It will also place a "*" after a partial
 extension. If you are typing a group of filenames in an :link reftype=hd
 refid=InclList.include list:elink., the part of the include list at the
@@ -505,11 +509,11 @@
 :hp2.Appending Backslashes to Directory Names:ehp2.
 :p.
 If you set the :link reftype=hd refid=INI_AppendToDir.AppendToDir:elink.
-:link reftype=hd refid=INIFile.4OS2.INI:elink. directive, or the
+:link reftype=hd refid=INIFile.&4OS2INI.:elink. directive, or the
 :hp2.Add '\' to Directories:ehp2. option on the
 :link reftype=hd refid=CommandLine1Option.Command Line 1 page:elink. of the
 :link reftype=hd refid=TOC_ConfigurationNotebook.Configuration Notebook:elink.,
-4OS2 will add a trailing backslash [:hp2.\:ehp2.] to all directory names. This
+&4OS2. will add a trailing backslash [:hp2.\:ehp2.] to all directory names. This
 feature can be especially handy if you use filename completion to specify files
 that are not in the current directory -- a succession of :hp2.Tab :ehp2.(or
 :hp2.F9:ehp2.) and :hp2.F10 :ehp2.keystrokes can build a complete path to the
@@ -551,18 +555,18 @@
 the
 :link reftype=hd refid=TOC_ConfigurationNotebook.Configuration Notebook:elink.,
 or set the :link reftype=hd refid=INI_FileCompletion.FileCompletion:elink.
-directive manually in :link reftype=hd refid=INIFile.4OS2.INI:elink.&per. You
+directive manually in :link reftype=hd refid=INIFile.&4OS2INI.:elink.&per. You
 can also use the
 :link reftype=hd refid=FILECOMPLETION.FILECOMPLETION:elink. environment
 variable. If you use both, the environment variable will override the
-settings in :link reftype=hd refid=INIFile.4OS2.INI:elink.&per. You may find it
+settings in :link reftype=hd refid=INIFile.&4OS2INI.:elink.&per. You may find it
 useful to use the environment variable for experimenting, then create permanent
 settings using the
 :link reftype=hd refid=TOC_ConfigurationNotebook.Configuration Notebook:elink.
 or the :link reftype=hd refid=INI_FileCompletion.FileCompletion:elink. directive.
 :p.
 The format for both the environment variable and
-:link reftype=hd refid=INIFile.4OS2.INI:elink. is&colon.
+:link reftype=hd refid=INIFile.&4OS2INI.:elink. is&colon.
 :xmp.
     cmd1&colon.ext1 ext2 ...; cmd2&colon. ...
 :exmp.:p.
@@ -594,7 +598,7 @@
 "B " and press :hp2.Tab:ehp2., you will see only names of :hp1..C:ehp1. and
 :hp1..ASM:ehp1. files.
 :p.
-4OS2 does :hp2.not:ehp2. check your command line for aliases before matching
+&4OS2. does :hp2.not:ehp2. check your command line for aliases before matching
 the commands for customized file completion. Instead, they ignore any path
 or file extension information in the first word of the command, and then
 search the :link reftype=hd refid=FILECOMPLETION.FILECOMPLETION:elink.
@@ -724,7 +728,7 @@
 If the directory history list becomes full, old entries are deleted to
 make room for new ones. You can set the size of the list with the
 :link reftype=hd refid=INI_DirHistory.DirHistory:elink. directive in
-:link reftype=hd refid=INIFile.4OS2.INI:elink.&per. In order to conserve space, each directory name is
+:link reftype=hd refid=INIFile.&4OS2INI.:elink.&per. In order to conserve space, each directory name is
 recorded just once in the directory history, even if you move into and out
 of that directory several times. The directory history can be stored in
 either a "local" or "global" list. (See :link reftype=hd
@@ -734,7 +738,7 @@
 directory history list, regardless of whether you change directories at the
 command line, from within a batch file, or from within an alias. However,
 directory changes made by external directory navigation utilities or other
-external programs are not recorded by 4OS2.
+external programs are not recorded by &4OS2..
 :p.
 See :link reftype=hd refid=Popup.Popup Windows:elink. for information on
 customizing window position, size, and color.
@@ -760,7 +764,7 @@
 :link reftype=hd refid=TOC_ConfigurationNotebook.Configuration Notebook:elink.,
 with the
 :link reftype=hd refid=INI_LocalDirHistory.LocalDirHistory:elink. directive
-in :link reftype=hd refid=INIFile.4OS2.INI:elink., with the :hp2./L:ehp2. and :hp2./LD:ehp2.
+in :link reftype=hd refid=INIFile.&4OS2INI.:elink., with the :hp2./L:ehp2. and :hp2./LD:ehp2.
 :link reftype=hd refid=Startup.startup options:elink., and with the
 :hp2./L:ehp2. and :hp2./LD:ehp2. options of the
 :link reftype=hd refid=START.START:elink. command.
@@ -774,9 +778,9 @@
 :p.
 If you select a global directory list, you can share the list among
 all copies of the command processor running in any session. When you
-close all 4OS2 sessions, the memory for the global directory history
+close all &4OS2. sessions, the memory for the global directory history
 list is released, and a new, empty list is created the next time you
-start 4OS2.
+start &4OS2..
 :p.
 If you want the list to be retained in memory even when no command processor
 session is running, you need to execute the :link reftype=hd
@@ -811,8 +815,8 @@
 :p.
 If you don't like using the default command separator, you can pick
 another character using the :link reftype=hd refid=SETDOS.SETDOS:elink. /C command or the
-:link reftype=hd refid=INI_CommandSep.CommandSep:elink. directive in :link reftype=hd refid=INIFile.4OS2.INI:elink.&per. If
-you plan to share aliases or batch files between 4OS2 and 4DOS,
+:link reftype=hd refid=INI_CommandSep.CommandSep:elink. directive in :link reftype=hd refid=INIFile.&4OS2INI.:elink.&per. If
+you plan to share aliases or batch files between &4OS2. and 4DOS,
 4NT, or Take Command, see :link reftype=hd
 refid=Compat.Special Character Compatibility:elink. for
 details about choosing compatible command separators for two or
@@ -893,7 +897,7 @@
 When you first enter a command at the prompt or in an
 alias or batch file, it can be up to 1,023 characters long.
 :p.
-As 4OS2 scans the command line and substitutes the contents of
+As &4OS2. scans the command line and substitutes the contents of
 aliases and environment variables for their names, the line usually
 gets longer. This expanded line is stored in an internal buffer
 which allows each individual command to grow to 1,023 characters
@@ -913,7 +917,7 @@
 to work with, you can use several shorthand forms for naming or
 selecting files and the applications associated with them.
 :p.
-Most of the features explained in this section apply to 4OS2 commands only,
+Most of the features explained in this section apply to &4OS2. commands only,
 and can not be used to pass filenames to external programs unless
 those programs were specifically written to support these features.
 :p.
@@ -932,7 +936,7 @@
 
 :h2 name=ParDir.Extended Parent Directory Names
 :p.
-4OS2 allows you to extend the traditional syntax for
+&4OS2. allows you to extend the traditional syntax for
 naming the parent directory, by adding additional [:hp2..:ehp2.]
 characters. Each additional [:hp2..:ehp2.] represents an additional
 directory level above the current directory. For example,
@@ -984,7 +988,7 @@
 :xmp.
     [c&colon.\] dir st*.d*
 :exmp.:p.
-With 4OS2, you can also use the asterisk to match filenames with
+With &4OS2., you can also use the asterisk to match filenames with
 specific letters somewhere inside the name. The following example
 will display any file with a :hp1..TXT:ehp1. extension that has the
 letters :hp1.AM:ehp1. together anywhere inside its base name. It will,
@@ -1004,7 +1008,7 @@
 The use of an asterisk wildcard before other characters, and of the
 character ranges discussed below, are enhancements to the standard
 wildcard syntax, and may not work properly with software
-other than 4OS2 and Take Command.
+other than &4OS2. and Take Command.
 :p.
 "Extra" question marks in your wildcard specification are ignored
 if the filename is shorter than the wildcard specification. For
@@ -1100,7 +1104,7 @@
 :exmp.:p.
 
 you will not get the results you expect. Instead of deleting the
-named file, 4OS2 will attempt to delete :hp1.LETTER1:ehp1. and then
+named file, &4OS2. will attempt to delete :hp1.LETTER1:ehp1. and then
 :hp1.V2:ehp1., because the semicolon indicates an
 :link reftype=hd refid=InclList.include list:elink.&per. However
 if you use square brackets around the semicolon it will be
@@ -1126,11 +1130,11 @@
 :p.
 Most internal commands which accept wildcards also allow date,
 time, and size ranges to further define the files that you wish to
-work with. 4OS2 will examine each file's size and timestamp (a
+work with. &4OS2. will examine each file's size and timestamp (a
 record of when the file was created, last modified, or last accessed)
 to determine if the file meets the range criteria you have specified.
 :p.
-(4OS2 also supports :link reftype=hd refid=ExclRanges.File Exclusion
+(&4OS2. also supports :link reftype=hd refid=ExclRanges.File Exclusion
 Ranges:elink. to exclude files from a command. These are similar to date,
 time, and size ranges, but have a slightly different purpose and therefore
 are documented separately.)
@@ -1242,7 +1246,7 @@
 2017. If you prefer, you can specify the times in 24-hour format
 (:hp1.e.g.:ehp1., @18&colon.00 for the end time in the previous example).
 :p.
-If you omit the second argument in a date range, 4OS2 substitutes
+If you omit the second argument in a date range, &4OS2. substitutes
 the current date and time. For example, :hp2./[d10-1-17]:ehp2. selects
 files dated between October 1, 2017 and today.
 :p.
@@ -1280,7 +1284,7 @@
 :exmp.
 
 This reversed date range (with the later date given first) will be handled
-correctly by 4OS2. It takes advantage of the facts that an offset in the
+correctly by &4OS2.. It takes advantage of the facts that an offset in the
 :hp2.start :ehp2.date is relative to today, and that the base or "zero"
 point for PC file dates is January 1, 1980.
 :p.
@@ -1387,7 +1391,7 @@
 :h3 name=ExclRanges.File Exclusion Ranges
 :p.
 Most internal commands which accept wildcards also accept file exclusion
-ranges to further define the files that you wish to work with. 4OS2
+ranges to further define the files that you wish to work with. &4OS2.
 examines each filename and excludes files that match the names you have
 specified in a file exclusion range.
 :p.
@@ -1412,7 +1416,7 @@
 :xmp.
     [c&colon.\] dir /[s10k] /[d-7] /[!*.c *.h] *.*
 :exmp.:p.
-File exclusion ranges will only work for 4OS2 internal commands. The
+File exclusion ranges will only work for &4OS2. internal commands. The
 :link reftype=hd refid=EXCEPT.EXCEPT:elink. command can be used to exclude
 files from processing by many external commands.
 
@@ -1522,7 +1526,7 @@
 :xmp.
     set .ext=command [options]
 :exmp.:p.
-This tells 4OS2 to run the specified command whenever you name
+This tells &4OS2. to run the specified command whenever you name
 a file with the extension :hp2..ext:ehp2. at the prompt.
 :p.
 :hp1..EXT:ehp1. is the executable file extension; :hp1.command:ehp1. is the
@@ -1531,16 +1535,16 @@
 you want to specify for the program, batch file, or alias.
 :p.
 Normally, when you type a filename (as opposed to an alias or
-internal command name) as the first word on the command line, 4OS2
+internal command name) as the first word on the command line, &4OS2.
 looks for a file with that name to execute. The file's extension
 may be :hp1..EXE:ehp1. or :hp1..COM:ehp1. to indicate that it contains a
 program, it may have a batch file extension like :hp1..BTM:ehp1., or the
 file's contents may indicate that it is executable. (To change the
 default list of extensions see the :link reftype=hd
 refid=PATHEXT.PATHEXT:elink. environment variable and the :link reftype=hd
-refid=INI_PathExt.PathExt:elink. setting in :link reftype=hd refid=INIFile.4OS2.INI:elink.&per.)
+refid=INI_PathExt.PathExt:elink. setting in :link reftype=hd refid=INIFile.&4OS2INI.:elink.&per.)
 :p.
-You can add to the default list of extensions, and have 4OS2 take
+You can add to the default list of extensions, and have &4OS2. take
 the action you want with files that are not executable programs or
 batch files. The action taken is always based on the file's
 extension. For example, you could start your text editor whenever
@@ -1561,7 +1565,7 @@
     [c&colon.\] set .edt=c&colon.\edit\editor.exe
 :exmp.:p.
 If the command specified in an executable extension is a batch file or
-external program, 4OS2 will search the PATH for it if necessary. However,
+external program, &4OS2. will search the PATH for it if necessary. However,
 you can make sure that the correct program or batch file is used, and
 speed up the executable extension, by specifying the full name including
 drive, path, filename, and extension.
@@ -1580,7 +1584,7 @@
 :xmp.
     [c&colon.\source] init
 :exmp.:p.
-4OS2 will execute the command&colon.
+&4OS2. will execute the command&colon.
 :xmp.
     c&colon.\boxer\b.exe -s c&colon.\source\init.mak
 :exmp.:p.
@@ -1641,11 +1645,11 @@
 :p.
 With traditional command processors, you change the current drive by typing
 the new drive letter plus a colon at the prompt, and you change the current
-working directory with the CD command. 4OS2 supports those standard
+working directory with the CD command. &4OS2. supports those standard
 features, and offer a number of enhancements to make directory navigation
 much simpler and faster.
 :p.
-The 4OS2 directory navigation features are in three groups&colon. features
+The &4OS2. directory navigation features are in three groups&colon. features
 which help the command processor find the directory you want, methods for
 initiating a directory change with a minimal amount of typing, and methods
 for returning easily to directories you've recently used. Each group is
@@ -1655,7 +1659,7 @@
 :hp2.Finding Directories:ehp2.
 :p.
 Traditional command processors require you to explicitly type the name of the
-directory to which you want to change. 4OS2 support this method, and also offer
+directory to which you want to change. &4OS2. support this method, and also offer
 two significant enhancements&colon.
 :p.
 :lm margin=4.:parml tsize=4 break=fit.
@@ -1672,7 +1676,7 @@
 :p.
 :hp2.Initiating a Directory Change:ehp2.
 :p.
-4OS2 supports the traditional methods of changing directories, and also
+&4OS2. supports the traditional methods of changing directories, and also
 offers several more flexible approaches&colon.
 :p.
 :lm margin=4.:parml tsize=4 break=fit.
@@ -1703,7 +1707,7 @@
 :p.
 Traditional command processors do not remember previously-used directories,
 and can only "return" to a directory by changing back to it with a standard
-drive change or CD command. 4OS2 supports three additional methods for
+drive change or CD command. &4OS2. supports three additional methods for
 returning to a previous directory&colon.
 :p.
 :lm margin=4.:parml tsize=4 break=fit.
@@ -1729,7 +1733,7 @@
 When you change directories with an
 :link reftype=hd refid=AutoDir.automatic directory change:elink.,
 :link reftype=hd refid=CD.CD:elink., :link reftype=hd refid=CDD.CDD:elink., or
-:link reftype=hd refid=PUSHD.PUSHD:elink. command, 4OS2 must find the
+:link reftype=hd refid=PUSHD.PUSHD:elink. command, &4OS2. must find the
 target directory. To do so, the command processor first uses
 the traditional method to find a new directory&colon. it checks to see
 whether you have specified either the name of an existing subdirectory below
@@ -1743,7 +1747,7 @@
 dramatically by allowing the command processor to find the directory you
 want, even if you only enter a small part of its name.
 :p.
-When the traditional search method fails, 4OS2 try to find the directory you
+When the traditional search method fails, &4OS2. try to find the directory you
 requested via the :link reftype=hd refid=CDPATH.CDPATH:elink., then via an
 Extended Directory Search. This section covers only Extended Directory
 Searches, which are more flexible and more commonly used than CDPATH.
@@ -1763,12 +1767,12 @@
 window from the
 :link reftype=hd refid=CommandLine2Option.Command Line 2 page:elink. of the
 :link reftype=hd refid=TOC_ConfigurationNotebook.Configuration Notebook:elink.,
-or with directives in :link reftype=hd refid=INIFile.4OS2.INI:elink., including
+or with directives in :link reftype=hd refid=INIFile.&4OS2INI.:elink., including
 :link reftype=hd refid=INI_CDDWinLeft.CDDWinLeft, CDDWinTop, CDDWinWidth,
 and CDDWinHeight:elink., and
 :link reftype=hd refid=INI_CDDWinColors.CDDWinColors:elink.&per. You can also
 change the keys used in the popup window with :link reftype=hd
-refid=INIKeyMap.key mapping directives:elink. in :link reftype=hd refid=INIFile.4OS2.INI:elink.&per.
+refid=INIKeyMap.key mapping directives:elink. in :link reftype=hd refid=INIFile.&4OS2INI.:elink.&per.
 :p.
 To use extended directory searches, you must explicitly enable them and also
 create the directory database.
@@ -1784,24 +1788,24 @@
 all local hard drives.
 :p.
 The database is stored in the file :hp1.JPSTREE.IDX:ehp1., which is placed in
-the 4OS2 installation directory by default or in the root of the boot volume.
+the &4OS2. installation directory by default or in the root of the boot volume.
 The same tree file is used by all JP Software command processors. You can
 specify a different location for this file on the
 :link reftype=hd refid=CommandLine2Option.Command Line 2 page:elink. of the
 :link reftype=hd refid=TOC_ConfigurationNotebook.Configuration Notebook:elink.,
 or with the :link reftype=hd refid=INI_TreePath.TreePath:elink.
-:link reftype=hd refid=INIFile.4OS2.INI:elink. directive. If you plan on using
-multiple 4OS2 and/or 4DOS, 4NT, or Take Command installations on your computer
+:link reftype=hd refid=INIFile.&4OS2INI.:elink. directive. If you plan on using
+multiple &4OS2. and/or 4DOS, 4NT, or Take Command installations on your computer
 and want to have different drives stored in the database for each, use the
 dialogs or the TreePath directive to place their database directories in
 different locations.
 :p.
-If you use an internal 4OS2 command to create or delete a directory, the
+If you use an internal &4OS2. command to create or delete a directory, the
 directory database is automatically updated to reflect the change to your
 directory structure. The updates occur if the command processor can find the
-:hp1.JPSTREE.IDX:ehp1. file in the 4OS2 installation directory, the root of the
+:hp1.JPSTREE.IDX:ehp1. file in the &4OS2. installation directory, the root of the
 boot volume, or in the location specified by the TreePath
-:link reftype=hd refid=INIFile.4OS2.INI:elink. directive.
+:link reftype=hd refid=INIFile.&4OS2INI.:elink. directive.
 :p.
 The internal commands which can modify the directory structure and cause
 automatic updates of the file are :link reftype=hd refid=MD.MD:elink.,
@@ -1819,11 +1823,11 @@
 :p.
 To enable extended directory searches and control their operation, you must
 set the :link reftype=hd refid=INI_FuzzyCD.FuzzyCD:elink. directive
-in :link reftype=hd refid=INIFile.4OS2.INI:elink.&per. You can set FuzzyCD with
+in :link reftype=hd refid=INIFile.&4OS2INI.:elink.&per. You can set FuzzyCD with
 the Search Level option on the
 :link reftype=hd refid=CommandLine2Option.Command Line 2 page:elink. of the
 :link reftype=hd refid=TOC_ConfigurationNotebook.Configuration Notebook:elink.,
-or by editing :link reftype=hd refid=INIFile.4OS2.INI:elink. manually.
+or by editing :link reftype=hd refid=INIFile.&4OS2INI.:elink. manually.
 :p.
 :lm margin=8.
 If :hp2.FuzzyCD = 0:ehp2., extended searches are disabled, the
@@ -1881,7 +1885,7 @@
 name. If you use a wildcard, an extended search will occur whether or not
 extended searches have been enabled.
 :p.
-When 4OS2 is changing directories and it finds wildcards in the directory
+When &4OS2. is changing directories and it finds wildcards in the directory
 name, it skips the explicit search and
 :link reftype=hd refid=CDPATH.CDPATH:elink. steps and goes directly to the
 extended search.
@@ -1950,11 +1954,11 @@
 When you change directories with an
 :link reftype=hd refid=AutoDir.automatic directory change:elink.,
 :link reftype=hd refid=CD.CD:elink., :link reftype=hd refid=CDD.CDD:elink., or
-:link reftype=hd refid=PUSHD.PUSHD:elink. command, 4OS2 must find the
+:link reftype=hd refid=PUSHD.PUSHD:elink. command, &4OS2. must find the
 target directory. To do so, the command processor first uses
 the traditional method to find a new directory.
 :p.
-When the traditional search method fails, 4OS2 tries to find
+When the traditional search method fails, &4OS2. tries to find
 the directory you requested via the CDPATH, then via an
 :link reftype=hd refid=ExtDirSearch.Extended Directory
 Search:elink.&per. This section covers only the CDPATH.
@@ -2038,10 +2042,10 @@
 
 :h2 name=Prompts.Page and File Prompts
 :p.
-Several 4OS2 commands can generate prompts, which wait for you to
+Several &4OS2. commands can generate prompts, which wait for you to
 press a key to view a new page or to perform a file activity.
 :p.
-When 4OS2 is displaying information in page mode, for example with
+When &4OS2. is displaying information in page mode, for example with
 a DIR /P or SET /P command, it displays the message
 :xmp.
     Press Esc to Quit or any other key to continue...
@@ -2069,7 +2073,7 @@
 :h2 name=RedirPipe.Redirection and Piping
 :p.
 This section covers :hp2.redirection:ehp2. and :hp2.piping:ehp2.&per. You
-can use these features to change how 4OS2 and some application programs
+can use these features to change how &4OS2. and some application programs
 handle input and output.
 :p.
 Internal commands and many external programs get their input from the
@@ -2111,7 +2115,7 @@
 COM1 to COM4 for serial ports; CON for the keyboard and screen; CLIP&colon.
 for the clipboard; NUL for the "null" device, etc.).
 :p.
-Here are the standard redirection options supported by 4OS2 (see below
+Here are the standard redirection options supported by &4OS2. (see below
 for additional redirection options using numeric file handles)&colon.
 :lm margin=8.:parml compact tsize=20 break=fit.
 :pt.:hp2.< filename:ehp2.:pd.To get input from a file or device instead
@@ -2163,7 +2167,7 @@
 :link reftype=hd refid=Options1.Options 1 page:elink. of the
 :link reftype=hd refid=TOC_ConfigurationNotebook.Configuration Notebook:elink.,
 or the :link reftype=hd refid=INI_NoClobber.NoClobber:elink. directive in
-:link reftype=hd refid=INIFile.4OS2.INI:elink.&per.
+:link reftype=hd refid=INIFile.&4OS2INI.:elink.&per.
 :p.
 When output is appended to a file with :hp2.>>:ehp2., :hp2.>>&amp.:ehp2., or
 :hp2.>>&amp.>:ehp2., the file will be created if it doesn't already
@@ -2190,7 +2194,7 @@
 do so, enter :hp2.>filename:ehp2. as a command, with no actual command
 before the :hp2.>:ehp2. character.
 :p.
-In addition to the standard redirection options above, 4OS2 also supports the
+In addition to the standard redirection options above, &4OS2. also supports the
 OS/2 :hp1.CMD.EXE:ehp1. syntax&colon.
 :lm margin=8.:parml compact tsize=12 break=fit.
 :pt.:hp2.n>file:ehp2.:pd.Redirect handle :hp2.n:ehp2. to the named file
@@ -2224,7 +2228,7 @@
 :xmp.
     [c&colon.\] .dir > outfile 2>&amp.1
 :exmp.:p.
-Notice that you can perform the same operations by using standard 4OS2
+Notice that you can perform the same operations by using standard &4OS2.
 redirection features. The two examples above could be written as
 :xmp.
     [c&colon.\] dir > outfile >&amp.> errfile
@@ -2270,14 +2274,14 @@
 have 2 or more pipes operating simultaneously if, for example, you have the
 pipes running in different windows.
 :p.
-4OS2 implements pipes by starting a new process for the receiving
+&4OS2. implements pipes by starting a new process for the receiving
 program instead of using temporary files. The sending and
 receiving programs run simultaneously; the sending program writes
 to the pipe and the receiving program reads from the pipe. When
 the receiving program finishes reading and processing the piped
 data, it is ends automatically.
 :p.
-When you use pipes with 4OS2 make sure you think about any possible
+When you use pipes with &4OS2. make sure you think about any possible
 consequences that can occur from using a separate process to run
 the receiving program.
 
@@ -2302,8 +2306,8 @@
 KEYSTACK depends on a program called :hp1.KEYSTACK.EXE:ehp1.&per. This file
 must be in the same directory as :hp1.4OS2.EXE:ehp1., or in a directory
 listed in your :link reftype=hd refid=PATH_Var.PATH:elink.&per. You don't have to
-take any special action to activate :hp1.KEYSTACK.EXE:ehp1.; 4OS2 will run
-it automatically when you use the KEYSTACK command. If 4OS2 cannot
+take any special action to activate :hp1.KEYSTACK.EXE:ehp1.; &4OS2. will run
+it automatically when you use the KEYSTACK command. If &4OS2. cannot
 find :hp1.KEYSTACK.EXE:ehp1., the KEYSTACK command will display an error
 message.
 :p.
@@ -2358,17 +2362,17 @@
 command processor does not normally wait for the application to finish
 before returning to the prompt. This default behavior allows you to continue
 your work at the prompt while the application is running. You can force
-4OS2 to wait for applications to finish before continuing by selecting the
+&4OS2. to wait for applications to finish before continuing by selecting the
 :hp2.Wait for Completion:ehp2. option on the
 :link reftype=hd refid=Options2.Options 2 page:elink. of the
 :link reftype=hd refid=TOC_ConfigurationNotebook.Configuration Notebook:elink.,
 with the :link reftype=hd refid=INI_ExecWait.ExecWait:elink.
-directive in :link reftype=hd refid=INIFile.4OS2.INI:elink., or with the
+directive in :link reftype=hd refid=INIFile.&4OS2INI.:elink., or with the
 :link reftype=hd refid=START.START:elink. command's :hp2./WAIT:ehp2. switch (you
 can also use START to control many other aspects of how your applications are
 started).
 :p.
-Regardless of the ExecWait setting, 4OS2 always waits for applications which
+Regardless of the ExecWait setting, &4OS2. always waits for applications which
 are run from batch files before continuing with subsequent commands in the
 batch file. To start an application from a batch file and continue with the
 batch file immediately, without waiting for the application to finish, use
@@ -2384,21 +2388,21 @@
 hardware problems, such as trying to read a floppy disk while the
 drive door is open.
 :p.
-These errors are called :hp2.critical errors:ehp2. because OS/2, 4OS2, or
+These errors are called :hp2.critical errors:ehp2. because OS/2, &4OS2., or
 your application program cannot proceed until the error is resolved.
 :p.
 When a critical error occurs, you will see a popup window asking you to
 choose one of four error handling options. The message comes from
-OS/2 or 4OS2, and will vary slightly depending upon whether you are in
+OS/2 or &4OS2., and will vary slightly depending upon whether you are in
 full-screen or windowed mode. You can respond with a mouse click or menu
 selection. The options and their meanings are similar in all cases&colon.
 :lm margin=8.:parml tsize=12 break=fit.
 :pt.:hp2.Return error code to program:ehp2.&per. Tell the program that
-the operation failed. This option returns an error code to 4OS2 or to
-the application program that was running when the error occurred. 4OS2
+the operation failed. This option returns an error code to &4OS2. or to
+the application program that was running when the error occurred. &4OS2.
 generally stops the current command when an operation fails.
 :pt.:hp2.End program/command/operation:ehp2.&per. Choose this option to
-stop the program that was running when the error occurred and abort 4OS2.
+stop the program that was running when the error occurred and abort &4OS2..
 :pt.:hp2.Retry command or operation:ehp2.&per. Choose this option if you have
 corrected the problem.
 :pt.:hp2.Display help:ehp2.&per. Display further information on the error.
@@ -2532,7 +2536,7 @@
 
 :h2 name=Escape.Escape Character
 :p.
-4OS2 recognizes a user-definable escape character. This character
+&4OS2. recognizes a user-definable escape character. This character
 gives the following character a special meaning; it is :hp2.not:ehp2. the
 same as the ASCII ESC that is often used in ANSI and printer
 control sequences.
@@ -2544,8 +2548,8 @@
 command, the :link reftype=hd refid=Options1.Options 1 Page:elink. of the
 :link reftype=hd refid=TOC_ConfigurationNotebook.Configuration Notebook:elink.,
 or the :link reftype=hd refid=INI_EscapeChar.EscapeChar:elink. directive in
-:link reftype=hd refid=INIFile.4OS2.INI:elink.&per. If you plan to share aliases
-or batch files between 4OS2 and 4DOS, 4NT, or Take Command, see
+:link reftype=hd refid=INIFile.&4OS2INI.:elink.&per. If you plan to share aliases
+or batch files between &4OS2. and 4DOS, 4NT, or Take Command, see
 :link reftype=hd refid=Compat.Special Character Compatibility:elink. for
 details about choosing compatible escape characters for two or more products.
 :p.
@@ -2587,7 +2591,7 @@
 any line entered on the
 :link reftype=hd refid=CommandLine.command line:elink.
 or in a :hp1..BAT:ehp1. or :hp1.BTM:ehp1. batch file.
-4OS2 recognizes
+&4OS2. recognizes
 this use of the escape character to signal line continuation&colon. the
 command processor removes the escape character and appends the next line to
 the current line before executing it.
@@ -2597,7 +2601,7 @@
 
 :h1 name=Commands.Commands
 :p.
-The best way to learn the 4OS2 commands is to
+The best way to learn the &4OS2. commands is to
 experiment with them. The lists below categorize the available
 commands by topic and will help you find the ones that you need.
 :p.
@@ -2623,7 +2627,6 @@
 :c.:link reftype=hd refid=SETDOS.SETDOS:elink.
 :row.
 :c.:link reftype=hd refid=TIME.TIME:elink.
-:c.:link reftype=hd refid=VER.VER:elink.
 :c.:link reftype=hd refid=VERIFY.VERIFY:elink.
 :c.:link reftype=hd refid=VOL.VOL:elink.
 :etable.
@@ -2642,7 +2645,6 @@
 :c.:link reftype=hd refid=REN.REN:elink.
 :c.:link reftype=hd refid=SELECT.SELECT:elink.
 :c.:link reftype=hd refid=TOUCH.TOUCH:elink.
-:c.:link reftype=hd refid=TREE.TREE:elink.
 :row.
 :c.:link reftype=hd refid=TYPE.TYPE:elink.
 :etable.
@@ -2878,7 +2880,7 @@
 :exmp.:p.
 With this alias defined, you can probably remove :hp1.C&colon.\QPRO:ehp1. from
 your PATH. Quattro Pro will now load more quickly than it would if
-4OS2 had to search the PATH for it. In addition, the PATH can be
+&4OS2. had to search the PATH for it. In addition, the PATH can be
 shorter, which will speed up searches for other programs.
 :p.
 If you apply this technique for each application program, you can
@@ -2909,8 +2911,8 @@
 :link reftype=hd refid=MultCmds.command separator:elink.,
 and the :link reftype=hd refid=INI_ParameterChar.parameter character:elink.,
 and may also use the :link reftype=hd refid=Escape.escape character:elink.&per.
-These characters differ between 4OS2, 4DOS, 4NT, and Take Command. In
-the text and examples below, we use the 4OS2 characters. If you want to
+These characters differ between &4OS2., 4DOS, 4NT, and Take Command. In
+the text and examples below, we use the &4OS2. characters. If you want to
 use the same aliases under different command processors, see :link reftype=hd
 refid=Compat.Special Character Compatibility:elink.&per.
 :p.
@@ -2950,7 +2952,7 @@
 :p.
 If you put an asterisk [:hp2.*:ehp2.] immediately before a command in the
 :hp1.value:ehp1. of an alias definition (the part after the equal sign),
-it tells 4OS2 not to attempt to interpret that command as another
+it tells &4OS2. not to attempt to interpret that command as another
 (nested) alias. An asterisk used this way must be preceded by a
 space or the command separator and followed immediately by an
 internal or external command name.
@@ -2964,7 +2966,7 @@
     [c&colon.\] alias dir = *dir /2/p
 :exmp.:p.
 If you didn't include the asterisk, the second DIR on the line
-would be the name of the alias itself, and 4OS2 would repeatedly re-
+would be the name of the alias itself, and &4OS2. would repeatedly re-
 invoke the DIR alias, rather than running the DIR command. This
 would cause an "Alias loop" or "Command line too long" error.
 :p.
@@ -3042,7 +3044,7 @@
 of its normal meaning, you must first disable its regular use with
 the :link reftype=hd refid=INI_NormalKey.NormalKey:elink. or
 :link reftype=hd refid=INI_NormalEditKey.NormalEditKey:elink. directives in
-:link reftype=hd refid=INIFile.4OS2.INI:elink.&per.
+:link reftype=hd refid=INIFile.&&4OS2.INI.:elink.&per.
 :p.
 If you define a keystroke alias with a single at sign as shown
 above, then, when you press the :hp2.F5:ehp2. key, the value of the alias
@@ -3055,7 +3057,7 @@
 If you want the keystroke alias to take action automatically
 without waiting for you to edit the command line or press
 :hp2.Enter:ehp2., you can begin the definition with two at signs [:hp2.@@:ehp2.].
-4OS2 will execute the alias "silently," without displaying its text
+&4OS2. will execute the alias "silently," without displaying its text
 on the command line. For example, this command will assign an
 alias to the :hp2.F6:ehp2. key that uses the CDD command to take you back
 to the previous default directory&colon.
@@ -3071,7 +3073,7 @@
 disable its regular use with the :link reftype=hd
 refid=INI_NormalKey.NormalKey:elink. or :link reftype=hd
 refid=INI_NormalEditKey.NormalEditKey:elink. directives in
-:link reftype=hd refid=INIFile.4OS2.INI:elink.&per.
+:link reftype=hd refid=INIFile.&4OS2INI.:elink.&per.
 :p.
 You can also define a keystroke alias by using "@" or "@@" plus a
 scan code for one of the permissible keys (see the
@@ -3133,7 +3135,7 @@
 reference in the alias to :hp2.%3:ehp2. or any higher-numbered parameter
 will be interpreted as an empty string.
 :p.
-The parameter :hp2.%n$:ehp2. has a special meaning. 4OS2 interprets it to
+The parameter :hp2.%n$:ehp2. has a special meaning. &4OS2. interprets it to
 mean "the entire command line, from argument :hp2.n:ehp2. to the end." If
 :hp2.n:ehp2. is not specified, it has a default value of 1, so :hp2.%$:ehp2.
 means "the entire command line after the alias name." The special parameter
@@ -3209,15 +3211,15 @@
 The aliases can be stored in either a "local" or "global" list.
 :p.
 With a local alias list, any changes made to the aliases will only
-affect the current copy of 4OS2. They will not be visible in other
+affect the current copy of &4OS2.. They will not be visible in other
 shells or other sessions.
 :p.
-With a global alias list, all copies of 4OS2 will share the same
+With a global alias list, all copies of &4OS2. will share the same
 alias list, and any changes made to the aliases in one copy will
 affect all other copies. This is the default.
 :p.
 You can control the type of alias list with the
-:link reftype=hd refid=INI_LocalAliases.LocalAliases:elink. directive in :link reftype=hd refid=INIFile.4OS2.INI:elink.,
+:link reftype=hd refid=INI_LocalAliases.LocalAliases:elink. directive in :link reftype=hd refid=INIFile.&4OS2INI.:elink.,
 and with the :hp2./L:ehp2. and :hp2./LA:ehp2. options of the :link reftype=hd refid=START.START:elink.
 command.
 :p.
@@ -3230,11 +3232,11 @@
 :p.
 :hp2.Retaining Global Aliases with SHRALIAS:ehp2.
 :p.
-If you select a global alias list for 4OS2 you can share the
-aliases among all copies of 4OS2 running in any session. When you
-close all 4OS2 sessions, the memory for the global alias list is
+If you select a global alias list for &4OS2. you can share the
+aliases among all copies of &4OS2. running in any session. When you
+close all &4OS2. sessions, the memory for the global alias list is
 released, and a new, empty alias list is created the next time you
-start 4OS2.
+start &4OS2..
 :p.
 If you want the alias list to be retained in memory even when no
 command processor session is running, execute the :link reftype=hd
@@ -3255,7 +3257,7 @@
 :hp2.The UNKNOWN_CMD Alias:ehp2.
 :p.
 If you create an alias with the name :hp2.UNKNOWN_CMD:ehp2., it will be
-executed any time 4OS2 would normally issue an "Unknown command"
+executed any time &4OS2. would normally issue an "Unknown command"
 error message. This allows you to define your own handler for
 unknown commands. When the :hp2.UNKNOWN_CMD:ehp2. alias is executed, the
 command line which generated the error is passed to the alias for
@@ -3525,7 +3527,7 @@
     input Enter your choice&colon. %%option
     if "%option" == "wp" call wp.bat
 :exmp.:p.
-4OS2 supports batch file nesting up to ten levels deep.
+&4OS2. supports batch file nesting up to ten levels deep.
 :p.
 The current ECHO state is inherited by a called batch file, except when the
 :hp2./Q:ehp2.&per.
@@ -3558,7 +3560,7 @@
 .br
 :pt.:hp3.Format&colon.:ehp3.:pd.:hp2.CANCEL [:ehp2.:hp3.value:ehp3. :hp2.]:ehp2.
 .br
-:pt.:pd.:hp3.value :ehp3.&colon. The numeric exit code to return to 4OS2.
+:pt.:pd.:hp3.value :ehp3.&colon. The numeric exit code to return to &4OS2..
 :eparml.:p.
 See also&colon. :link reftype=hd refid=CALL.CALL:elink. and :link reftype=hd refid=QUIT.QUIT:elink.&per.
 :p.
@@ -3821,7 +3823,7 @@
 :xmp.
     [c&colon.\] chcp 850
 :exmp.:p.
-CHCP only affects the current 4OS2 session, and any new programs started
+CHCP only affects the current &4OS2. session, and any new programs started
 from within that session; the active code page in other sessions remains
 unchanged.
 :p.
@@ -4150,7 +4152,7 @@
 short name.
 :p.
 Similarly, if you COPY files with long filenames from a volume supporting long
-filenames to a FAT16 volume, 4OS2 will create the :hp1.destination:ehp1. files
+filenames to a FAT16 volume, &4OS2. will create the :hp1.destination:ehp1. files
 with short, FAT16-compatible names and save the long filenames in the &per.LONGNAME
 extended attribute. The short name is created by replacing special characters
 with underscores, adding numeric digits to the filename (if necessary) to make
@@ -4239,9 +4241,9 @@
 directories contain file descriptions.
 :pt.:hp2./J:ehp2.&colon.:pd.(CMD directory move) CMD copies the 
 directory to the target when the command line aurgument is a directory. 
-By default 4OS2 copies the files in the directory to the target. Using 
-/J makes 4OS2 provide the CMD behavior. This can be set as the default
-by :link reftype=hd refid=INI_CMDDirMvCpy.CMDDirMvCpy:elink.=yes in 4OS2.INI.
+By default &4OS2. copies the files in the directory to the target. Using 
+/J makes &4OS2. provide the CMD behavior. This can be set as the default
+by :link reftype=hd refid=INI_CMDDirMvCpy.CMDDirMvCpy:elink.=yes in &4OS2INI..
 :pt.:hp2./K:ehp2.&colon.:pd.(Keep attributes) To maintain compatibility with
 :hp1.CMD.EXE:ehp1., COPY normally maintains the hidden and system
 attributes, sets the archive attribute, and removes the read-only attribute
@@ -4490,7 +4492,7 @@
 reftype=hd refid=ExtDirSearch.extended directory search:elink. database.
 :pt.:hp2./Y:ehp2.&colon.:pd.(Yes) The reverse of :hp2./P:ehp2. -- it assumes
 a :hp2.Y:ehp2. response to everything, including deleting an entire
-subdirectory tree. 4OS2 normally prompts before deleting files when the
+subdirectory tree. &4OS2. normally prompts before deleting files when the
 name consists only of wildcards or a subdirectory name (see above);
 :hp2./Y:ehp2. overrides this protection, and should be used with extreme
 caution!
@@ -4548,7 +4550,7 @@
 For delays shorter than one second, use the :link reftype=hd
 refid=BEEP.BEEP:elink. command with an inaudible frequency (below 20 Hz).
 :p.
-4OS2 uses the minimum possible processor time during a DELAY, in order to
+&4OS2. uses the minimum possible processor time during a DELAY, in order to
 allow other applications full use of system resources.
 :p.
 You can cancel a delay by pressing :hp2.Ctrl-C:ehp2. or :hp2.Ctrl-Break:ehp2.&per.
@@ -4626,7 +4628,7 @@
 :p.
 Each description can be up to 511 characters long. You can change this
 limit with the :link reftype=hd refid=INI_DescriptionMax.DescriptionMax:elink.
-directive in :link reftype=hd refid=INIFile.4OS2.INI:elink.&per. In order to fit your descriptions on a
+directive in :link reftype=hd refid=INIFile.&4OS2INI.:elink.&per. In order to fit your descriptions on a
 single line in a standard DIR display, keep them to 4o characters or less
 (longer descriptions are wrapped in the DIR output). DESCRIBE can edit
 descriptions longer than DescriptionMax (up to a limit of 511 characters),
@@ -4636,12 +4638,12 @@
 called :hp1.DESCRIPT.ION:ehp1.&per. Use the :link reftype=hd refid=ATTRIB.ATTRIB:elink. command to
 remove the hidden attribute from this file if you need to copy or
 delete it. :hp1.DESCRIPT.ION:ehp1. is always created as a hidden file,
-but will not be re-hidden by 4OS2 if you remove the hidden
+but will not be re-hidden by &4OS2. if you remove the hidden
 attribute.
 :p.
 You can change the description file name with the :link reftype=hd
 refid=SETDOS.SETDOS:elink. /D command, or the :link reftype=hd
-refid=INI_DescriptionName.DescriptionName:elink. directive in 4OS2.INI, and
+refid=INI_DescriptionName.DescriptionName:elink. directive in &4OS2INI., and
 retrieve it with the :link reftype=hd refid=_DName._DName:elink. internal
 variable. Use caution when changing the description file name, as changing
 the name from the default will make it difficult to transfer file
@@ -4656,7 +4658,7 @@
 processing on the :link reftype=hd refid=Options1.Options 1 page:elink. of the
 :link reftype=hd refid=TOC_ConfigurationNotebook.Configuration Notebook:elink.,
 with the :link reftype=hd refid=INI_Descriptions.Descriptions:elink. directive
-in :link reftype=hd refid=INIFile.4OS2.INI:elink., or with
+in :link reftype=hd refid=INIFile.&4OS2INI.:elink., or with
 :link reftype=hd refid=SETDOS.SETDOS:elink. /D.
 :p.
 When you :link reftype=hd refid=COPY.COPY:elink. or :link reftype=hd
@@ -4716,15 +4718,15 @@
 :link reftype=hd refid=RedirPipe.redirection:elink. symbols.
 :p.
 The :hp2.command:ehp2. can be an internal command, external command,
-alias, or batch file. If it is not an external command, 4OS2 will
+alias, or batch file. If it is not an external command, &4OS2. will
 detach a copy of itself to execute the command.
 :p.
-For example, the following command will detach a copy of 4OS2 to
+For example, the following command will detach a copy of &4OS2. to
 run the batch file :hp1.XYZ.BTM:ehp1. &colon.
 :xmp.
     [c&colon.\] detach xyz.btm
 :exmp.:p.
-Once the program has started, 4OS2 returns to the prompt
+Once the program has started, &4OS2. returns to the prompt
 immediately. It does not wait for a detached program to finish.
 :p.
 There is no standard way to stop a detached program. If the program does not
@@ -5054,18 +5056,18 @@
 :link reftype=hd refid=CommandsOption.Commands page:elink. of the
 :link reftype=hd refid=TOC_ConfigurationNotebook.Configuration Notebook:elink.,
 or a text editor to set the :link reftype=hd refid=INI_ColorDir.ColorDir:elink.
-directive in :link reftype=hd refid=INIFile.4OS2.INI:elink.&per. If you do not
+directive in :link reftype=hd refid=INIFile.&4OS2INI.:elink.&per. If you do not
 use the COLORDIR variable or the ColorDir directive, DIR will use the default
 screen colors for all files.
 :p.
 If you use both the COLORDIR variable and the ColorDir directive, the
 environment variable will override the settings in
-:link reftype=hd refid=INIFile.4OS2.INI:elink.&per. You may find it useful to
+:link reftype=hd refid=INIFile.&4OS2INI.:elink.&per. You may find it useful to
 use the COLORDIR variable for experimenting, then to set permanent directory
 colors with the ColorDir directive.
 :p.
 The format for both the COLORDIR environment variable and the ColorDir
-directive in :link reftype=hd refid=INIFile.4OS2.INI:elink. is&colon.
+directive in :link reftype=hd refid=INIFile.&4OS2INI.:elink. is&colon.
 :xmp.
     ext ... &colon.ColorName; ...
 :exmp.:p.
@@ -5135,7 +5137,7 @@
 :link reftype=hd refid=INI_DecimalChar.DecimalChar:elink. settings selected
 on the :link reftype=hd refid=Options1.Options 1 page:elink. of the
 :link reftype=hd refid=TOC_ConfigurationNotebook.Configuration Notebook:elink.
-or in :link reftype=hd refid=INIFile.4OS2.INI:elink.&per.
+or in :link reftype=hd refid=INIFile.&4OS2INI.:elink.&per.
 :p.
 :hp2.Options:ehp2.
 :p.
@@ -5197,7 +5199,7 @@
 :pt.:hp2./E:ehp2.&colon.:pd.Display filenames in the traditional upper case;
 also see :link reftype=hd refid=SETDOS.SETDOS:elink. /U and the
 :link reftype=hd refid=INI_UpperCase.UpperCase:elink. directive in
-:link reftype=hd refid=INIFile.4OS2.INI:elink.&per.
+:link reftype=hd refid=INIFile.&4OS2INI.:elink.&per.
 .br
 :pt.:hp2./F:ehp2.&colon.:pd.(Full path) Display each filename with its
 drive letter and path in a single column, without other information. If you
@@ -5229,7 +5231,7 @@
 :pt.:hp2./L:ehp2.&colon.:pd.(Lower case) Display file and directory names in lower case;
 also see :link reftype=hd refid=SETDOS.SETDOS:elink. /U and the
 :link reftype=hd refid=INI_UpperCase.UpperCase:elink. directive in
-:link reftype=hd refid=INIFile.4OS2.INI:elink.&per.
+:link reftype=hd refid=INIFile.&4OS2INI.:elink.&per.
 .br
 :pt.:hp2./M:ehp2.&colon.:pd.Suppress the footer (file and byte count totals)
 display.
@@ -5284,7 +5286,7 @@
 :pt.:pd.:hp2.  A:ehp2. Archive
 :p.
 On volumes supporting long filenames, if you wish to add another option after :hp2./T:ehp2., you
-must start the next option with a forward slash (:hp2./:ehp2.). If you don't, 4OS2 will
+must start the next option with a forward slash (:hp2./:ehp2.). If you don't, &4OS2. will
 interpret the :hp2./T:ehp2. as the time display switch and the
 following character as a valid or invalid time selector. For example&colon.
 :xmp.
@@ -5345,7 +5347,7 @@
 :p.
 :hp2.Usage:ehp2.
 :p.
-Every time you change to a new directory or drive, 4OS2 records the current
+Every time you change to a new directory or drive, &4OS2. records the current
 directory in an internal directory history list. See :link reftype=hd
 refid=DirHist.Directory History:elink. for information on directory history
 window, which allows you to use the list to return to a previous
@@ -5366,7 +5368,7 @@
 length of each directory name. The list size can be specified at startup
 from 256 to 32767 characters by using the :link reftype=hd
 refid=INI_DirHistory.DirHistory:elink. directive in
-:link reftype=hd refid=INIFile.4OS2.INI:elink.&per.
+:link reftype=hd refid=INIFile.&4OS2INI.:elink.&per.
 :p.
 Your directory history list can be stored either locally (a separate history
 list for each copy of the command processor) or globally (all copies of the
@@ -5424,7 +5426,7 @@
 :hp2.Usage:ehp2.
 :p.
 The PUSHD command adds the current default drive and directory to
-the directory stack, a list that 4OS2 maintains in memory. The
+the directory stack, a list that &4OS2. maintains in memory. The
 POPD command removes the top entry of the directory stack and makes
 that drive and directory the new default. The DIRS command
 displays the contents of the directory stack, with the most recent
@@ -5544,7 +5546,7 @@
 If, between DO and ENDDO, you create a new file that :hp1.could:ehp1. be
 included in the list of files, it may or may not appear in an iteration of
 the DO loop. Whether the new file appears depends upon its physical location
-in the directory structure, a condition over which 4OS2 has no control.
+in the directory structure, a condition over which &4OS2. has no control.
 :p.
 You can also execute the loop once for each line of text in a file by placing
 an [:hp2.@:ehp2.] in front of the filename. If you have a file called
@@ -5622,12 +5624,12 @@
 :link reftype=hd refid=SET.SET:elink. command and edited with the :link reftype=hd refid=ESET.ESET:elink. command.
 :p.
 Directory names in the DPATH must be separated with semicolons
-[:hp2.;:ehp2.]. 4OS2 will :hp2.not:ehp2. shift directory names in
+[:hp2.;:ehp2.]. &4OS2. will :hp2.not:ehp2. shift directory names in
 the DPATH to upper case as it does with those in the PATH setting. If
 you want the names in the DPATH to be in upper case you must
 enter them that way.
 :p.
-If you enter DPATH with no parameters, 4OS2 displays the current DPATH
+If you enter DPATH with no parameters, &4OS2. displays the current DPATH
 search list.
 
 .* --------------------------------------------------------------------------
@@ -5809,7 +5811,7 @@
 :p.
 :hp2.Usage:ehp2.
 :p.
-4OS2 has a separate echo capability for batch files and for the
+&4OS2. has a separate echo capability for batch files and for the
 command line. The command-line ECHO state is independent of the
 batch file ECHO state; changing ECHO in a batch file has no effect
 on the display at the command prompt, and vice versa.
@@ -5850,7 +5852,7 @@
 command, the :link reftype=hd refid=Options1.Options 1 page:elink. of the
 :link reftype=hd refid=TOC_ConfigurationNotebook.Configuration Notebook:elink.,
 or the :link reftype=hd refid=INI_BatchEcho.BatchEcho:elink. directive in
-:link reftype=hd refid=INIFile.4OS2.INI:elink.&per.
+:link reftype=hd refid=INIFile.&4OS2INI.:elink.&per.
 :p.
 If you turn the command-line ECHO on, each command will be
 displayed before it is executed. This will let you see the command
@@ -5994,7 +5996,7 @@
 :p.
 If you have enabled global aliases (see :link reftype=hd
 refid=ALIAS.ALIAS:elink.), any changes made to an alias with ESET will
-immediately affect all other copies of 4OS2 which are using the same alias
+immediately affect all other copies of &4OS2. which are using the same alias
 list.
 :p.
 :hp2.Options:ehp2.
@@ -6070,12 +6072,12 @@
 :hp8.Caution&colon.:ehp8. EXCEPT will not work with programs or commands that ignore the
 hidden attribute or which work explicitly with hidden files,
 including :link reftype=hd refid=DEL.DEL:elink. /Z, and the :hp2./H:ehp2. (process hidden files)
-switch available in some 4OS2 file processing commands.
+switch available in some &4OS2. file processing commands.
 :p.
 :link reftype=hd refid=ExclRanges.File exclusion ranges:elink. provide a
 faster and more flexible method of excluding files from internal commands,
 and do not manipulate file attributes, as EXCEPT does. However, exclusion
-ranges can only be used with 4OS2 internal commands; you must use EXCEPT for
+ranges can only be used with &4OS2. internal commands; you must use EXCEPT for
 external commands.
 :p.
 :link reftype=hd refid=Ranges.Date, time, and size ranges:elink. can be used
@@ -6106,9 +6108,9 @@
 
 .* --------------------------------------------------------------------------
 
-:h2 name=EXIT.EXIT - Exit 4OS2
+:h2 name=EXIT.EXIT - Exit &4OS2.
 :parml compact tsize=12 break=fit.
-:pt.:hp3.Purpose&colon.:ehp3.:pd.Return from 4OS2.
+:pt.:hp3.Purpose&colon.:ehp3.:pd.Return from &4OS2..
 .br
 :pt.:hp3.Format&colon.:ehp3.:pd.:hp2.EXIT [:ehp2.:hp3.value:ehp3. :hp2.]:ehp2.
 .br
@@ -6116,17 +6118,17 @@
 :eparml.:p.
 :hp2.Usage:ehp2.
 :p.
-EXIT terminates the current copy of 4OS2. Use it to return to an
+EXIT terminates the current copy of &4OS2.. Use it to return to an
 application when you have "shelled out" to work at the prompt, or
 to end an OS/2 command-line session.
 :p.
 To close the session, or to return to the application that started
-4OS2, type&colon.
+&4OS2., type&colon.
 :xmp.
     [c&colon.\] exit
 :exmp.:p.
 If you specify a value, EXIT will return that value to the program
-that started 4OS2. For example&colon.
+that started &4OS2.. For example&colon.
 :xmp.
     [c&colon.\] exit 255
 :exmp.:p.
@@ -6134,7 +6136,7 @@
 result, such as the success or failure of a batch file. It can range from
 0 - 4,294,967,295. This feature is most useful for systems which use batch
 files to automate their operation, such as bulletin boards, or custom
-application programs like databases that shell to 4OS2 to perform
+application programs like databases that shell to &4OS2. to perform
 certain tasks.
 
 .* --------------------------------------------------------------------------
@@ -6273,7 +6275,7 @@
 :pt.:hp2./E:ehp2.&colon.:pd.Display filenames in the traditional upper case;
 also see :link reftype=hd refid=SETDOS.SETDOS:elink. /U and the
 :link reftype=hd refid=INI_UpperCase.UpperCase:elink. directive in
-:link reftype=hd refid=INIFile.4OS2.INI:elink.&per.
+:link reftype=hd refid=INIFile.&4OS2INI.:elink.&per.
 :pt.:hp2./I:ehp2.&colon.:pd.(Ignore wildcards) Only meaningful when used in
 conjunction with the :hp2./T"text":ehp2. option. Suppresses the recognition
 of wildcard characters in the search text. This option is useful if you
@@ -6283,7 +6285,7 @@
 each matching text line.
 :pt.:hp2./L:ehp2.&colon.:pd.(Line numbers) Include the line number for each text line
 displayed. FFIND numbers lines beginning with 1, unless :link reftype=hd
-refid=INI_ListRowStart.ListRowStart:elink. is set to 0 in :link reftype=hd refid=INIFile.4OS2.INI:elink.&per. A new line is
+refid=INI_ListRowStart.ListRowStart:elink. is set to 0 in :link reftype=hd refid=INIFile.&4OS2INI.:elink.&per. A new line is
 counted for every CR or LF character (FFIND determines automatically
 which character is used for line breaks in each file), or when line
 length reaches 511 characters, whichever comes first.
@@ -6408,16 +6410,16 @@
 commas, or the switch character (normally a slash [:hp2./:ehp2.]).
 :p.
 FOR includes a large number of options, some of which duplicate functions
-available in other 4OS2 commands, and/or do not follow conventions you may
+available in other &4OS2. commands, and/or do not follow conventions you may
 find in our other commands. Most of these extra options are included for
 compatibility with Windows NT 4.0's :hp1.CMD.EXE:ehp1.&per. However, we make
-them available in 4OS2, 4DOS, and 4NT so that aliases and batch files which
+them available in &4OS2., 4DOS, and 4NT so that aliases and batch files which
 use them can work under all three products.
 :p.
 The first three sections below (:hp2.Working with Files:ehp2., :hp2.Working
 with Text:ehp2., and :hp2.Retrieving Text from Files:ehp2.) describe the
 traditional FOR command and the enhancements to it which are part of
-4OS2. The sections on :hp2.Parsing Text from Files:ehp2. and :hp2.Counted
+&4OS2.. The sections on :hp2.Parsing Text from Files:ehp2. and :hp2.Counted
 FOR Loops:ehp2. describe features added for compatibility of our line of
 text mode products with Windows NT 4.0. The section entitled :hp2.Other
 Notes:ehp2. contains information you may need if you use any aspect of the
@@ -6452,7 +6454,7 @@
 When you use FOR on a volume supporting long filenames, you must quote any filenames within the
 :hp1.set:ehp1. which contain whitespace or special characters. The same
 restriction applies to names returned in the FOR variable, if you pass them
-to 4OS2 internal commands, or other commands which require quoting filenames
+to &4OS2. internal commands, or other commands which require quoting filenames
 with whitespace. FOR does not quote returned names automatically, even if
 you included quotes in the :hp1.set:ehp1.&per. See :link reftype=hd
 refid=Filenames.Filenames:elink. for additional details on
@@ -6497,7 +6499,7 @@
 command also creates one or more new :hp1..TXT:ehp1. files, those new files
 may or may not be processed during the current FOR command, depending upon
 where they are placed in the physical structure of the directory. This is
-an operating system constraint over which 4OS2 have no control. Therefore,
+an operating system constraint over which &4OS2. have no control. Therefore,
 in order to achieve consistent results you should construct FOR commands
 which do not create files that could become part of the :hp1.set:ehp1. for
 the current command.
@@ -6882,7 +6884,7 @@
 :p.
 GOSUB can only be used in batch files.
 :p.
-4OS2 allows subroutines in batch files. A subroutine must start
+&4OS2. allows subroutines in batch files. A subroutine must start
 with a :hp1.label:ehp1. (a colon [:hp2.&colon.:ehp2.] followed by a one-word label
 name) which appears on a line by itself. Case differences are
 ignored when matching labels. Labels may be one or more words long. The
@@ -6902,7 +6904,7 @@
     dir /a/w
     return
 :exmp.:p.
-4OS2 begins its search for the :hp1.label:ehp1. on the next line of the
+&4OS2. begins its search for the :hp1.label:ehp1. on the next line of the
 batch file (after the GOSUB command). If the label is not found between the
 current position and the end of the file, GOSUB will restart the search at
 the beginning of the file. If the label does not exist, the
@@ -7005,11 +7007,11 @@
 external command.
 :eparml.
 .br
-See also&colon. :link reftype=hd refid=HelpSys.The 4OS2 Help System:elink.&per.
+See also&colon. :link reftype=hd refid=HelpSys.The &4OS2. Help System:elink.&per.
 :p.
 :hp2.Usage:ehp2.
 :p.
-Online help is available for 4OS2. The 4OS2 help system uses the OS/2 help
+Online help is available for &4OS2.. The &4OS2. help system uses the OS/2 help
 facility.
 :p.
 See the :hp1.Introduction and Installation Guide:ehp1. for a more thorough
@@ -7024,7 +7026,7 @@
 displays information about the COPY command and its options.
 :p.
 You can configure the HELP command to display OS/2's command-line help
-along with the 4OS2's (the default), display only the 4OS2 help, or display
+along with the &4OS2.'s (the default), display only the &4OS2. help, or display
 some other combination of help "books". For details, see the :link
 reftype=hd refid=INI_HelpBook.HelpBook:elink. directive and your
 :hp1.Introduction and Installation Guide:ehp1.&per.
@@ -7035,7 +7037,7 @@
     help 3
     help sys0003
 :exmp.:p.
-4OS2 will invoke OS/2's HELPMSG program to process these requests, and
+&4OS2. will invoke OS/2's HELPMSG program to process these requests, and
 HELPMSG will display any available information on the message number
 given.
 
@@ -7062,7 +7064,7 @@
 :p.
 :hp2.Usage:ehp2.
 :p.
-4OS2 keeps a list of the commands you have entered on the command
+&4OS2. keeps a list of the commands you have entered on the command
 line. See :link reftype=hd refid=CmdHist.Command History and Recall:elink.
 for information on command recall, which allows you to use the history list
 to repeat or edit commands you have previously executed.
@@ -7084,7 +7086,7 @@
 is 1024 characters.
 :p.
 Your history list can be stored either locally (a separate history
-list for each copy of 4OS2) or globally (all copies of 4OS2 share
+list for each copy of &4OS2.) or globally (all copies of &4OS2. share
 the same list). For full details see the discussion of local and
 global history lists under
 :link reftype=hd refid=CmdHist.Command History and Recall:elink.&per.
@@ -7099,7 +7101,7 @@
 :link reftype=hd refid=CommandLine1Option.Command Line 1 page:elink. of the
 :link reftype=hd refid=TOC_ConfigurationNotebook.Configuration Notebook:elink.,
 or with the :link reftype=hd refid=INI_HistMin.HistMin:elink. directive in
-:link reftype=hd refid=INIFile.4OS2.INI:elink.&per.
+:link reftype=hd refid=INIFile.&4OS2INI.:elink.&per.
 :p.
 You can save the history list by redirecting the output of HISTORY to a
 file. This example saves the command history to a file called
@@ -7187,7 +7189,7 @@
 :p.
 Some examples of IF conditions and commands are included below; additional
 examples can be found in the :hp1.EXAMPLES.BTM:ehp1. file which came with
-4OS2.
+&4OS2..
 :p.
 You can use :link reftype=hd refid=Grouping.command grouping:elink. to
 execute multiple :hp1.commands:ehp1. if the :hp1.condition:ehp1. is
@@ -7208,7 +7210,7 @@
 character. To change the behavior so that IF affects all commands on the
 line, as in :hp1.CMD.EXE:ehp1., set :link reftype=hd
 refid=INI_DuplicateBugs.DuplicateBugs:elink. to Yes in
-:link reftype=hd refid=INIModify.4OS2.INI:elink.&per.
+:link reftype=hd refid=INIModify.&4OS2INI.:elink.&per.
 :p.
 For example, if DuplicateBugs is set to Yes (the default), the following
 command will display nothing, because the second :link reftype=hd
@@ -7583,7 +7585,7 @@
 listing of the key names you can use within the square brackets, and a
 description of the key name format.
 :p.
-If an invalid keystroke is entered, 4OS2 will echo
+If an invalid keystroke is entered, &4OS2. will echo
 the keystroke if possible, beep, move the cursor
 back one character, and wait for another keystroke.
 :pt.:hp2./P:ehp2.&colon.:pd.(Password) Prevents INKEY from echoing the character.
@@ -7664,7 +7666,7 @@
 you do, INPUT will set the variable to the first line it receives, but it
 will set the variable in the "child" process used to handle the right hand
 side fo the pipe. This variable will not be available in the original copy
-of 4OS2 used to start the pipe.
+of &4OS2. used to start the pipe.
 :p.
 :hp2.Options:ehp2.
 :lm margin=4.:parml tsize=8 break=fit.
@@ -7683,7 +7685,7 @@
 input (you will still be able to edit the characters typed before the limit
 was reached).
 :pt.:hp2./N:ehp2.&colon.:pd.(No colors) Disables the use of input colors defined in the
-:link reftype=hd refid=INI_InputColors.InputColors:elink. directive in :link reftype=hd refid=INIFile.4OS2.INI:elink.,
+:link reftype=hd refid=INI_InputColors.InputColors:elink. directive in :link reftype=hd refid=INIFile.&4OS2INI.:elink.,
 and forces INPUT to use the default display colors.
 :pt.:hp2./P:ehp2.&colon.:pd.(Password) Tells INPUT to echo asterisks, instead of the
 characters you type.
@@ -7758,7 +7760,7 @@
 This command is provided for compatibility with the KEYS command in
 :hp1.CMD.EXE:ehp1., which controls the history list in OS/2. The same
 functions are available by setting the :link reftype=hd
-refid=INI_HistMin.HistMin:elink. directive in :link reftype=hd refid=INIFile.4OS2.INI:elink., and
+refid=INI_HistMin.HistMin:elink. directive in :link reftype=hd refid=INIFile.&4OS2INI.:elink., and
 by using the :link reftype=hd refid=HISTORY.HISTORY:elink. command.
 :p.
 The history list collects the commands you type for later recall,
@@ -7784,11 +7786,11 @@
 :xmp.
     [c&colon.\] keys on
 :exmp.:p.
-If you issue the KEYS command without any parameters, 4OS2
+If you issue the KEYS command without any parameters, &4OS2.
 will show you the current status of the history list.
 :p.
-KEYS also affects the way 4OS2 reads input from the keyboard. KEYS
-OFF will force 4OS2 into line input mode; KEYS ON will return input
+KEYS also affects the way &4OS2. reads input from the keyboard. KEYS
+OFF will force &4OS2. into line input mode; KEYS ON will return input
 to the usual character by character method. See the
 :link reftype=hd refid=INI_LineInput.LineInput:elink. directive, or the
 :hp2./L:ehp2. option of the
@@ -7826,14 +7828,14 @@
 input, as it normally would.
 :p.
 KEYSTACK sends the keystrokes to the current active window. If you want to
-send keystrokes to another program (rather than have them function with 4OS2
+send keystrokes to another program (rather than have them function with &4OS2.
 itself), you must start the program or :link reftype=hd
 refid=ACTIVATE.ACTIVATE:elink. its window so it can receive the
 keystrokes. The KEYSTACK command must be executed :hp2.after:ehp2. you
 start or ACTIVATE the program which is to receive the keystrokes.
 :p.
 KEYSTACK is most often used for programs started from batch files. In order
-for 4OS2's KEYSTACK to work in a batch file, you must start the program with
+for &4OS2.'s KEYSTACK to work in a batch file, you must start the program with
 the :link reftype=hd refid=START.START:elink. command, then use the KEYSTACK
 command. If you start the program directly - without using START - the
 batch file will wait for the application to complete before continuing and
@@ -7892,7 +7894,7 @@
 opening screen the keystroke is already in the buffer, and the opening
 screen is removed immediately.
 :p.
-You can store a maximum of 1023 characters in the 4OS2 KEYSTACK
+You can store a maximum of 1023 characters in the &4OS2. KEYSTACK
 buffer. The count is determined by the number of characters on the KEYSTACK
 command line, not by the actual number of characters sent to the application.
 :p.
@@ -8122,12 +8124,12 @@
 :link reftype=hd refid=CommandsOption.Commands page:elink. of the
 :link reftype=hd refid=TOC_ConfigurationNotebook.Configuration Notebook:elink.,
 or the :link reftype=hd refid=INI_Printer.Printer:elink. directive in
-:link reftype=hd refid=INIFile.4OS2.INI:elink.&per.
+:link reftype=hd refid=INIFile.&4OS2INI.:elink.&per.
 :p.
 If you specify a directory name instead of a filename as an argument, LIST
 will display each of the files in that directory.
 :p.
-Most of the LIST keystrokes can be reassigned with :link reftype=hd refid=INIFile.4OS2.INI:elink.
+Most of the LIST keystrokes can be reassigned with :link reftype=hd refid=INIFile.&4OS2INI.:elink.
 :link reftype=hd refid=INIKeyMap.key mapping:elink. directives.
 :p.
 You can set the colors used by LIST on the
@@ -8135,7 +8137,7 @@
 :link reftype=hd refid=TOC_ConfigurationNotebook.Configuration Notebook:elink.,
 or the :link reftype=hd refid=INI_ListColors.ListColors:elink. and
 :link reftype=hd refid=INI_ListStatBarColors.ListStatBarColors:elink.
-directives in :link reftype=hd refid=INIFile.4OS2.INI:elink.&per. If ListColors
+directives in :link reftype=hd refid=INIFile.&4OS2INI.:elink.&per. If ListColors
 is not used, the LIST display will use the current default colors. If
 ListStatBarColors is not used, the status bar will use the reverse of the LIST
 display colors.
@@ -8144,7 +8146,7 @@
 behavior on the :link reftype=hd refid=DisplayOption.Display page:elink. of the
 :link reftype=hd refid=TOC_ConfigurationNotebook.Configuration Notebook:elink.,
 or with the :link reftype=hd refid=INI_TabStops.TabStops:elink.
-:link reftype=hd refid=INIFile.4OS2.INI:elink. directive.
+:link reftype=hd refid=INIFile.&4OS2INI.:elink. directive.
 :p.
 :hp2.Options:ehp2.
 :lm margin=4.:parml compact tsize=8 break=fit.
@@ -8203,7 +8205,7 @@
 :hp1.file:ehp1.&per. This option is the same as pressing :hp2.F:ehp2., but it
 allows you to specify the search text on the command line. The text must be
 contained in quotation marks if it contains spaces, punctuation, or wildcard
-characters. For example, to search for the string 4OS2 in the file
+characters. For example, to search for the string &4OS2. in the file
 :hp1.README.DOC:ehp1., you can use this command&colon.
 :xmp.
     [c&colon.\] list /t4os2 readme.doc
@@ -8242,7 +8244,7 @@
 :eparml.:p.
 :hp2.Usage:ehp2.
 :p.
-4OS2 recognizes two kinds of :link reftype=hd refid=Batch.batch
+&4OS2. recognizes two kinds of :link reftype=hd refid=Batch.batch
 files:elink.&colon. :hp1..BAT:ehp1. or :hp1..CMD:ehp1., and
 :hp1..BTM:ehp1.&per. Batch files executing in BTM mode run two to ten times
 faster than in BAT or CMD mode. Batch files automatically start in the mode
@@ -8303,7 +8305,7 @@
 :link reftype=hd refid=TOC_ConfigurationNotebook.Configuration Notebook:elink.,
 or with the :link reftype=hd refid=INI_LogName.LogName:elink. and
 :link reftype=hd refid=INI_HistLogName.HistLogName:elink. directives in
-:link reftype=hd refid=INIFile.4OS2.INI:elink.&per.
+:link reftype=hd refid=INIFile.&4OS2INI.:elink.&per.
 :p.
 Entering LOG or LOG /H with no parameters displays the name of the log file
 and the log status (ON or OFF)&colon.
@@ -8606,7 +8608,7 @@
 short name.
 :p.
 Similarly, if you MOVE files with long filenames from a volume supporting long
-filenames to a FAT16 volume, 4OS2 will create the :hp1.destination:ehp1. files
+filenames to a FAT16 volume, &4OS2. will create the :hp1.destination:ehp1. files
 with short, FAT-compatible names and save the long filenames in the &per.LONGNAME
 extended attribute. The short name is created by replacing special characters
 with underscores, adding numeric digits to the filename (if necessary) to make
@@ -8662,9 +8664,9 @@
 :hp1.destination:ehp1. directories contain file descriptions.
 :pt.:hp2./J:ehp2.&colon.:pd.(CMD directory move) CMD moves the 
 directory to the target when the command line aurgument is a directory. 
-By default 4OS2 moves the files in the directory to the target. Using 
-/J makes 4OS2 provide the CMD behavior. This can be set as the default
-by :link reftype=hd refid=INI_CMDDirMvCpy.CMDDirMvCpy:elink.=yes in 4OS2.INI.
+By default &4OS2. moves the files in the directory to the target. Using 
+/J makes &4OS2. provide the CMD behavior. This can be set as the default
+by :link reftype=hd refid=INI_CMDDirMvCpy.CMDDirMvCpy:elink.=yes in &4OS2INI..
 :pt.:hp2./M:ehp2.&colon.:pd.(Modified files) Move only files that have the
 archive bit set. The archive bit will remain set after the MOVE; to clear it
 use :link reftype=hd refid=ATTRIB.ATTRIB:elink.&per.
@@ -8736,7 +8738,7 @@
 ON ERROR and ON ERRORMSG will execute the :hp1.command:ehp1. after any
 command processor or operating system error (including :link reftype=hd
 refid=CritErr.critical errors:elink.). That is, they will detect errors
-such as a disk write error, and 4OS2 errors such as a COPY command that
+such as a disk write error, and &4OS2. errors such as a COPY command that
 fails to copy any files, or the use of an unacceptable command option.
 :p.
 ON ERROR executes the :hp1.command:ehp1. immediately after the error occurs,
@@ -8820,13 +8822,13 @@
 :pt.:pd.:hp3.optname :ehp3.&colon. An INI file directive to set or modify.
 :pt.:pd.:hp3.value :ehp3.&colon. A new value for that directive.
 :eparml.:p.
-See also&colon. :link reftype=hd refid=INIFile.4OS2.INI:elink.&per.
+See also&colon. :link reftype=hd refid=INIFile.&4OS2INI.:elink.&per.
 :p.
 :hp2.Usage:ehp2.
 :p.
 When run without parameters, OPTION displays a settings notebook which allows
 you to modify many of the configuration options stored in
-:link reftype=hd refid=INIFile.4OS2.INI:elink.&per.
+:link reftype=hd refid=INIFile.&4OS2INI.:elink.&per.
 :p.
 See
 :link reftype=hd refid=TOC_ConfigurationNotebook.Configuration Notebook:elink.
@@ -8851,7 +8853,7 @@
 batch files which depend on certain options being in effect.
 :p.
 Changes made with :hp2.//:ehp2. are temporary. They will not be saved in
-:link reftype=hd refid=INIFile.4OS2.INI:elink., even if you subsequently load the
+:link reftype=hd refid=INIFile.&4OS2INI.:elink., even if you subsequently load the
 :link reftype=hd refid=TOC_ConfigurationNotebook.Configuration Notebook:elink.
 and click :hp2.Save:ehp2.&per.
 
@@ -8860,7 +8862,7 @@
 :h2 name=PATH.PATH - Set the executable file search path
 :parml compact tsize=12 break=fit.
 :pt.:hp3.Purpose&colon.:ehp3.:pd.Display or alter the list of directories
-that 4OS2 will search for executable files, batch files, and files with
+that &4OS2. will search for executable files, batch files, and files with
 executable extensions that are not in the current directory.
 .br
 :pt.:hp3.Format&colon.:ehp3.:pd.:hp2.PATH [:ehp2.:hp3.directory:ehp3.
@@ -8872,13 +8874,13 @@
 :p.
 :hp2.Usage:ehp2.
 :p.
-When 4OS2 is asked to execute an external command (a :hp1..COM:ehp1.,
+When &4OS2. is asked to execute an external command (a :hp1..COM:ehp1.,
 :hp1..EXE:ehp1., :hp1..BTM:ehp1., :hp1..BAT:ehp1., or :hp1..CMD:ehp1. file or executable
 extension), it first looks for the file in the current directory.
 If it fails to find an executable file there, it then searches each
 of the :hp1.directories:ehp1. specified in the PATH setting.
 :p.
-For example, after the following PATH command, 4OS2 will search for
+For example, after the following PATH command, &4OS2. will search for
 an executable file in four directories&colon. the current directory,
 then the root directory on drive C, then the :hp1.DOS:ehp1. subdirectory
 on C, and then the :hp1.UTIL:ehp1. subdirectory on C&colon.
@@ -8909,7 +8911,7 @@
 :p.
 Some applications also use the PATH to search for their data files.
 :p.
-4OS2 normally searches the path for files with the extensions
+&4OS2. normally searches the path for files with the extensions
 :hp1..COM:ehp1., :hp1..EXE:ehp1., :hp1..BTM:ehp1., :hp1..CMD:ehp1., and :hp1..BAT:ehp1.
 (in that order). However, if you include an explicit file extension on
 a command name (for example, :hp1.WP.EXE:ehp1.), the search will find
@@ -8919,12 +8921,12 @@
 :p.
 The standard list of extensions for which to search can be modified by
 setting :link reftype=hd refid=INI_PathExt.PathExt:elink. to Yes in
-:link reftype=hd refid=INIFile.4OS2.INI:elink., then setting the :link reftype=hd
+:link reftype=hd refid=INIFile.&4OS2INI.:elink., then setting the :link reftype=hd
 refid=PATHEXT.PATHEXT:elink. variable.
 :p.
 If you have an entry in the path which consists of a single period
 [:hp2..:ehp2.], the current directory will :hp2.not:ehp2. be searched first,
-but instead will be searched when 4OS2 reaches the ":hp2..:ehp2." in the
+but instead will be searched when &4OS2. reaches the ":hp2..:ehp2." in the
 path. This allows you to delay the search of the current directory for
 executable files and files with executable extensions. In rare
 cases, this feature may not be compatible with applications which
@@ -9106,19 +9108,19 @@
     Fri  Dec 2, 2014 10&colon.29&colon.19
     [c&colon.\]
 :exmp.:p.
-The 4OS2 prompt can be set in :hp1.CONFIG.SYS:ehp1. (see
+The &4OS2. prompt can be set in :hp1.CONFIG.SYS:ehp1. (see
 below), and the prompt for any command processor can be set in
 :link reftype=hd refid=AutoBatch.4START:elink., or in any batch file that
-runs when 4OS2 starts.
+runs when &4OS2. starts.
 :p.
-The 4OS2 default prompt is :hp2.[$n]:ehp2. (drive name in square brackets)
+The &4OS2. default prompt is :hp2.[$n]:ehp2. (drive name in square brackets)
 on floppy drives, and :hp2.[$p]:ehp2. (current drive and directory in
 square brackets) on all other drives. When OS/2 is installed, it
 inserts a SET PROMPT statement in :hp1.CONFIG.SYS:ehp1. to set the prompt
-to :hp2.$i[$p]:ehp2.&per. This prompt will override the 4OS2 defaults. The
+to :hp2.$i[$p]:ehp2.&per. This prompt will override the &4OS2. defaults. The
 :hp2.$i:ehp2. adds a header line to the default prompt to remind you of
 certain OS/2 keystrokes. You must delete this statement if you
-want to use the default 4OS2 prompt.
+want to use the default &4OS2. prompt.
 :p.
 If you enter PROMPT with no arguments, the prompt will be reset to
 its default value. The PROMPT command sets the environment
@@ -9174,10 +9176,10 @@
 :exmp.:p.
 A few older batch files use the PROMPT command to transmit
 :hp1.ANSI.SYS:ehp1. control sequences to the screen (for example, to redefine
-function keys). This technique will not work with 4OS2, because it
+function keys). This technique will not work with &4OS2., because it
 doesn't display a prompt within batch files; hence, the characters in the
 PROMPT string are never sent to :hp1.ANSI.SYS:ehp1.&per. To send ANSI sequences
-in 4OS2, use the :link reftype=hd refid=ECHO.ECHO:elink. command,
+in &4OS2., use the :link reftype=hd refid=ECHO.ECHO:elink. command,
 substituting an :link reftype=hd refid=Escape.escape character:elink.
 followed by an :hp2.e:ehp2. for :hp2.$e:ehp2. in the PROMPT string.
 :p.
@@ -9273,7 +9275,7 @@
 .br
 :pt.:hp3.Format&colon.:ehp3.:pd.:hp2.QUIT [:ehp2.:hp3.value:ehp3. :hp2.]:ehp2.
 .br
-:pt.:pd.:hp3.value :ehp3.&colon. The numeric exit code to return to 4OS2 or
+:pt.:pd.:hp3.value :ehp3.&colon. The numeric exit code to return to &4OS2. or
 to the previous batch file.
 :eparml.:p.
 See also&colon. :link reftype=hd refid=CANCEL.CANCEL:elink.&per.
@@ -9377,7 +9379,7 @@
 :p.
 REBOOT flushes the disk buffers, resets the drives, and waits one
 second before rebooting, to allow disk caching programs to finish
-writing any cached data. 4OS2 issues commands to shut down OS/2
+writing any cached data. &4OS2. issues commands to shut down OS/2
 before rebooting.
 :p.
 REBOOT uses the DOS.SYS device driver to reboot your
@@ -9412,7 +9414,7 @@
 procedures you have used.
 :p.
 REM must be followed by a space or tab character and then your
-comment. Comments can be up to 1023 characters long. 4OS2 will normally
+comment. Comments can be up to 1023 characters long. &4OS2. will normally
 ignore everything on the line after the REM command, including
 quote characters, redirection symbols, and other commands (see
 below for the exception to this rule).
@@ -9436,7 +9438,7 @@
 :exmp.:p.
 (This capability is included for compatibility with
 :hp1.CMD.EXE:ehp1.&per. A simpler method for creating a zero-byte file
-with 4OS2 is to use :hp2.>filename:ehp2. as a command, with no actual
+with &4OS2. is to use :hp2.>filename:ehp2. as a command, with no actual
 command before the [:hp2.>:ehp2.] redirection character.)
 
 .* --------------------------------------------------------------------------
@@ -9591,7 +9593,7 @@
 :p.
 :hp2.Usage:ehp2.
 :p.
-4OS2 allows subroutines in batch files.
+&4OS2. allows subroutines in batch files.
 :p.
 A subroutine begins with a label (a colon followed by a word) and
 ends with a RETURN command.
@@ -9833,7 +9835,7 @@
 or using the :link reftype=hd refid=CommandsOption.Commands page:elink. of the
 :link reftype=hd refid=TOC_ConfigurationNotebook.Configuration Notebook:elink.
 or a text editor to set the :link reftype=hd refid=INI_ColorDir.ColorDir:elink.
-directive in :link reftype=hd refid=INIFile.4OS2.INI:elink.&per. If you do not
+directive in :link reftype=hd refid=INIFile.&4OS2INI.:elink.&per. If you do not
 use the COLORDIR variable or the ColorDir directive, SELECT will use the default
 screen colors for all files. See the discussion of color-coded directories under
 :link reftype=hd refid=DIR.DIR:elink. for more details. To disable directory
@@ -9844,7 +9846,7 @@
 :link reftype=hd refid=TOC_ConfigurationNotebook.Configuration Notebook:elink.
 or with the :link reftype=hd refid=INI_SelectColors.SelectColors:elink. and
 :link reftype=hd refid=INI_SelectStatBarColors.SelectStatBarColors:elink.
-directives in :link reftype=hd refid=INIFile.4OS2.INI:elink.&per. If SelectColors is not used, the
+directives in :link reftype=hd refid=INIFile.&4OS2INI.:elink.&per. If SelectColors is not used, the
 SELECT display will use the current default colors. If SelectStatBarColors
 is not used, the status bar will use the reverse of the SELECT colors.
 :p.
@@ -9933,7 +9935,7 @@
 sensitive. You can use wildcards and extended wildcards as part
 of the text.
 :p.
-When sorting filenames and extensions for the SELECT display, 4OS2
+When sorting filenames and extensions for the SELECT display, &4OS2.
 normally assumes that sequences of digits should be sorted
 numerically (for example, the file DRAW2 would come before DRAW03
 because 2 is numerically smaller than 03), rather than strictly
@@ -9967,7 +9969,7 @@
 :pt.:hp2./E:ehp2.:pd.(use upper case) Display filenames upper case; also
 see :link reftype=hd refid=SETDOS.SETDOS:elink. /U
 and the :link reftype=hd refid=INI_UpperCase.UpperCase :elink. directive in
-:link reftype=hd refid=INIFile.4OS2.INI:elink.&per.
+:link reftype=hd refid=INIFile.&4OS2INI.:elink.&per.
 .br
 :pt.:hp2./H:ehp2.:pd.(Hide dots) Suppress the display of the "." and ".."
 directories.
@@ -9984,7 +9986,7 @@
 :pt.:hp2./L:ehp2.:pd.(Lower case) Display file and directory names in lower
 case; also see :link reftype=hd refid=SETDOS.SETDOS:elink. /U and the
 :link reftype=hd refid=INI_UpperCase.UpperCase:elink. directive in
-:link reftype=hd refid=INIFile.4OS2.INI:elink.&per.
+:link reftype=hd refid=INIFile.&4OS2INI.:elink.&per.
 .br
 :pt.:hp2./O:ehp2.&colon.:pd.(Order) Set the sort order for the files. The
 order can be any combination of the following options&colon.
@@ -10060,7 +10062,7 @@
 :xmp.
     [c&colon.\] set mine=c&colon.\finance\myfiles
 :exmp.:p.
-The variable name is converted to upper case by 4OS2. The text after the
+The variable name is converted to upper case by &4OS2.. The text after the
 equal sign will be left just as you entered it. If the variable already
 exists, its value will be replaced with the new text that you entered.
 :p.
@@ -10070,7 +10072,7 @@
 :hp1.value:ehp1.&per.
 :p.
 If you use SET to create a variable with the same name as one of
-the 4OS2 :link reftype=hd refid=IntVars.internal variables:elink., you will disable the
+the &4OS2. :link reftype=hd refid=IntVars.internal variables:elink., you will disable the
 internal variable. If you later execute a batch file or alias that
 depends upon that internal variable, it may not operate correctly.
 :p.
@@ -10088,14 +10090,14 @@
 The variable :hp1.name:ehp1. is limited to a maximum of 80 characters.
 The name and :hp1.value:ehp1. together cannot be longer than 1,023 characters.
 :p.
-In 4OS2 the size of the environment is set automatically, and
+In &4OS2. the size of the environment is set automatically, and
 increased as necessary as you add variables.
 :p.
-4OS2 supports the "pseudo-variables" :hp2.BeginLIBPath:ehp2. and
+&4OS2. supports the "pseudo-variables" :hp2.BeginLIBPath:ehp2. and
 :hp2.EndLIBPath:ehp2. introduced in OS/2 Warp. If you use either of these
-as a variable name, 4OS2 will pass the library path information from the SET
+as a variable name, &4OS2. will pass the library path information from the SET
 command to the operating system, but the variables will not appear in the
-environment. Additionally, 4OS2 supports the "pseudo-variable"
+environment. Additionally, &4OS2. supports the "pseudo-variable"
 :hp2.LIBPATHSTRICT:ehp2. introduced in OS/2 Warp Convenience Package. See your
 OS/2 documentation for more information about these "variables".
 :p.
@@ -10108,7 +10110,7 @@
 :pt.:hp2./R:ehp2.&colon.:pd.(Read) Read environment variables from a
 file. This is much faster than loading variables from a batch file with
 multiple SET commands. Each entry in the file must fit within the
-1,023-byte command-line length limit for 4OS2. The file is in the same
+1,023-byte command-line length limit for &4OS2.. The file is in the same
 format as the SET display (:hp1.i.e.:ehp1., :hp3.name:ehp3.
 =:hp3.value:ehp3. ), so SET /R can accept as input a file generated by
 redirecting SET output. For example, the following commands will save the
@@ -10130,9 +10132,9 @@
 
 .* --------------------------------------------------------------------------
 
-:h2 name=SETDOS.SETDOS - Set the 4OS2 configuration
+:h2 name=SETDOS.SETDOS - Set the &4OS2. configuration
 :parml compact tsize=12 break=fit.
-:pt.:hp3.Purpose&colon.:ehp3.:pd.Display or set the 4OS2 configuration.
+:pt.:hp3.Purpose&colon.:ehp3.:pd.Display or set the &4OS2. configuration.
 .br
 :pt.:hp3.Format&colon.:ehp3.:pd.:hp2.SETDOS [/A? /B? /C? /D? /E? /Fn.n /G??
 /I+&splitvbar.-:ehp2. :hp3.command:ehp3. :hp2./L? /M? /N? /P? /R? /S?&colon.?
@@ -10151,16 +10153,16 @@
 .br
 :hp2.Usage:ehp2.
 :p.
-SETDOS allows you to customize certain aspects of 4OS2 to suit your
+SETDOS allows you to customize certain aspects of &4OS2. to suit your
 personal tastes or the configuration of your system. Each of these
 options is described below.
 :p.
 You can display the value of all SETDOS options by entering the
 SETDOS command with no parameters.
 :p.
-Most of the SETDOS options can be initialized when 4OS2 executes
+Most of the SETDOS options can be initialized when &4OS2. executes
 the :link reftype=hd refid=INIConfig.configuration directives:elink. in
-:link reftype=hd refid=INIFile.4OS2.INI:elink., and can also be set on the
+:link reftype=hd refid=INIFile.&4OS2INI.:elink., and can also be set on the
 :link reftype=hd refid=CommandLine1Option.Command Line 1:elink.,
 :link reftype=hd refid=CommandLine2Option.Command Line 2:elink.,
 :link reftype=hd refid=Options1.Options 1:elink., or
@@ -10169,7 +10171,7 @@
 The name of the corresponding directive is listed with each option below; if
 none is listed, that option cannot be set using the
 :link reftype=hd refid=TOC_ConfigurationNotebook.Configuration Notebook:elink.
-or in :link reftype=hd refid=INIFile.4OS2.INI:elink.&per. You can also define
+or in :link reftype=hd refid=INIFile.&4OS2INI.:elink.&per. You can also define
 the SETDOS options in your :hp1.AUTOEXEC.BAT:ehp1., :hp1.4START:ehp1., or other
 startup file
 (see :link reftype=hd refid=AutoBatch.Automatic Batch Files:elink.), in aliases,
@@ -10177,7 +10179,7 @@
 :p.
 Secondary shells automatically inherit most configuration settings
 currently in effect in the previous shell. If values have been
-changed by SETDOS since 4OS2 started, the new values will be passed
+changed by SETDOS since &4OS2. started, the new values will be passed
 to the secondary shell.
 :p.
 SETDOS /I settings are not inherited by secondary shells. If you
@@ -10188,7 +10190,7 @@
 :hp2.Options:ehp2.
 :lm margin=4.:parml compact tsize=8 break=fit.
 :pt.:hp2./B:ehp2.&colon.:pd.(Bright background) This option determines
-whether 4OS2 configures your video adapter for blinking text
+whether &4OS2. configures your video adapter for blinking text
 (:hp2./B0:ehp2., the default) or bright background colors (:hp2./B1:ehp2.),
 or leave the video bright / blink configuration unchanged
 (:hp2./B2:ehp2.). See :link reftype=hd refid=Colors.Colors and Color
@@ -10207,7 +10209,7 @@
 :xmp.
     [c&colon.\] setdos /c~
 :exmp.:p.
-If you want to share batch files or aliases among 4DOS, 4OS2, 4NT, and
+If you want to share batch files or aliases among 4DOS, &4OS2., 4NT, and
 Take Command, see the :link reftype=hd refid=PLUS.%+:elink. variable, which
 retrieves the current command separator, and :link reftype=hd
 refid=Compat.Special Character Compatibility:elink. for
@@ -10252,7 +10254,7 @@
 :hp2.n:ehp2., :hp2.q:ehp2., :hp2.r:ehp2., :hp2.s:ehp2., and :hp2.t:ehp2.)
 have special meanings when immediately preceded by the escape character.
 :p.
-If you want to share batch files or aliases among 4DOS, 4OS2, 4NT, and
+If you want to share batch files or aliases among 4DOS, &4OS2., 4NT, and
 Take Command, see the :link reftype=hd refid=EQUALS.%=:elink. variable, which
 retrieves the current escape character, and :link reftype=hd
 refid=Compat.Special Character Compatibility:elink. for details on using
@@ -10297,18 +10299,18 @@
 enable internal commands. To disable a command, precede the command name
 with a minus [:hp2.-:ehp2.]. To re-enable a command, precede it with a plus
 [:hp2.+:ehp2.]. For example, to disable the internal LIST command to force
-4OS2 to use an external command&colon.
+&4OS2. to use an external command&colon.
 :xmp.
     [c&colon.\] setdos /i-list
 :exmp.
 .br
-:pt.:hp2./L:ehp2.&colon.:pd.(Line) This option controls how 4OS2 gets its
-input from the command line. :hp2./L0:ehp2. tells 4OS2 to
+:pt.:hp2./L:ehp2.&colon.:pd.(Line) This option controls how &4OS2. gets its
+input from the command line. :hp2./L0:ehp2. tells &4OS2. to
 use character input (the default). :hp2./L1:ehp2. tells it
 to use line input (like :hp1.CMD.EXE:ehp1. ). :hp2./L1:ehp2. will
 disable command-line editing, history recall,
 :link reftype=hd refid=FileComp.filename completion:elink., and
-the directory history window, and will reduce the 4OS2 input length limit
+the directory history window, and will reduce the &4OS2. input length limit
 from 1023 characters to 255 characters. It should only be used if it is
 needed for compatibility with a specific program. If you have a program
 that requires line input, you can use the following line in an alias or
@@ -10349,14 +10351,14 @@
 refid=SETLOCAL.SETLOCAL:elink. and restored by :link reftype=hd
 refid=ENDLOCAL.ENDLOCAL:elink.&per.
 :p.
-If you want to share batch files or aliases among 4DOS, 4OS2, 4NT, and
+If you want to share batch files or aliases among 4DOS, &4OS2., 4NT, and
 Take Command, see :link reftype=hd refid=Compat.Special Character
 Compatibility:elink. for details on selecting compatible parameter
 characters for all the products you use. Also see the
 :link reftype=hd refid=INI_ParameterChar.ParameterChar:elink. directive.
 .br
 :pt.:hp2./R:ehp2.&colon.:pd.(Rows) This option sets the number of screen
-rows used by the video display. Normally 4OS2 detects the screen size, but
+rows used by the video display. Normally &4OS2. detects the screen size, but
 if you have a non-standard display you may need to set it explicitly. This
 option does not affect screen scrolling (which is controlled by your video
 driver). It also does not :hp2.set:ehp2. the screen size; it is used only
@@ -10376,7 +10378,7 @@
 size from 0% - 100%. To disable the cursor, enter
 :hp2./S0&colon.0:ehp2.&per.
 :p.
-If either value is -1, 4OS2 will not attempt to modify the cursor shape at
+If either value is -1, &4OS2. will not attempt to modify the cursor shape at
 all. You can use this feature to give another program full control of the
 cursor shape. You can retrieve the current cursor shape values with the
 :link reftype=hd refid=_CI.%_CI:elink. and :link reftype=hd
@@ -10408,7 +10410,7 @@
 command(s) within it. :hp2./V2:ehp2. is intended for debugging, and can be
 set with SETDOS, but not using the
 :link reftype=hd refid=TOC_ConfigurationNotebook.Configuration Notebook:elink.
-or the BatchEcho directive in :link reftype=hd refid=INIFile.4OS2.INI:elink.&per.
+or the BatchEcho directive in :link reftype=hd refid=INIFile.&4OS2INI.:elink.&per.
 :p.
 For more information on batch file debugging see :link reftype=hd
 refid=BatchDebug.Debugging Batch Files:elink. and :hp2./Y:ehp2. below.
@@ -10420,7 +10422,7 @@
 strings which may contain special characters.
 :p.
 The features enabled or disabled by :hp2./X:ehp2. are numbered. All
-features are enabled when 4OS2 starts, and you can re-enable all features at
+features are enabled when &4OS2. starts, and you can re-enable all features at
 any time by using :hp2./X0:ehp2.&per. To disable a particular feature, use
 :hp2./X-n:ehp2., where :hp2.n:ehp2. is the feature number from the list
 below. To re-enable the feature, use :hp2./X+n:ehp2.&per. To enable or disable
@@ -10468,7 +10470,7 @@
 :p.
 You cannot use the batch debugger with :link reftype=hd
 refid=REXX.REXX:elink. files or :link reftype=hd
-refid=EXTPROC.EXTPROC:elink. files. It can only be used with normal 4OS2
+refid=EXTPROC.EXTPROC:elink. files. It can only be used with normal &4OS2.
 batch files.
 :p.
 You can also invoke SETDOS /Y1 from the prompt, but because the debugger is
@@ -10536,7 +10538,7 @@
 :hp2.Usage:ehp2.
 :p.
 SHIFT is provided for compatibility with older batch files, where
-it was used to access more than 10 parameters. 4OS2 supports 128
+it was used to access more than 10 parameters. &4OS2. supports 128
 parameters (%0 to %127), so you may not need to use SHIFT for batch
 files running exclusively under JP Software command processors.
 :p.
@@ -10592,15 +10594,15 @@
 .br
 :hp2.Usage:ehp2.
 :p.
-When you close all 4OS2 sessions, the memory for the global command history,
+When you close all &4OS2. sessions, the memory for the global command history,
 global directory history, and global alias list is released. If you want
 the lists to be retained in memory even when no command processor session is
 running, you need to execute SHRALIAS.
 :p.
 The SHRALIAS command starts and initializes :hp1.SHRALIAS.EXE:ehp1., a small
-program which remains active and retains global lists when 4OS2 is not
+program which remains active and retains global lists when &4OS2. is not
 running. In order to start the program, SHRALIAS must be able to find
-:hp1.SHRALIAS.EXE:ehp1. either in the same directory as 4OS2, or in a
+:hp1.SHRALIAS.EXE:ehp1. either in the same directory as &4OS2., or in a
 directory in your PATH. You cannot run :hp1.SHRALIAS.EXE:ehp1. directly, it
 must be run by the SHRALIAS command.
 :p.
@@ -10608,11 +10610,11 @@
 until you use :hp2.SHRALIAS /U:ehp2. to unload the lists, or until you shut
 down your operating system.
 :p.
-SHRALIAS will not work unless you have at least one copy of 4OS2 running
+SHRALIAS will not work unless you have at least one copy of &4OS2. running
 with global alias, command history, and directory history lists enabled. If
 the required global lists are not found, SHRALIAS will display an error.
 :p.
-If you start SHRALIAS from a temporary 4OS2 session which exits after
+If you start SHRALIAS from a temporary &4OS2. session which exits after
 starting SHRALIAS (for example, by executing SHRALIAS in your OS/2
 :hp1.STARTUP.CMD:ehp1. file), the command processor session may terminate
 and discard the shared lists before SHRALIAS can attach to them. In this
@@ -10632,7 +10634,7 @@
 :pt.:hp2./U:ehp2.&colon.:pd.(Unload) Shuts down :hp1.SHRALIAS.EXE.:ehp1. If
 SHRALIAS is not loaded again, the memory used by global command history,
 directory history, and alias lists will be released when the last copy of
-4OS2 exits.
+&4OS2. exits.
 :eparml.:lm margin=1.
 
 .* --------------------------------------------------------------------------
@@ -10741,10 +10743,10 @@
 for the application type. A DOS application cannot be run as part
 of a Presentation Manager session, for example, even if you use the
 :hp2./PM:ehp2. switch. Invalid or conflicting options will be ignored.
-4OS2 will always attempt to run the command in the appropriate type of
+&4OS2. will always attempt to run the command in the appropriate type of
 session.
 :p.
-If the program is a DOS application or :hp1..BAT:ehp1. file, 4OS2 will
+If the program is a DOS application or :hp1..BAT:ehp1. file, &4OS2. will
 start a new DOS session to run it. The DOS session will close itself
 automatically as soon as the program or batch file ends, unless
 :hp2./K:ehp2. is used. If you want the session to wait for a keystroke
@@ -10753,7 +10755,7 @@
 :xmp.
     [c&colon.\] start /DOS command ^^ pause
 :exmp.:p.
-(Because the caret [:hp2.^:ehp2.] is the default 4OS2 escape character,
+(Because the caret [:hp2.^:ehp2.] is the default &4OS2. escape character,
 two carets must be used in order to pass one on to 4DOS as a
 command separator.)
 :p.
@@ -10819,7 +10821,7 @@
 all; experimentation is usually required to find out what works. Attempting
 to use strings for choice items (:hp1.e.g.:ehp1., DOS_HIGH=ON) will not
 work, and can hang your system.  This is due to the internal operation of
-OS/2, and is not a problem in 4OS2.
+OS/2, and is not a problem in &4OS2..
 :p.
 A typical DOS settings file might look like this&colon.
 :xmp.
@@ -10860,16 +10862,16 @@
 :pt.:hp2./K:ehp2.&colon.:pd.(Keep session or window at end) The session or window
 continues after the application program ends. Use
 the :link reftype=hd refid=EXIT.EXIT:elink. command to end the session.
-:pt.:hp2./L:ehp2.&colon.:pd.(Local lists) Start 4OS2 with local alias,
+:pt.:hp2./L:ehp2.&colon.:pd.(Local lists) Start &4OS2. with local alias,
 history, and directory history lists. This option combines the effects of
 :hp2./LA:ehp2., :hp2./LD:ehp2., and :hp2./LH:ehp2. (below).
-:pt.:hp2./LA:ehp2.&colon.:pd.(Local Alias list) Start 4OS2 with a local alias
+:pt.:hp2./LA:ehp2.&colon.:pd.(Local Alias list) Start &4OS2. with a local alias
 list.See :link reftype=hd refid=ALIAS.ALIAS:elink. for information on local
 and global aliases.
-:pt.:hp2./LD:ehp2.&colon.:pd.(Local Directory history) Start 4OS2 with a local
+:pt.:hp2./LD:ehp2.&colon.:pd.(Local Directory history) Start &4OS2. with a local
 directory history list. See :link reftype=hd refid=GlobalDirHistory.Local and Global Directory History:elink.
 for more information.
-:pt.:hp2./LH:ehp2.&colon.:pd.(Local History list) Start 4OS2 with a local history list.
+:pt.:hp2./LH:ehp2.&colon.:pd.(Local History list) Start &4OS2. with a local history list.
 See :link reftype=hd refid=CmdHist.Command History and Recall:elink. for
 information on local and global history lists.
 :pt.:hp2./MAX:ehp2.&colon.:pd.(Maximized) Start the session or window maximized.
@@ -11047,7 +11049,7 @@
 If you are typing at the keyboard to produce the input for TEE, you
 must enter a :hp2.Ctrl-Z:ehp2. to terminate the input.
 :p.
-When using TEE with a pipe under 4OS2, the programs on the two ends
+When using TEE with a pipe under &4OS2., the programs on the two ends
 of the pipe run simultaneously, not sequentially as in 4DOS.
 :p.
 See :link reftype=hd refid=Piping.Piping:elink. for more information on
@@ -11229,7 +11231,7 @@
 :hp2.Usage:ehp2.
 :p.
 TITLE changes the window title text that appears in the caption bar at the top of the
-4OS2 window.
+&4OS2. window.
 :p.
 If the TITLE command is issued from within a script, the change will not
 take effect until script execution terminates. To change the window title
@@ -11522,7 +11524,7 @@
 :p.
 :hp2.Usage:ehp2.
 :p.
-4OS2 maintains a list of the aliases that you have defined. The
+&4OS2. maintains a list of the aliases that you have defined. The
 UNALIAS command will remove aliases from that list. You can remove
 one or more aliases by name, or you can delete the entire alias
 list by using the command :hp2.UNALIAS *:ehp2.&per.
@@ -11604,7 +11606,7 @@
 :p.
 :hp8.Use caution:ehp8. when removing environment variables, and especially
 when using UNSET *. Many programs will not work properly without
-certain environment variables; for example, 4OS2 uses PATH and DPATH.
+certain environment variables; for example, &4OS2. uses PATH and DPATH.
 :p.
 :hp2.Options:ehp2.
 :lm margin=4.:parml tsize=8 break=fit.
@@ -11621,36 +11623,6 @@
 
 .* --------------------------------------------------------------------------
 
-:h2 name=VER.VER - Display the 4OS2 and OS/2 version
-:parml compact tsize=12 break=fit.
-:pt.:hp3.Purpose&colon.:ehp3.:pd.Display the current command processor and operating
-system versions.
-.br
-:pt.:hp3.Format&colon.:ehp3.:pd.:hp2.VER [/R]:ehp2.
-:eparml.:lm margin=13.:parml compact tsize=32 break=none.
-:pt.:hp2./R:ehp2.(evision level):pd.
-:eparml.:lm margin=1.
-.br
-:hp2.Usage:ehp2.
-:p.
-Version numbers consist of a one-digit major version number, a
-period, and a one- or two-digit minor version number. Ver uses the default
-decimal separator defined by the current country information. The VER
-command displays both version numbers&colon.
-:xmp.
-    [c&colon.\] ver
-
-    4OS2 &curver.  OS/2 Version is 4.50
-:exmp.:p.
-:hp2.Options:ehp2.
-:lm margin=4.:parml tsize=8 break=fit.
-:pt.:hp2./R:ehp2.&colon.:pd.(Revision level) Display the 4OS2 and OS/2
-internal revision levels (if any), plus your 4OS2 serial number and
-registered name.
-:eparml.:lm margin=1.
-
-.* --------------------------------------------------------------------------
-
 :h2 name=VERIFY.VERIFY - Enable or disable disk write verification
 :parml compact tsize=12 break=fit.
 :pt.:hp3.Purpose&colon.:ehp3.:pd.Enable or disable disk write verification
@@ -11812,10 +11784,10 @@
 double quotes. The quotes will not appear as part of the actual
 title. The title text is limited to 60 characters.
 :p.
-If you specify a new title from the 4OS2 prompt, the WINDOW command will
+If you specify a new title from the &4OS2. prompt, the WINDOW command will
 behave the same as the :link reftype=hd refid=TITLE.TITLE:elink. command.
 :p.
-If you specify a new title from within a script or a nested 4OS2 shell,
+If you specify a new title from within a script or a nested &4OS2. shell,
 the setting is temporary. When the script terminates or the shell is exited,
 the title will revert to the value it had before it was changed by the WINDOW command.
 :p.
@@ -11878,7 +11850,7 @@
 
 :h1 name=Aliases.Aliases
 :p.
-Much of the power of 4OS2 comes together in :hp2.aliases:ehp2., which
+Much of the power of &4OS2. comes together in :hp2.aliases:ehp2., which
 give you the ability to create your own commands. An alias is a name that
 you select for a command or group of commands. Simple aliases substitute a
 new name for an existing command. More complex aliases can redefine the
@@ -12015,7 +11987,7 @@
 Parameters are explained in detail under the
 :link reftype=hd refid=ALIAS.ALIAS:elink. command.
 :p.
-Your copy of 4OS2 includes a sample alias file called :hp1.ALIASES:ehp1.
+Your copy of &4OS2. includes a sample alias file called :hp1.ALIASES:ehp1.
 which contains several useful aliases and demonstrates many alias techniques.
 See the :link reftype=hd refid=ALIAS.ALIAS:elink. and :link reftype=hd
 refid=UNALIAS.UNALIAS:elink. commands for more information and examples. Also
@@ -12026,7 +11998,7 @@
 :h1 name=Batch.Batch Files
 :p.
 A batch file is a file that contains a list of commands to
-execute. 4OS2 reads and interprets each line as if it had been
+execute. &4OS2. reads and interprets each line as if it had been
 typed at the keyboard. Like :link reftype=hd refid=ALIAS.aliases:elink.,
 batch files are handy for automating computing tasks. Unlike aliases,
 batch files can be as long as you wish. Batch files take up separate disk
@@ -12042,7 +12014,7 @@
 :pt.:pd.:link reftype=hd refid=BatchCommands.Batch File Commands:elink.
 :pt.:pd.:link reftype=hd refid=BatchInt.Interrupting a Batch File:elink.
 :pt.:pd.:link reftype=hd refid=AutoBatch.Automatic Batch Files (4START &amp. 4EXIT):elink.
-:pt.:pd.:link reftype=hd refid=BatchDetect.Detecting 4OS2:elink.
+:pt.:pd.:link reftype=hd refid=BatchDetect.Detecting &4OS2.:elink.
 :pt.:pd.:link reftype=hd refid=BatchAlias.Using Aliases in Batch Files:elink.
 :pt.:pd.:link reftype=hd refid=BatchDebug.Debugging Batch Files:elink.
 :pt.:pd.:link reftype=hd refid=BatchString.Batch File String Processing:elink.
@@ -12094,7 +12066,7 @@
 :link reftype=hd refid=Options1.Options 1 page:elink. of the
 :link reftype=hd refid=TOC_ConfigurationNotebook.Configuration Notebook:elink.,
 or the :link reftype=hd refid=INI_BatchEcho.BatchEcho:elink. directive in
-:link reftype=hd refid=INIFile.4OS2.INI:elink.&per.
+:link reftype=hd refid=INIFile.&4OS2INI.:elink.&per.
 :lm margin=1.
 :p.
 For example, the following line turns off echoing inside a batch
@@ -12103,7 +12075,7 @@
 :xmp.
     @echo off
 :exmp.:p.
-4OS2 also has a command line echo that is unrelated to the batch
+&4OS2. also has a command line echo that is unrelated to the batch
 file echo setting. See :link reftype=hd refid=ECHO.ECHO:elink. for details
 about both settings.
 
@@ -12147,7 +12119,7 @@
 [:hp2.$:ehp2.] to indicate the remainder of the command tail. For
 example, :hp2.%&amp.:ehp2. means all the parameters, and :hp2.%2&amp.:ehp2.
 means the second parameter and all those after it. If you want to share
-batch files or aliases between 4DOS and 4OS2, see :link reftype=hd
+batch files or aliases between 4DOS and &4OS2., see :link reftype=hd
 refid=Compat.Special Character Compatibility:elink. for
 information on selecting compatible parameter characters for all products.
 :p.
@@ -12209,7 +12181,7 @@
 
 :h2 name=BatchCommands.Batch File Commands
 :p.
-Several 4OS2 commands are particularly suited to batch file processing.
+Several &4OS2. commands are particularly suited to batch file processing.
 Here is a list of some of the commands you might find most useful&colon.
 :lm margin=8.:parml compact tsize=12 break=fit.
 :pt.:link reftype=hd refid=ACTIVATE.ACTIVATE:elink.:pd.activates another
@@ -12283,7 +12255,7 @@
 .br
 These commands, along with the internal variables and variable functions,
 make the enhanced batch file language extremely powerful. Your copy of
-4OS2 includes a sample batch file, in the file :hp1.EXAMPLES.BTM,:ehp1. that
+&4OS2. includes a sample batch file, in the file :hp1.EXAMPLES.BTM,:ehp1. that
 demonstrates some of the things you can do with batch files.
 .* --------------------------------------------------------------------------
 
@@ -12295,7 +12267,7 @@
 how the application (if any) was written, and whether the
 :link reftype=hd refid=ON.ON:elink. BREAK command is in use.
 :p.
-If 4OS2 detects a Ctrl-C or Ctrl-Break (and ON BREAK is not in use), it will
+If &4OS2. detects a Ctrl-C or Ctrl-Break (and ON BREAK is not in use), it will
 display a prompt, for example&colon.
 :xmp.
     Cancel batch job C&colon.\CHARGE.BTM ? (Y/N/A) &colon.
@@ -12311,20 +12283,20 @@
 
 :h2 name=AutoBatch.Automatic Batch Files
 :p.
-4OS2 supports "automatic" batch files, files that run without your
+&4OS2. supports "automatic" batch files, files that run without your
 intervention, as long as the command processor can find them.
 :p.
-Each time 4OS2 starts as either a primary or a secondary shell, it
+Each time &4OS2. starts as either a primary or a secondary shell, it
 looks for an automatic batch file called :hp1.4START.BTM:ehp1.
 or :hp1.4START.CMD:ehp1.&per. If the :hp1.4START:ehp1. batch file is not in the
-same directory as 4OS2 itself, you should use the
+same directory as &4OS2. itself, you should use the
 :link reftype=hd refid=StartupOption.Startup Configuration Page:elink.
 of the
 :link reftype=hd refid=TOC_ConfigurationNotebook.Configuration Notebook:elink.
 or the
 :link reftype=hd refid=INI_4StartPath.4StartPath:elink. directive in
-:link reftype=hd refid=INIFile.4OS2.INI:elink. to specify its location. :hp1.4START:ehp1. is
-optional, so 4OS2 will not display an error message if it cannot find the
+:link reftype=hd refid=INIFile.&4OS2INI.:elink. to specify its location. :hp1.4START:ehp1. is
+optional, so &4OS2. will not display an error message if it cannot find the
 file.
 :p.
 :hp1.4START:ehp1. is a convenient place to change the color or content of
@@ -12345,7 +12317,7 @@
     if "%1" != "" .and. "%_shell" gt 0 pause Starting shell
     %_shell with parameters [%$]
 :exmp.:p.
-Whenever a 4OS2 shell ends, it runs an automatic batch file called
+Whenever a &4OS2. shell ends, it runs an automatic batch file called
 :hp1.4EXIT.BTM:ehp1., :hp1.4EXIT.CMD:ehp1.&per. This file, if you use it,
 should be in the same directory as your :hp1.4START:ehp1. batch file. Like
 :hp1.4START:ehp1., :hp1.4EXIT:ehp1. is optional. It is not necessary in
@@ -12357,7 +12329,7 @@
 :hp2.Pipes, Transient Sessions, and 4START:ehp2.
 :p.
 When you set up the 4START file, remember that it is executed
-:hp2.every:ehp2. time 4OS2 starts, including when running a :link reftype=hd
+:hp2.every:ehp2. time &4OS2. starts, including when running a :link reftype=hd
 refid=Piping.pipe:elink., or a transient copy of the command processor
 started with the :hp2./C:ehp2. :link reftype=hd refid=Startup.startup:elink.
 option.
@@ -12406,9 +12378,9 @@
 
 .* --------------------------------------------------------------------------
 
-:h2 name=BatchDetect.Detecting 4OS2
+:h2 name=BatchDetect.Detecting &4OS2.
 :p.
-From a batch file, you can determine if 4OS2 or Take Command is loaded by
+From a batch file, you can determine if &4OS2. or Take Command is loaded by
 testing for the variable function :link reftype=hd refid=_@EVAL.@EVAL:elink.,
 with a test like this&colon.
 :xmp.
@@ -12522,7 +12494,7 @@
 
 :h2 name=BatchDebug.Debugging Batch Files
 :p.
-4OS2 includes a built-in batch file debugger, invoked with
+&4OS2. includes a built-in batch file debugger, invoked with
 the :link reftype=hd refid=SETDOS.SETDOS:elink. /Y1 command. The debugger
 allows you to "single-step" through a batch file line by line, with the file
 displayed in a popup window as it executes. You can execute or skip the
@@ -12600,7 +12572,7 @@
 :exmp.:p.
 You cannot use the batch debugger with :link reftype=hd
 refid=REXX.REXX:elink. files or :link reftype=hd
-refid=EXTPROC.EXTPROC:elink. files. It can only be used with normal 4OS2
+refid=EXTPROC.EXTPROC:elink. files. It can only be used with normal &4OS2.
 batch files.
 :p.
 The debugger gives you a detailed, step-by-step view of batch file execution,
@@ -12681,7 +12653,7 @@
 these are examples of string processing (the manipulation of lines of
 readable text).
 :p.
-4OS2 include several features that make string processing easier. For
+&4OS2. include several features that make string processing easier. For
 example, you can use the :link reftype=hd refid=INKEY.INKEY:elink. and
 :link reftype=hd refid=INPUT.INPUT:elink. commands for user input;
 the :link reftype=hd refid=ECHO.ECHO:elink.,
@@ -12797,7 +12769,7 @@
 features that were turned off in the first line.
 :p.
 If you need advanced string processing capabilities beyond those provided by
-4OS2 you may want to consider using the
+&4OS2. you may want to consider using the
 :link reftype=hd refid=REXX.REXX:elink. language. Our products support
 external REXX programs for this purpose.
 
@@ -12805,7 +12777,7 @@
 
 :h2 name=BatchLineCont.Batch File Line Continuation
 :p.
-4OS2 will combine multiple lines in the batch file into a single line for
+&4OS2. will combine multiple lines in the batch file into a single line for
 processing when you include the
 :link reftype=hd refid=Escape.escape character:elink.
 as the very last character of each line to be combined (except the last).
@@ -12829,7 +12801,7 @@
 :h2 name=BatchComp.Batch File Compression
 :p.
 You can compress your batch files with a program called
-:hp1.BATCOMP.EXE:ehp1., which is distributed with 4OS2. This program
+:hp1.BATCOMP.EXE:ehp1., which is distributed with &4OS2.. This program
 condenses batch files by about a third and makes them unreadable
 with the LIST command and similar utilities. Compressed batch
 files run at approximately the same speed as regular .BTM files.
@@ -12933,10 +12905,10 @@
 :pt.*:pd.Select a consistent set of characters from the
 :link reftype=hd refid=Options1.Options 1 page:elink. of the
 :link reftype=hd refid=TOC_ConfigurationNotebook.Configuration Notebook:elink.,
-or with :link reftype=hd refid=INIFile.4OS2.INI:elink.
+or with :link reftype=hd refid=INIFile.&4OS2INI.:elink.
 :link reftype=hd refid=INIConfig.configuration directives:elink. For example, to
-set the 4OS2 characters to match 4DOS, use these lines in
-:link reftype=hd refid=INIFile.4OS2.INI:elink.&colon.
+set the &4OS2. characters to match 4DOS, use these lines in
+:link reftype=hd refid=INIFile.&4OS2INI.:elink.&colon.
 :xmp.
     CommandSep = ^
     EscapeChar = &uarrow.
@@ -12971,7 +12943,7 @@
     [c&colon.\] setdos /p&amp.
 :exmp.:p.
 would :hp2.not:ehp2. set the parameter character to an ampersand
-[:hp2.&amp.:ehp2.] in 4OS2 if the standard 4OS2 special characters were
+[:hp2.&amp.:ehp2.] in &4OS2. if the standard &4OS2. special characters were
 currently in effect. The :hp2.&amp.:ehp2. would be seen as a command
 separator, and would terminate the SETDOS command before the parameter
 character was set. To work around this, use the escape character variable
@@ -12979,7 +12951,7 @@
 not treated with any special meaning.
 :p.
 For example, the following sequence of commands in a batch file will always
-set the special characters correctly to their standard 4OS2 values, no
+set the special characters correctly to their standard &4OS2. values, no
 matter what their current setting, and will restore them when the batch file
 is done&colon.
 :xmp.
@@ -12988,7 +12960,7 @@
     .....
     endlocal
 :exmp.:p.
-A similar sequence can be used to select the standard 4OS2 and 4NT
+A similar sequence can be used to select the standard &4OS2. and 4NT
 characters, regardless of the current settings&colon.
 :xmp.
     setlocal
@@ -13003,7 +12975,7 @@
 :p.
 Whenever you type something at the command line and press the
 :hp2.Enter:ehp2. key, or include a command in a batch file, you have given a
-command to 4OS2, which must figure out how to execute your command. If you
+command to &4OS2., which must figure out how to execute your command. If you
 understand the general process that is used, you will be able to make the
 best use of the commands. Understanding these steps can be especially
 helpful when working with complex aliases or batch file commands.
@@ -13015,7 +12987,7 @@
 command, and the command did not come from a batch file. Then, if the line
 contains multiple commands, the first command is isolated for processing.
 :p.
-4OS2 begins by dividing the command into a :hp2.command name:ehp2. and a
+&4OS2. begins by dividing the command into a :hp2.command name:ehp2. and a
 :hp2.command tail:ehp2.&per. The command name is the first word in the command;
 the tail is everything that follows the command name. For example, in the
 command line
@@ -13024,7 +12996,7 @@
 :exmp.:p.
 the command name is "dir", and the command tail is " *.txt /2/p/v".
 :p.
-Next 4OS2 tries to match the command name against its list of aliases. If it
+Next &4OS2. tries to match the command name against its list of aliases. If it
 finds a match between the command name and one of the aliases you've defined,
 it replaces the command name with the contents of the alias. (This
 substitution is done internally and is not normally visible to you). However,
@@ -13044,7 +13016,7 @@
 expansion:ehp2., continues until the command name no longer refers to an
 alias.
 :p.
-Once it has finished with the aliases, 4OS2 next tries to match the command
+Once it has finished with the aliases, &4OS2. next tries to match the command
 name with its list of internal commands. If it is unsuccessful, the command
 processor knows that it will have to search for a batch file or external
 program to execute your command.
@@ -13060,7 +13032,7 @@
 commands are always followed by another command, so variable expansion takes
 place separately for the original command and the command that follows it.
 :p.
-Once all of the aliases and environment variables have been expanded, 4OS2
+Once all of the aliases and environment variables have been expanded, &4OS2.
 will echo the complete command to the screen (if command-line echo has been
 enabled) and write it to the log file (if command logging has been turned on).
 :p.
@@ -13071,7 +13043,7 @@
 point, if necessary, to receive any piped output.
 :p.
 Finally, it is time to execute the command. If the command name matches an
-internal command, 4OS2 will perform the activities you have
+internal command, &4OS2. will perform the activities you have
 requested. Otherwise, the command processor searches for an executable
 (:hp1..COM:ehp1. or :hp1..EXE:ehp1.) file, a batch file, or a file with an
 executable extension that matches the command name.
@@ -13091,7 +13063,7 @@
 
 :h2 name=Quoting.Argument Quoting
 :p.
-As it parses the command line, 4OS2 looks for the ampersand [:hp2.&amp.:ehp2.] command
+As it parses the command line, &4OS2. looks for the ampersand [:hp2.&amp.:ehp2.] command
 separator, conditional commands (:hp2.&splitvbar.&splitvbar.:ehp2. or
 :hp2.&amp.&amp.:ehp2.), white space (spaces, tabs, and commas), percent
 signs [:hp2.%:ehp2.] which indicate variables to be expanded, and
@@ -13124,7 +13096,7 @@
     [c&colon.\] chkname `MY NAME`
 :exmp.:p.
 Inside the batch file, %1 will have the value MY NAME, including
-the space. The back quotes caused 4OS2 to pass the string to the
+the space. The back quotes caused &4OS2. to pass the string to the
 batch file as a single argument. The quotes keep characters together and
 reduce the number of arguments in the line.
 :p.
@@ -13188,10 +13160,10 @@
 :p.
 REXX is a a powerful file and text processing language developed by
 IBM, and available on many PC and other platforms. REXX is an ideal
-extension to the 4OS2 batch language, especially if you need advanced
+extension to the &4OS2. batch language, especially if you need advanced
 string processing capabilities.
 :p.
-The REXX language is not built into 4OS2. REXX language support is provided
+The REXX language is not built into &4OS2.. REXX language support is provided
 in OS/2 2.0 and above, and you can also purchase add-on REXX software such
 as Enterprise Alternatives' Enterprise REXX, available for Windows 3.x,
 Windows 95, and Windows NT; or Quercus's Personal REXX, available for DOS,
@@ -13199,15 +13171,15 @@
 or purchase one of these REXX packages, contact JP Software's sales
 department for more information.)
 :p.
-REXX programs are stored in :hp1..CMD:ehp1. files. 4OS2 checks to see if
+REXX programs are stored in :hp1..CMD:ehp1. files. &4OS2. checks to see if
 the first two characters on the first line of a :hp1..CMD:ehp1. file are
 [:hp2./*:ehp2.], the beginning of a REXX comment. If so, it passes the
 file to OS/2's built-in REXX facility for processing. If Personal
 REXX for OS/2 is installed, it automatically replaces OS/2's built-in
-REXX, and handles all REXX commands passed by 4OS2.
+REXX, and handles all REXX commands passed by &4OS2..
 :p.
 Both Personal REXX and OS/2's built-in REXX extend the interface
-between REXX and 4OS2 by allowing you to invoke 4OS2 commands from within a
+between REXX and &4OS2. by allowing you to invoke &4OS2. commands from within a
 REXX program.
 :p.
 When you send a command from a REXX program back to the command processor to
@@ -13215,8 +13187,8 @@
 refid=DIR.DIR:elink. command within a REXX script), the REXX software must
 use the correctaddre for the command processor. In most cases it is best to
 use the default address of :hp2.CMD:ehp2., which is set up automatically by
-4OS2. If you choose to use an explicit address via the REXX ADDRESS
-command, you can use either :hp2.CMD:ehp2. or :hp2.4OS2:ehp2.&per.
+&4OS2.. If you choose to use an explicit address via the REXX ADDRESS
+command, you can use either :hp2.CMD:ehp2. or :hp2.&4OS2.:ehp2.&per.
 :p.
 For details on communication between REXX and the command processor, or for
 more information on any aspect of REXX, see your REXX documentation.
@@ -13225,12 +13197,12 @@
 
 :h2 name=EXTPROC.EXTPROC Support
 :p.
-For compatibility with :hp1.CMD.EXE:ehp1., 4OS2 offers an external
+For compatibility with :hp1.CMD.EXE:ehp1., &4OS2. offers an external
 processor (EXTPROC) option for batch files that lets you define an external
 program to process a particular :hp1..CMD:ehp1. file. To identify a
 :hp1..CMD:ehp1. file to be used with an external processor, place the
 string "EXTPROC" as the first word on the first line of the file, followed
-by the name of the external program that should be called. 4OS2 will start
+by the name of the external program that should be called. &4OS2. will start
 the program and pass it the name of the :hp1..CMD:ehp1. file and any
 command-line arguments that were entered.
 :p.
@@ -13245,7 +13217,7 @@
 :xmp.
     [d&colon.\dataacq] getdata /p17
 :exmp.:p.
-4OS2 would read the :hp1.GETDATA.CMD:ehp1. file, determine that it began
+&4OS2. would read the :hp1.GETDATA.CMD:ehp1. file, determine that it began
 with an EXTPROC command, read the name of the processor program,
 and then execute the command&colon.
 :xmp.
@@ -13265,7 +13237,7 @@
     #!perl
     print "hello world";
 :exmp.:p.
-Do not try to use 4OS2 or Take Command as the external processor named on the
+Do not try to use &4OS2. or Take Command as the external processor named on the
 EXTPROC line in the :hp1..CMD:ehp1. file. It will interpret the EXTPROC
 line as a command to re-open themselves. The result will be an
 infinite loop that will continue until the computer runs out of
@@ -13283,7 +13255,7 @@
 include a percent sign [:hp2.%:ehp2.] and a variable name on the command
 line or in an alias or batch file.
 :p.
-The following environment variables have special meanings in 4OS2&colon.
+The following environment variables have special meanings in &4OS2.&colon.
 :lm margin=8.:parml compact tsize=4 break=fit.
 :pt.:pd.:link reftype=hd refid=CDPATH.CDPATH:elink.
 :pt.:pd.:link reftype=hd refid=CMDLINE.CMDLINE:elink.
@@ -13295,17 +13267,17 @@
 :pt.:pd.:link reftype=hd refid=PROMPT_Var.PROMPT:elink.
 :eparml.:lm margin=1.
 .br
-4OS2 also supports two special types of
+&4OS2. also supports two special types of
 variables. :link reftype=hd refid=IntVars.Internal variables:elink.
 are similar to environment variables, but are
-stored internally within 4OS2, and are not visible in the
+stored internally within &4OS2., and are not visible in the
 environment. They provide information about your system for use in
 batch files and aliases. :link reftype=hd refid=VarFuncs.Variable
 functions:elink. are referenced like environment variables, but perform
 additional functions like file handling, string manipulation and arithmetic
 calculations.
 :p.
-In 4OS2 the size of the environment is set automatically, and increased as
+In &4OS2. the size of the environment is set automatically, and increased as
 needed when you add variables.
 :p.
 The :link reftype=hd refid=SET.SET:elink. command is used to create environment variables.
@@ -13344,7 +13316,7 @@
     [c&colon.\] %cmd *.txt
 :exmp.:p.
 The trailing percent sign that was traditionally required for
-environment variable names is not usually required in 4OS2, which
+environment variable names is not usually required in &4OS2., which
 accept any character that cannot be part of a variable name (including a
 space) as the terminator. However, the trailing percent can be used to
 maintain compatibility.
@@ -13414,14 +13386,14 @@
 
 :h2 name=COMSPEC.COMSPEC
 :p.
-:hp2.COMSPEC:ehp2. contains the full path and name of 4OS2. For example,
-if 4OS2 is stored in the directory :hp1.C&colon.\4OS2:ehp1., the COMSPEC
+:hp2.COMSPEC:ehp2. contains the full path and name of &4OS2.. For example,
+if &4OS2. is stored in the directory :hp1.C&colon.\4OS2:ehp1., the COMSPEC
 variable should be set to :hp1.C&colon.\4OS2\4OS2.EXE:ehp1.&per. COMSPEC is used by applications
-which need to find 4OS2 to implement a "shell to the command prompt" feature.
+which need to find &4OS2. to implement a "shell to the command prompt" feature.
 :p.
 You can set the COMSPEC variable by specifying the COMSPEC path
 with a SET COMSPEC command in :hp1.CONFIG.SYS:ehp1., or including
-the COMSPEC path on the 4OS2 :link reftype=hd refid=Startup.startup:elink.
+the COMSPEC path on the &4OS2. :link reftype=hd refid=Startup.startup:elink.
 command line.
 
 .* --------------------------------------------------------------------------
@@ -13438,7 +13410,7 @@
 
 :h2 name=PATH_Var.PATH
 :p.
-:hp2.PATH:ehp2. is a list of directories that 4OS2 will search for
+:hp2.PATH:ehp2. is a list of directories that &4OS2. will search for
 executable files that aren't in the current directory. PATH may
 also be used by some application programs to find their own files. See the
 :link reftype=hd refid=PATH.PATH:elink. command for a full description of
@@ -13451,12 +13423,12 @@
 :hp2.PATHEXT:ehp2. can be used to select the extensions to look for when
 searching the :link reftype=hd refid=PATH.PATH:elink. for an executable
 file. It consists of a list of extensions, separated by semicolons.
-For example, to replicate the default extension list used by 4OS2&colon.
+For example, to replicate the default extension list used by &4OS2.&colon.
 :xmp.
    set pathext=.com;.exe;.btm;.cmd;.bat
 :exmp.:p.
 PATHEXT is ignored unless the :link reftype=hd
-refid=INI_PathExt.PathExt:elink. setting is set to Yes in :link reftype=hd refid=INIFile.4OS2.INI:elink.&per.
+refid=INI_PathExt.PathExt:elink. setting is set to Yes in :link reftype=hd refid=INIFile.&4OS2INI.:elink.&per.
 Once PATHEXT is enabled the standard path search for :hp1..COM,:ehp1.
 :hp1..EXE:ehp1., :hp1..BTM:ehp1., :hp1..CMD:ehp1., and :hp1..BAT:ehp1.
 files is replaced by a search for files with the extensions listed in
@@ -13470,7 +13442,7 @@
 details on path searches, see the :link reftype=hd refid=PATH.PATH:elink.
 command.
 :p.
-:hp8.CAUTION&colon. If you set PathExt = Yes in :link reftype=hd refid=INIFile.4OS2.INI:elink. and then fail
+:hp8.CAUTION&colon. If you set PathExt = Yes in :link reftype=hd refid=INIFile.&4OS2INI.:elink. and then fail
 to set the PATHEXT variable, path searches will fail as there will be no
 extensions for which to search!:ehp8.
 
@@ -13486,11 +13458,11 @@
 :h2 name=IntVars.Internal Variables
 :p.
 :hp2.Internal variables:ehp2. are special environment variables built into
-4OS2 to provide information about your system. They are not
+&4OS2. to provide information about your system. They are not
 actually stored in the environment, but can be used in commands,
 aliases, and batch files just like any other environment variable.
 :p.
-The values of these variables are stored internally in 4OS2, and
+The values of these variables are stored internally in &4OS2., and
 cannot be changed with the :link reftype=hd refid=SET.SET:elink.,
 :link reftype=hd refid=UNSET.UNSET:elink., or
 :link reftype=hd refid=ESET.ESET:elink. command. However, you can override
@@ -13507,7 +13479,7 @@
 :p.
 See the discussion after the variable list for some additional information,
 and examples of how these variables can be used. For additional examples, see
-the :hp1.EXAMPLES.BTM:ehp1. file which came with 4OS2.
+the :hp1.EXAMPLES.BTM:ehp1. file which came with &4OS2..
 :p.
 :p.
 The variables are&colon.
@@ -13522,7 +13494,7 @@
 .br
 :hp2.Operating system and software status:ehp2.
 :lm margin=8.:parml compact tsize=16 break=fit.
-:pt.:link reftype=hd refid=_ANSI._ANSI:elink.:pd.ANSI status (always 1 in 4OS2)
+:pt.:link reftype=hd refid=_ANSI._ANSI:elink.:pd.ANSI status (always 1 in &4OS2.)
 :pt.:link reftype=hd refid=_APMAC._APMAC:elink.:pd.* APM AC line status
 :pt.:link reftype=hd refid=_APMBATT._APMBATT:elink.:pd.* APM battery status
 :pt.:link reftype=hd refid=_APMLIFE._APMLIFE:elink.:pd.* APM battery life
@@ -13534,12 +13506,12 @@
 :pt.:link reftype=hd refid=_DOS._DOS:elink.:pd.* Operating system (DOS, OS2, etc.)
 :pt.:link reftype=hd refid=_DOSVER._DOSVER:elink.:pd.* Operating system version (2.1, 3.0, etc.)
 :pt.:link reftype=hd refid=_KBHIT._KBHIT:elink.:pd.Keystroke waiting in buffer (0 or 1)
-:pt.:link reftype=hd refid=_MOUSE._MOUSE:elink.:pd.Mouse driver flag (always 1 in 4OS2)
+:pt.:link reftype=hd refid=_MOUSE._MOUSE:elink.:pd.Mouse driver flag (always 1 in &4OS2.)
 :eparml.:lm margin=1.
 .br
 :hp2.Command processor status:ehp2.
 :lm margin=8.:parml compact tsize=16 break=fit.
-:pt.:link reftype=hd refid=_4VER._4VER:elink.:pd.4OS2 version (&4verprev., &4ver., etc.)
+:pt.:link reftype=hd refid=_4VER._4VER:elink.:pd.&4OS2. version (&4verprev., &4ver., etc.)
 :pt.:link reftype=hd refid=_BATCH._BATCH:elink.:pd.Batch nesting level
 :pt.:link reftype=hd refid=_BATCHLINE._BATCHLINE:elink.:pd.Current line number in current batch file
 :pt.:link reftype=hd refid=_BATCHNAME._BATCHNAME:elink.:pd.Name of current batch file
@@ -13547,7 +13519,7 @@
 :pt.:link reftype=hd refid=_DNAME._DNAME:elink.:pd.Name of file used to store file descriptions
 :pt.:link reftype=hd refid=_HLOGFILE._HLOGFILE:elink.:pd.Current history log filename
 :pt.:link reftype=hd refid=_LOGFILE._LOGFILE:elink.:pd.Current log filename
-:pt.:link reftype=hd refid=_PID._PID:elink.:pd.4OS2 process ID (numeric)
+:pt.:link reftype=hd refid=_PID._PID:elink.:pd.&4OS2. process ID (numeric)
 :pt.:link reftype=hd refid=_PIPE._PIPE:elink.:pd.Whether running in a pipe
 :pt.:link reftype=hd refid=_PPID._PPID:elink.:pd.Parent process ID (numeric)
 :pt.:link reftype=hd refid=_PTYPE._PTYPE:elink.:pd.OS/2 session type (AVIO, DT, FS, PM)
@@ -13624,7 +13596,7 @@
 path or filename will return their result in upper or lower case depending
 on the value of the :link reftype=hd refid=SETDOS.SETDOS:elink. /U switch
 or the :link reftype=hd refid=INI_UpperCase.UpperCase:elink. directive in
-:link reftype=hd refid=INIFile.4OS2.INI:elink.&per. On volumes which do support long filenames,
+:link reftype=hd refid=INIFile.&4OS2INI.:elink.&per. On volumes which do support long filenames,
 these variables will return names as they are stored on the disk and no case
 shifting will be performed. Returned filename values which include long
 filenames are :hp2.not:ehp2. quoted automatically; you must add
@@ -13642,7 +13614,7 @@
 :p.
 You can use these variables in a wide variety of ways depending upon your
 needs. Here are just a few examples. For additional examples, see the
-:hp1.EXAMPLES.BTM:ehp1. file which came with 4OS2.
+:hp1.EXAMPLES.BTM:ehp1. file which came with &4OS2..
 :p.
 Some of these examples rely on the :link reftype=hd refid=IF.IF:elink.
 and :link reftype=hd refid=IFF.IFF:elink. commands to test the value of
@@ -13707,7 +13679,7 @@
 instead of the actual escape character, if you want your batch
 files and aliases to work regardless of how the escape character is
 defined. For example, if the escape character is a caret [:hp2.^:ehp2.]
-(the default in 4OS2) both of the commands below will
+(the default in &4OS2.) both of the commands below will
 send a form feed to the printer. However, if the escape character
 has been changed, the first command will send the string "^f" to
 the printer, while the second command will continue to work as
@@ -13724,7 +13696,7 @@
 instead of the actual command separator, if you want your batch
 files and aliases to work regardless of how the command separator
 is defined. For example, if the command separator is an ampersand
-[:hp2.&amp.:ehp2.] (the default in 4OS2) both of the commands
+[:hp2.&amp.:ehp2.] (the default in &4OS2.) both of the commands
 below will display "Hello" on one line and "world" on the next.
 However, if the command separator has been changed the first
 command will display "Hello &amp. echo world", while the second command
@@ -13737,7 +13709,7 @@
 
 :h3 name=_4VER._4VER
 :p.
-:hp2._4VER:ehp2. is the current 4OS2 version (for example, "&4ver.").
+:hp2._4VER:ehp2. is the current &4OS2. version (for example, "&4ver.").
 The current decimal character is used to separate the major and minor version
 numbers (see :link reftype=hd refid=INI_DecimalChar.DecimalChar:elink.) for details.
 
@@ -13745,7 +13717,7 @@
 
 :h3 name=_ANSI._ANSI
 :p.
-:hp2._ANSI:ehp2. is always "1" in 4OS2. (4OS2 enables OS/2's ANSI support,
+:hp2._ANSI:ehp2. is always "1" in &4OS2.. (&4OS2. enables OS/2's ANSI support,
 and assumes that it remains enabled.)
 
 .* --------------------------------------------------------------------------
@@ -13920,10 +13892,10 @@
 :p.
 :hp2._DATE:ehp2. contains the current system date, in the format mm-dd-yy
 (U.S.), dd-mm-yy (Europe), or yy-mm-dd (Japan) or the format set using 
-DateFmt= in :link reftype=hd refid=INIFile.4OS2.INI:elink.&per. The year for any of the formats may be
+DateFmt= in :link reftype=hd refid=INIFile.&4OS2INI.:elink.&per. The year for any of the formats may be
 changed to 4 digits using
 :link reftype=hd refid=INI_Year4Digit.Year4Digit:elink.=Yes in
-:link reftype=hd refid=INIFile.4OS2.INI:elink.&per.
+:link reftype=hd refid=INIFile.&4OS2INI.:elink.&per.
 
 .* --------------------------------------------------------------------------
 
@@ -13944,7 +13916,7 @@
 :p.
 :hp2._DNAME:ehp2. is the name of the file used to store file descriptions. It
 can be changed with the :link reftype=hd refid=INI_DescriptionName.DescriptionName:elink. directive
-in :link reftype=hd refid=INIFile.4OS2.INI:elink. or the :link reftype=hd refid=SETDOS.SETDOS:elink. /D
+in :link reftype=hd refid=INIFile.&4OS2INI.:elink. or the :link reftype=hd refid=SETDOS.SETDOS:elink. /D
 command.
 
 .* --------------------------------------------------------------------------
@@ -14071,7 +14043,7 @@
 
 :h3 name=_MOUSE._MOUSE
 :p.
-:hp2._MOUSE:ehp2. always returns "1" in 4OS2.
+:hp2._MOUSE:ehp2. always returns "1" in &4OS2..
 
 .* --------------------------------------------------------------------------
 
@@ -14170,13 +14142,13 @@
 :h3 name=_TMSMP._TMSMP
 :p.
 :hp2._TMSMP:ehp2. contains the current system time and date in the format
-set using TmSmpFmt= in :link reftype=hd refid=INIFile.4OS2.INI:elink. or mm-dd-yy-hh-mm(-ss) (U.S.), 
+set using TmSmpFmt= in :link reftype=hd refid=INIFile.&4OS2INI.:elink. or mm-dd-yy-hh-mm(-ss) (U.S.), 
 dd-mm-yy-hh-mm(-ss) (Europe), or yy-mm-dd-hh-mm(-ss) (Japan) or the format 
 set using :link reftype=hd refid=INI_DateFmt.DateFmt:elink.= in
-:link reftype=hd refid=INIFile.4OS2.INI:elink.&per. The year for any of the formats may be changed to 4
+:link reftype=hd refid=INIFile.&4OS2INI.:elink.&per. The year for any of the formats may be changed to 4
 digits using
 :link reftype=hd refid=INI_Year4Digit.Year4Digit:elink.=Yes in
-:link reftype=hd refid=INIFile.4OS2.INI:elink.&per. Time is always hh-mm(-ss) Seconds are omitted if not
+:link reftype=hd refid=INIFile.&4OS2INI.:elink.&per. Time is always hh-mm(-ss) Seconds are omitted if not
 included in :link reftype=hd refid=INI_TmSmpFmt.TmSmpFmt:elink.=.
 The separator is always "-".
 
@@ -14186,7 +14158,7 @@
 :p.
 :hp2._TRANSIENT:ehp2. is "1" if the current shell is transient (started
 with a :hp2./C:ehp2., see :link reftype=hd refid=Startup.Starting
-4OS2:elink. for details), or "0" otherwise.
+&4OS2.:elink. for details), or "0" otherwise.
 
 .* --------------------------------------------------------------------------
 
@@ -14237,7 +14209,7 @@
 :p.
 See the discussion after the function list for some additional information,
 and examples of how the functions can be used. For additional examples, see
-the :hp1.EXAMPLES.BTM:ehp1. file which came with 4OS2.
+the :hp1.EXAMPLES.BTM:ehp1. file which came with &4OS2..
 :p.
 :p.
 The variable functions are&colon.
@@ -14394,7 +14366,7 @@
 :p.
 Functions which accept a date as an argument use the date format and
 separators mandated by your country code (for example dd.mm.yy in Germany, or
-yy-mm-dd in Japan) or the date format you specify in :link reftype=hd refid=INIFile.4OS2.INI:elink.&per.
+yy-mm-dd in Japan) or the date format you specify in :link reftype=hd refid=INIFile.&4OS2INI.:elink.&per.
 The year may be entered as a 4-digit or 2-digit value. Two-digit years between
 80 and 99 are interpreted as 1980 - 1999; values between 00 and 79 are
 interpreted as 2000 - 2079.
@@ -14437,7 +14409,7 @@
 functions should only be used with file handles returned by:ehp8.
 :link reftype=hd refid=_@FILEOPEN.@FILEOPEN:elink.:hp8.!:ehp8. If you use
 them with any other file handle :hp8.you may damage other files:ehp8. opened
-by 4OS2 (or, in a secondary shell, the program which started 4OS2), :hp8.or
+by &4OS2. (or, in a secondary shell, the program which started &4OS2.), :hp8.or
 hang your system.:ehp8.
 :p.
 Many functions return values based on information provided by your operating
@@ -14452,7 +14424,7 @@
 You can use variable functions in a wide variety of ways depending
 on your needs. We've included a few examples below to give you an
 idea of what's possible. For additional examples, see the
-:hp1.EXAMPLES.BTM:ehp1. file which came with 4OS2.
+:hp1.EXAMPLES.BTM:ehp1. file which came with &4OS2..
 :p.
 To set the prompt to show the amount of free memory (see
 :link reftype=hd refid=PROMPT.PROMPT:elink. for details on including variable functions in
@@ -14608,7 +14580,7 @@
 1980 for the specified date. DATE uses the date format and
 separators mandated by your country code (for example dd.mm.yy in
 Germany, or yy-mm-dd in Japan) or the date format you specify in
-:link reftype=hd refid=INIFile.4OS2.INI:elink. using DateFmt=. The year may be entered as a 4-digit or
+:link reftype=hd refid=INIFile.&4OS2INI.:elink. using DateFmt=. The year may be entered as a 4-digit or
 2-digit value. Two-digit years between 80 and 99 are interpreted as 1980 - 1999; 
 values between 00 and 79 are interpreted as 2000 - 2079.
 
@@ -14619,7 +14591,7 @@
 :hp2.@DAY[mm-dd-yy]:ehp2.&colon. Returns the numeric day of the month for the
 specified date. DATE uses the date format and separators mandated by your
 country code (for example dd.mm.yy in Germany, or yy-mm-dd in Japan) the date 
-format you specify in :link reftype=hd refid=INIFile.4OS2.INI:elink.&per. The year may be entered as a
+format you specify in :link reftype=hd refid=INIFile.&4OS2INI.:elink.&per. The year may be entered as a
 4-digit or 2-digit value. Two-digit years between 80 and 99 are interpreted as
 1980 - 1999; values between 00 and 79 are interpreted as 2000 - 2079.
 
@@ -14778,7 +14750,7 @@
 :link reftype=hd refid=TOC_ConfigurationNotebook.Configuration Notebook:elink.,
 or with the :link reftype=hd refid=INI_EvalMax.EvalMax:elink. and
 :link reftype=hd refid=INI_EvalMin.EvalMin:elink. directives in
-:link reftype=hd refid=INIFile.4OS2.INI:elink., or with the
+:link reftype=hd refid=INIFile.&4OS2INI.:elink., or with the
 :link reftype=hd refid=SETDOS.SETDOS:elink. /F command. You can alter the
 decimal character from the
 :link reftype=hd refid=Options1.Options 1 page:elink. of the
@@ -15673,10 +15645,10 @@
 
 .* --------------------------------------------------------------------------
 
-:h1 name=INIFile.4OS2.INI
+:h1 name=INIFile.&4OS2INI.
 :p.
-Most of the configuration of 4OS2 is controlled through a file of
-initialization information called :hp1.4OS2.INI:ehp1., which is discussed in
+Most of the configuration of &4OS2. is controlled through a file of
+initialization information called :hp1.&4OS2INI.:ehp1., which is discussed in
 the following sections:
 :lm margin=8.:parml compact tsize=4 break=fit.
 :pt.:pd.:link reftype=hd refid=INIModify.Modifying the .INI File:elink.
@@ -15686,7 +15658,7 @@
 :pt.:pd.:link reftype=hd refid=INIExamples..INI File Examples:elink.
 :eparml.:lm margin=1.
 .br
-We also discuss many ways of configuring 4OS2 in other sections of the help,
+We also discuss many ways of configuring &4OS2. in other sections of the help,
 for example&colon.
 :lm margin=8.:parml compact tsize=4 break=fit.
 :pt.*:pd.With :link reftype=hd refid=Aliases.aliases:elink. you can set
@@ -15700,7 +15672,7 @@
 to match the command you are working with.
 :pt.*:pd.With the :link reftype=hd refid=COLORDIR_Var.COLORDIR:elink.
 environment variable and the :link reftype=hd
-refid=INI_ColorDir.ColorDir:elink. :link reftype=hd refid=INIFile.4OS2.INI:elink. directive you can set the
+refid=INI_ColorDir.ColorDir:elink. :link reftype=hd refid=INIFile.&4OS2INI.:elink. directive you can set the
 colors used by the :link reftype=hd refid=DIR.DIR:elink. and :link reftype=hd
 refid=SELECT.SELECT:elink. commands.
 :pt.*:pd.With the :link reftype=hd refid=SETDOS.SETDOS:elink. command, you
@@ -15711,7 +15683,7 @@
 
 :h2 name=INIModify.Modifying the .INI File
 :p.
-You can create, add to, and modify :link reftype=hd refid=INIFile.4OS2.INI:elink.
+You can create, add to, and modify :link reftype=hd refid=INIFile.&4OS2INI.:elink.
 in two ways&colon.
 :p.
 with the
@@ -15729,7 +15701,7 @@
 Changes you make on the :link reftype=hd refid=StartupOption.Startup page:elink.
 of the
 :link reftype=hd refid=TOC_ConfigurationNotebook.Configuration Notebook:elink.
-will only take effect when you restart the session or window in which 4OS2 is
+will only take effect when you restart the session or window in which &4OS2. is
 running.
 :p.
 The
@@ -15741,15 +15713,15 @@
 and must be inserted or modified manually. For more details see the
 :link reftype=hd refid=TOC_ConfigurationNotebook.Configuration Notebook:elink.&per.
 :p.
-You can also create, add to, and edit :link reftype=hd refid=INIFile.4OS2.INI:elink.
+You can also create, add to, and edit :link reftype=hd refid=INIFile.&4OS2INI.:elink.
 manually with any ASCII text editor. Each command processor reads
-:link reftype=hd refid=INIFile.4OS2.INI:elink. when it starts, and configures itself accordingly.
-:link reftype=hd refid=INIFile.4OS2.INI:elink. is not re-read when you change it manually. For
+:link reftype=hd refid=INIFile.&4OS2INI.:elink. when it starts, and configures itself accordingly.
+:link reftype=hd refid=INIFile.&4OS2INI.:elink. is not re-read when you change it manually. For
 manual changes to take effect, you must restart the session or window in
-which 4OS2 is running. If you edit :link reftype=hd refid=INIFile.4OS2.INI:elink. manually, make
+which &4OS2. is running. If you edit :link reftype=hd refid=INIFile.&4OS2INI.:elink. manually, make
 sure you save the file in ASCII format.
 :p.
-Each item that you can include in :link reftype=hd refid=INIFile.4OS2.INI:elink. has a default
+Each item that you can include in :link reftype=hd refid=INIFile.&4OS2INI.:elink. has a default
 value. You only need to include entries in the file for settings that you
 want to change from their default values.
 :p.
@@ -15765,7 +15737,7 @@
 :exmp.:p.
 Any spaces before or after the equal sign are ignored.
 :p.
-If you have a long string to enter in :link reftype=hd refid=INIFile.4OS2.INI:elink. (for
+If you have a long string to enter in :link reftype=hd refid=INIFile.&4OS2INI.:elink. (for
 example, for the :link reftype=hd refid=INI_ColorDir.ColorDir:elink.
 directive), you must enter it all on one line. Strings cannot be
 "continued" to a second line. Each line may be up to 1023 characters long.
@@ -15776,7 +15748,7 @@
 string. The value begins with the first non-blank character after the
 equal sign and ends at the end of the line or the beginning of a comment.
 :p.
-Blank lines are ignored in :link reftype=hd refid=INIFile.4OS2.INI:elink. and can be used to
+Blank lines are ignored in :link reftype=hd refid=INIFile.&4OS2INI.:elink. and can be used to
 separate groups of directives. You can place comments in the file by
 beginning a line with a semicolon [:hp2.;:ehp2.]. You can also place
 comments at the end of any line except one containing a text string
@@ -15789,9 +15761,9 @@
 become part of the string and will probably cause an error.
 :p.
 If you use the :link reftype=hd refid=OPTION.OPTION:elink. dialogs to
-modify :link reftype=hd refid=INIFile.4OS2.INI:elink., comments on lines modified from within
+modify :link reftype=hd refid=INIFile.&4OS2INI.:elink., comments on lines modified from within
 the dialogs will not be preserved when the new lines are saved. To be
-sure :link reftype=hd refid=INIFile.4OS2.INI:elink. comments are preserved, put them on separate lines in the
+sure :link reftype=hd refid=INIFile.&4OS2INI.:elink. comments are preserved, put them on separate lines in the
 file
 :p.
 If you want to include the text of one .INI file within another
@@ -15803,11 +15775,11 @@
 
 :h2 name=INIUsing.Using the .INI File
 :p.
-Some settings in :link reftype=hd refid=INIFile.4OS2.INI:elink. are initialized when you install
-4OS2, so you will probably have a :link reftype=hd refid=INIFile.4OS2.INI:elink. even if you didn't
+Some settings in :link reftype=hd refid=INIFile.&4OS2INI.:elink. are initialized when you install
+&4OS2., so you will probably have a :link reftype=hd refid=INIFile.&4OS2INI.:elink. even if you didn't
 create one yourself.
 :p.
-4OS2 primary shells search for :link reftype=hd refid=INIFile.4OS2.INI:elink. in three places&colon.
+&4OS2. primary shells search for :link reftype=hd refid=INIFile.&4OS2INI.:elink. in three places&colon.
 :lm margin=8.:parml compact tsize=4 break=fit.
 :pt.*:pd.If there is an "@d&colon.\path\inifile" option on the startup
 command line, the command processor will use the path and filename
@@ -15816,16 +15788,16 @@
 :pt.*:pd.If there is no :hp1..INI :ehp1. filename on the startup command
 line, the search proceeds to the same directory where the command processor
 program file (:hp1.4OS2.EXE:ehp1.) is stored. This is the "normal" location
-for :link reftype=hd refid=INIFile.4OS2.INI:elink.&per. 4OS2 determines this directory automatically.
-:pt.*:pd.If :link reftype=hd refid=INIFile.4OS2.INI:elink. is not found in the directory where the
+for :link reftype=hd refid=INIFile.&4OS2INI.:elink.&per. &4OS2. determines this directory automatically.
+:pt.*:pd.If :link reftype=hd refid=INIFile.&4OS2INI.:elink. is not found in the directory where the
 program file is stored, a final check is made in the root directory of the
 boot drive.
 :eparml.:lm margin=1.
 .br
-When 4OS2 is loaded as a secondary shell, it does not search for
-:link reftype=hd refid=INIFile.4OS2.INI:elink.&per. Instead, it retrieves the primary shell's
-:link reftype=hd refid=INIFile.4OS2.INI:elink. data, processes the :hp2.[Secondary]:ehp2. section of
-the original :link reftype=hd refid=INIFile.4OS2.INI:elink. if necessary (see :link reftype=hd
+When &4OS2. is loaded as a secondary shell, it does not search for
+:link reftype=hd refid=INIFile.&4OS2INI.:elink.&per. Instead, it retrieves the primary shell's
+:link reftype=hd refid=INIFile.&4OS2INI.:elink. data, processes the :hp2.[Secondary]:ehp2. section of
+the original :link reftype=hd refid=INIFile.&4OS2INI.:elink. if necessary (see :link reftype=hd
 refid=INISections..INI File Sections:elink.), and then processes any
 "@d&colon.\path\inifile" option on the secondary shell command line (see
 :link reftype=hd refid=Startup.Starting 4OS2:elink.). You can override this
@@ -15836,26 +15808,26 @@
 in effect in the previous shell. If values have been changed by :link
 reftype=hd refid=SETDOS.SETDOS:elink. since the primary shell started, the
 current values will be passed to the secondary shell. If the previous
-shell's :link reftype=hd refid=INIFile.4OS2.INI:elink. had a :hp2.[Secondary]:ehp2. section, it will
+shell's :link reftype=hd refid=INIFile.&4OS2INI.:elink. had a :hp2.[Secondary]:ehp2. section, it will
 then be read and processed (see :link reftype=hd refid=INISections..INI
 File Sections:elink.&per. If not, the previous shell's settings will remain in
 effect.
 :p.
 For example, you might set :link reftype=hd
-refid=INI_BatchEcho.BatchEcho:elink. to Yes in :link reftype=hd refid=INIFile.4OS2.INI:elink., to
+refid=INI_BatchEcho.BatchEcho:elink. to Yes in :link reftype=hd refid=INIFile.&4OS2INI.:elink., to
 enable batch file echo. If you then use SETDOS /V0 to turn off batch file echoing in the
 primary shell, then any secondary shells will inherit the SETDOS setting,
-rather than the original value from :link reftype=hd refid=INIFile.4OS2.INI:elink.;
+rather than the original value from :link reftype=hd refid=INIFile.&4OS2INI.:elink.;
 :hp1.i.e.:ehp1., batch files in the secondary shell will default to no echo.
 :p.
 If you want to force secondary shells to start with a specific value for a
 particular directive, regardless of any changes made with SETDOS in a
 previous shell, repeat the directive in the :hp2.[Secondary]:ehp2. section
-of :link reftype=hd refid=INIFile.4OS2.INI:elink.&per.
+of :link reftype=hd refid=INIFile.&4OS2INI.:elink.&per.
 :p.
 The :link reftype=hd refid=SETDOS.SETDOS:elink. command can override
-several of :link reftype=hd refid=INIFile.4OS2.INI:elink. directives. For example, the cursor
-shape used by 4OS2 can be adjusted either with the :link reftype=hd
+several of :link reftype=hd refid=INIFile.&4OS2INI.:elink. directives. For example, the cursor
+shape used by &4OS2. can be adjusted either with the :link reftype=hd
 refid=INI_CursorIns.CursorIns:elink. and :link reftype=hd
 refid=INI_CursorOver.CursorOver:elink. directives or the SETDOS /S
 command. The correspondence between SETDOS options and .:hp1.INI:ehp1.
@@ -15863,17 +15835,17 @@
 SETDOS command.
 :p.
 When the command processor detects an error while processing
-:link reftype=hd refid=INIFile.4OS2.INI:elink., it displays an error message and prompts you to press
+:link reftype=hd refid=INIFile.&4OS2INI.:elink., it displays an error message and prompts you to press
 a key to continue processing the file. This allows you to note any errors
 before the startup process continues. The directive in error will retain
 its previous or default value. Only the most catastrophic errors (like a
 disk read failure) will terminate processing of the remainder of
-:link reftype=hd refid=INIFile.4OS2.INI:elink.&per. If you don't want a pause after each error, use a
+:link reftype=hd refid=INIFile.&4OS2INI.:elink.&per. If you don't want a pause after each error, use a
 ":link reftype=hd refid=INI_PauseOnError.PauseOnError:elink. = No"
-directive at the beginning of :link reftype=hd refid=INIFile.4OS2.INI:elink.&per.
+directive at the beginning of :link reftype=hd refid=INIFile.&4OS2INI.:elink.&per.
 :p.
-If you need to test different values for an :link reftype=hd refid=INIFile.4OS2.INI:elink. directive
-without repeatedly editing :link reftype=hd refid=INIFile.4OS2.INI:elink., use the :link
+If you need to test different values for an :link reftype=hd refid=INIFile.&4OS2INI.:elink. directive
+without repeatedly editing :link reftype=hd refid=INIFile.&4OS2INI.:elink., use the :link
 reftype=hd refid=OPTION.OPTION:elink. command or see the :link reftype=hd
 refid=INI_INIQuery.INIQuery:elink. directive.
 
@@ -15881,7 +15853,7 @@
 
 :h2 name=INISections..INI File Sections
 :p.
-:link reftype=hd refid=INIFile.4OS2.INI:elink. has three possible sections&colon. the first or
+:link reftype=hd refid=INIFile.&4OS2INI.:elink. has three possible sections&colon. the first or
 :hp2.global:ehp2. section, named :hp2.[4OS2]:ehp2.; the
 :hp2.[Primary]:ehp2. section; and the :hp2.[Secondary]:ehp2. section. Each
 section is identified by the section name in square brackets on a line by
@@ -15889,7 +15861,7 @@
 :p.
 Directives in the global section are effective in all shells. In most cases,
 this is the only section you will need. Any changes you make to
-:link reftype=hd refid=INIFile.4OS2.INI:elink. with the :link reftype=hd refid=OPTION.OPTION:elink.
+:link reftype=hd refid=INIFile.&4OS2INI.:elink. with the :link reftype=hd refid=OPTION.OPTION:elink.
 command are stored in the global section.
 :p.
 The :hp2.[Primary]:ehp2. and :hp2.[Secondary]:ehp2. sections include
@@ -15904,7 +15876,7 @@
 :p.
 Directives in the :hp2.[Secondary]:ehp2. section are used in secondary
 shells only, and override any corresponding primary shell settings. For
-example, these lines in :link reftype=hd refid=INIFile.4OS2.INI:elink.&colon.
+example, these lines in :link reftype=hd refid=INIFile.&4OS2INI.:elink.&colon.
 :xmp.
     [Primary]
     ScreenRows = 25
@@ -15942,7 +15914,7 @@
 You can also obtain help on most directives with a :hp2.HELP directive:ehp2.
 command at the prompt.
 :p.
-There are 8 types of directives in :link reftype=hd refid=INIFile.4OS2.INI:elink.&per. The different
+There are 8 types of directives in :link reftype=hd refid=INIFile.&4OS2INI.:elink.&per. The different
 types of directives are shown in the descriptions as follows&colon.
 :lm margin=8.:parml compact tsize=4 break=fit.
 :pt.*:pd.:hp2.Name = nnnn (1234):ehp2.&colon. This directive takes a
@@ -15978,17 +15950,17 @@
 allowed:ehp2.&per.
 :eparml.:lm margin=1.
 .br
-4OS2 contains a fixed-length area for storing strings entered in
-:link reftype=hd refid=INIFile.4OS2.INI:elink., including filenames, paths, and other strings. This
+&4OS2. contains a fixed-length area for storing strings entered in
+:link reftype=hd refid=INIFile.&4OS2INI.:elink., including filenames, paths, and other strings. This
 area is large and is unlikely to overflow; if it does, you will receive an
 error message. If this occurs, reduce the complexity of
-:link reftype=hd refid=INIFile.4OS2.INI:elink. or contact support for assistance.
+:link reftype=hd refid=INIFile.&4OS2INI.:elink. or contact support for assistance.
 
 .* --------------------------------------------------------------------------
 
 :h3 name=INIInit.Initialization Directives
 :p.
-The directives in this section control how 4OS2 starts and where it
+The directives in this section control how &4OS2. starts and where it
 looks for its files. The initialization directives are&colon.
 :lm margin=8.:parml compact tsize=20 break=fit.
 :pt.:link reftype=hd refid=INI_4StartPath.4StartPath:elink.:pd.Path for 4START and 4EXIT
@@ -15996,11 +15968,11 @@
 :pt.:link reftype=hd refid=INI_DuplicateBugs.DuplicateBugs:elink.:pd.Duplicate bugs in CMD.EXE
 :pt.:link reftype=hd refid=INI_HelpBook.HelpBook:elink.:pd.Books to load in help system
 :pt.:link reftype=hd refid=INI_History.History:elink.:pd.Size of history list
-:pt.:link reftype=hd refid=INI_INIQuery.INIQuery:elink.:pd.Query for each line in 4OS2.INI
+:pt.:link reftype=hd refid=INI_INIQuery.INIQuery:elink.:pd.Query for each line in &4OS2INI.
 :pt.:link reftype=hd refid=INI_LocalAliases.LocalAliases:elink.:pd.Local vs. global aliases
 :pt.:link reftype=hd refid=INI_LocalDirHistory.LocalHistory:elink.:pd.Local vs. global directory history
 :pt.:link reftype=hd refid=INI_LocalHistory.LocalHistory:elink.:pd.Local vs. global history
-:pt.:link reftype=hd refid=INI_PauseOnError.PauseOnError:elink.:pd.Pause on errors in 4OS2.INI
+:pt.:link reftype=hd refid=INI_PauseOnError.PauseOnError:elink.:pd.Pause on errors in &4OS2INI.
 :pt.:link reftype=hd refid=INI_SwapFilePath.SwapFilePath:elink.:pd.Path to OS/2 swap file
 :pt.:link reftype=hd refid=INI_TreePath.TreePath:elink.:pd.Path for directory database
 :pt.:link reftype=hd refid=INI_WindowState.WindowState:elink.:pd.Initial state for the 4OS2 window
@@ -16035,7 +16007,7 @@
 
 :h4 name=INI_DuplicateBugs.DuplicateBugs
 :p.
-:hp2.DuplicateBugs:ehp2. = YES | No&colon. Tells the 4OS2 parser to
+:hp2.DuplicateBugs:ehp2. = YES | No&colon. Tells the &4OS2. parser to
 duplicate certain well-known bugs in :hp1.CMD.EXE:ehp1.&per. The only bug
 currently replicated is in the :link reftype=hd refid=IF.IF:elink. command.
 
@@ -16044,8 +16016,8 @@
 :h4 name=INI_HelpBook.HelpBook
 :p.
 :hp2.HelpBook:ehp2. = String&colon. Sets the names of the "books" to be loaded
-when 4OS2 help is invoked with the :link reftype=hd refid=HELP.HELP:elink. command or the
-:hp2.F1:ehp2. key. The default is :hp2.4OS2+CMDREF:ehp2. which loads the 4OS2
+when &4OS2. help is invoked with the :link reftype=hd refid=HELP.HELP:elink. command or the
+:hp2.F1:ehp2. key. The default is :hp2.4OS2+CMDREF:ehp2. which loads the &4OS2.
 help and the OS/2 command reference.
 
 .* --------------------------------------------------------------------------
@@ -16071,10 +16043,10 @@
 :p.
 :hp2.INIQuery:ehp2. = Yes &splitvbar. NO&colon. If set to :hp2.Yes:ehp2., a prompt will be
 displayed before execution of each subsequent line in the current
-:link reftype=hd refid=INIFile.4OS2.INI:elink. file. This allows you to modify certain directives when
-you start 4OS2 in order to test different configurations. INIQuery
+:link reftype=hd refid=INIFile.&4OS2INI.:elink. file. This allows you to modify certain directives when
+you start &4OS2. in order to test different configurations. INIQuery
 can be reset to :hp2.No:ehp2. at any point in the file. Normally INIQuery
-= Yes is only used during testing of other :link reftype=hd refid=INIFile.4OS2.INI:elink. file
+= Yes is only used during testing of other :link reftype=hd refid=INIFile.&4OS2INI.:elink. file
 directives.
 :p.
 The prompt generated by INIQuery = Yes is&colon.
@@ -16094,8 +16066,8 @@
 directive, but not a new directive name.
 :p.
 For example, if you have found a compatibility problem you think
-may be related to 4OS2's character (as opposed to line) input mode,
-you might change :link reftype=hd refid=INIFile.4OS2.INI:elink. so a part of it read as
+may be related to &4OS2.'s character (as opposed to line) input mode,
+you might change :link reftype=hd refid=INIFile.&4OS2INI.:elink. so a part of it read as
 follows&colon.
 :xmp.
     INIQuery = Yes
@@ -16103,7 +16075,7 @@
     INIQuery = No
 :exmp.:p.
 You could then choose to process, ignore, or edit the LineInput
-directive each time 4OS2 started. This would allow you to check whether
+directive each time &4OS2. started. This would allow you to check whether
 changing the line input mode would resolve the compatibility problem.
 
 .* --------------------------------------------------------------------------
@@ -16111,7 +16083,7 @@
 :h4 name=INI_LocalAliases.LocalAliases
 :p.
 :hp2.LocalAliases:ehp2. = Yes &splitvbar. NO&colon. :hp2.No:ehp2. forces all copies
-of 4OS2 to share the same alias list. :hp2.Yes:ehp2. keeps the lists for each
+of &4OS2. to share the same alias list. :hp2.Yes:ehp2. keeps the lists for each
 shell separate. See :link reftype=hd refid=ALIAS.ALIAS:elink. for more details on local and
 global alias lists.
 
@@ -16129,7 +16101,7 @@
 
 :h4 name=INI_LocalHistory.LocalHistory
 :p.
-:hp2.LocalHistory:ehp2. = Yes &splitvbar. NO&colon. :hp2.No:ehp2. forces all copies of 4OS2
+:hp2.LocalHistory:ehp2. = Yes &splitvbar. NO&colon. :hp2.No:ehp2. forces all copies of &4OS2.
 to share the same history list. :hp2.Yes:ehp2. keeps the lists for each
 shell separate. See :link reftype=hd refid=CmdHist.Command History and Recall:elink. for
 more details on local and global history lists.
@@ -16141,7 +16113,7 @@
 :hp2.PauseOnError:ehp2. = YES &splitvbar. No&colon. :hp2.Yes:ehp2. forces a
 pause with the message "Error in :hp1.filename:ehp1., press any key to
 continue processing" after displaying any error message related to a
-specific line in :link reftype=hd refid=INIFile.4OS2.INI:elink.&per. :hp2.No:ehp2. continues processing
+specific line in :link reftype=hd refid=INIFile.&4OS2INI.:elink.&per. :hp2.No:ehp2. continues processing
 with no pause after an error message is displayed.
 
 .* --------------------------------------------------------------------------
@@ -16151,8 +16123,8 @@
 :hp2.SwapFilePath:ehp2. = Path | File&colon. Specifies the path to the OS/2
 swap file so that the :link reftype=hd refid=MEMORY.MEMORY:elink. command
 can find it. You can either specify a full path and filename for the swap
-file or just the path. If you specify a path only, 4OS2 assumes that the
-file is called :hp1.SWAPPER.DAT:ehp1.&per. If SwapFilePath is not used, 4OS2
+file or just the path. If you specify a path only, &4OS2. assumes that the
+file is called :hp1.SWAPPER.DAT:ehp1.&per. If SwapFilePath is not used, &4OS2.
 assumes that the file is named :hp1.SWAPPER.DAT:ehp1. and stored in the
 :hp1.\OS2\SYSTEM:ehp1. directory of the boot drive.
 
@@ -16163,7 +16135,7 @@
 :hp2.TreePath:ehp2. = Path&colon. Sets the location of
 :hp1.JPSTREE.IDX:ehp1., the file used for :link reftype=hd
 refid=ExtDirSearch.extended directory searches:elink. By default, the file is
-placed in the 4OS2 installation directory (if writable) or in the root of the
+placed in the &4OS2. installation directory (if writable) or in the root of the
 boot volume.
 
 .* --------------------------------------------------------------------------
@@ -16171,13 +16143,13 @@
 :h4 name=INI_WindowState.WindowState
 :p.
 :hp2.WindowState:ehp2. = STANDARD &splitvbar. Maximize &splitvbar. Minimize &splitvbar. Custom&colon.
-Sets the initialstate of the 4OS2 window.
+Sets the initialstate of the &4OS2. window.
 :hp2.Standard:ehp2. puts the window in the
 default position on the OS/2 desktop, and is the default setting.
 :hp2.Maximize:ehp2. maximizes the window;
 :hp2.Minimize:ehp2. minimizes it;
 :hp2.Custom:ehp2. enables the custom size and postion settings.
-If you use Maximize or Minimize, you may see the 4OS2 window appear
+If you use Maximize or Minimize, you may see the &4OS2. window appear
 briefly in the Standard position as it is created by OS/2, then
 switch to the new state.
 
@@ -16187,7 +16159,7 @@
 :p.
 :hp2.WindowX:ehp2. = nnnn, :hp2.WindowY:ehp2. = nnnn, :hp2.WindowWidth:ehp2.
 = nnnn, :hp2.WindowHeight:ehp2. = nnnn&colon. These 4 directives set the
-initial size and position of the 4OS2 window. The measurements are in
+initial size and position of the &4OS2. window. The measurements are in
 pixels or pels. :hp2.WindowX:ehp2. and :hp2.WindowY:ehp2. refer to the
 position of the bottom left corner of the window relative to the bottom left
 corner of the screen.
@@ -16206,8 +16178,8 @@
 
 :h3 name=INIConfig.Configuration Directives
 :p.
-These directives control the way that 4OS2 operate. Some can be
-changed with the :link reftype=hd refid=SETDOS.SETDOS:elink. command while 4OS2 is running.
+These directives control the way that &4OS2. operate. Some can be
+changed with the :link reftype=hd refid=SETDOS.SETDOS:elink. command while &4OS2. is running.
 Any corresponding SETDOS command is listed in the description of
 each directive. The configuration directives are&colon.
 :lm margin=8.:parml compact tsize=20 break=fit.
@@ -16343,7 +16315,7 @@
 
 :h4 name=INI_ChangeTitle.ChangeTitle
 :p.
-:hp2.ChangeTitle:ehp2. = YES &splitvbar. No&colon. Determines whether 4OS2
+:hp2.ChangeTitle:ehp2. = YES &splitvbar. No&colon. Determines whether &4OS2.
 changes the OS/2 session title when running an external program.
 :p.
 Also see :link reftype=hd refid=_WINTITLE._WINTITLE:elink. internal variable.
@@ -16353,14 +16325,14 @@
 :h4 name=INI_CDWithoutBackslash.CDWithoutBackslash
 :p.
 :hp2.CDWithoutBackslash:ehp2. = 0 &splitvbar. 1 &splitvbar. 2&colon.
-Determines if 4OS2 should change into subdirectory when entering its name
+Determines if &4OS2. should change into subdirectory when entering its name
 even without leading cd and trailing backslash (\).
 :p.
 Directory change by typing in the directory name without cd is now possible
 even without leading backslash (\). Backslash on some keyboard layouts (like
 the German one) is not that easy to type.
 :p.
-If you want the old behavior, disable it with the :link reftype=hd refid=INIFile.4OS2.INI:elink. entry
+If you want the old behavior, disable it with the :link reftype=hd refid=INIFile.&4OS2INI.:elink. entry
 CDWithoutBackslash=0
 :p.
 With CDWithoutBackslash=1 (default), directory change takes place only if
@@ -16377,9 +16349,9 @@
 :p.
 
 :hp2.CMDDirMvCpy:ehp2. = YES | No&colon. CMD copies or moves the directory to 
-the target when the command line aurgument is a directory. By default 4OS2 
+the target when the command line aurgument is a directory. By default &4OS2. 
 copies or moves the files in the directory to the target. Setting this to yes 
-makes 4OS2 provide the CMD behavior. Using :link reftype=hd
+makes &4OS2. provide the CMD behavior. Using :link reftype=hd
 refid=COPY.COPY:elink. /J or :link reftype=hd refid=MOVE.MOVE:elink. /J has 
 the same effect.
 
@@ -16411,7 +16383,7 @@
 the way video drivers map the cursor shape, you may not
 get a smooth progression in cursor shapes as :hp2.CursorIns:ehp2. and
 :hp2.CursorOver:ehp2. change. If :hp2.CursorIns:ehp2. or :hp2.CursorOver:ehp2. is set to
--1, 4OS2 will not attempt to modify the cursor shape at all; you can use this
+-1, &4OS2. will not attempt to modify the cursor shape at all; you can use this
 feature to give another program full control of the cursor shape.
 :p.
 Also see :link reftype=hd refid=INI_CursorOver.CursorOver:elink.
@@ -16481,7 +16453,7 @@
 changing the name from the default will make it difficult to transfer file
 descriptions to another system.
 :p.
-If you set :hp2.DescriptionName = EA:ehp2., 4OS2 will use the ".SUBJECT"
+If you set :hp2.DescriptionName = EA:ehp2., &4OS2. will use the ".SUBJECT"
 extended attribute (EA) for file descriptions instead of a separate
 file. Note that using EAs will slow the :link reftype=hd
 refid=DIR.DIR:elink. and :link reftype=hd refid=SELECT.SELECT:elink.
@@ -16498,7 +16470,7 @@
 handling on or off during the file processing commands :link reftype=hd
 refid=COPY.COPY:elink., :link reftype=hd refid=DEL.DEL:elink., :link
 reftype=hd refid=MOVE.MOVE:elink., and :link reftype=hd
-refid=REN.REN:elink.&per. If set to :hp2.No:ehp2., 4OS2 will not update the
+refid=REN.REN:elink.&per. If set to :hp2.No:ehp2., &4OS2. will not update the
 description file when files are moved, copied, deleted or renamed.
 :p.
 Also see :link reftype=hd refid=SETDOS.SETDOS:elink. /D.
@@ -16557,7 +16529,7 @@
 
 :h4 name=INI_ExecWait.ExecWait
 :p.
-:hp2.ExecWait:ehp2. = Yes &splitvbar. NO&colon. Controls whether 4OS2
+:hp2.ExecWait:ehp2. = Yes &splitvbar. NO&colon. Controls whether &4OS2.
 waits for an external program to complete before redisplaying the prompt. See
 :link reftype=hd refid=WaitForApps.Waiting for Applications to Finish:elink.
 for details on the effects of this directive.
@@ -16651,13 +16623,13 @@
 :h4 name=INI_LineInput.LineInput
 :p.
 :hp2.LineInput:ehp2. = Yes &splitvbar. NO&colon. This directive controls
-how 4OS2 gets its input from the command line. :hp2.Yes:ehp2. forces 4OS2
+how &4OS2. gets its input from the command line. :hp2.Yes:ehp2. forces &4OS2.
 to perform line-by-line input, just as :hp1.CMD.EXE:ehp1. does, instead of
 character-by-character input. This will disable command-line editing,
 history recall, the directory history window, and filename completion, and
-will reduce the 4OS2 input length limit from 1023 characters to 299
+will reduce the &4OS2. input length limit from 1023 characters to 299
 characters. It is normally used only for applications which do not work
-properly unless 4OS2 uses line input.
+properly unless &4OS2. uses line input.
 :p.
 If you have a particular program that requires line input, you can use :link
 reftype=hd refid=SETDOS.SETDOS:elink. /L to temporarily change modes.
@@ -16696,7 +16668,7 @@
 :p.
 :hp2.NewByteDisp:ehp2. = 0 &splitvbar. 1 &splitvbar. 2&colon.
 Tuning of the byte summary displayed at the bottom of a directory listing can
-be made with NewByteDisp setting in :link reftype=hd refid=INIFile.4OS2.INI:elink.&per.
+be made with NewByteDisp setting in :link reftype=hd refid=INIFile.&4OS2INI.:elink.&per.
 :p.
 NewByteDisp=0: Standard (old) 4os2 display, used and allocated bytes in the same line
 :p.
@@ -16730,14 +16702,14 @@
 :h4 name=INI_PathExt.PathExt
 :p.
 :hp2.PathExt:ehp2. = Yes &splitvbar. NO&colon. Determines whether
-4OS2 will use the PATHEXT environment variable. If set to No (the
+&4OS2. will use the PATHEXT environment variable. If set to No (the
 default), the PATHEXT variable is ignored. If set to Yes, the PATHEXT
 variable will be used to determine extensions to look for when searching
 the PATH for an executable file. For details, see the :link reftype=hd
 refid=PATHEXT.PATHEXT:elink. variable and the :link reftype=hd
 refid=PATH.PATH:elink. command.
 :p.
-:hp8.CAUTION&colon. If you set PathExt = Yes in :link reftype=hd refid=INIFile.4OS2.INI:elink. and then fail
+:hp8.CAUTION&colon. If you set PathExt = Yes in :link reftype=hd refid=INIFile.&4OS2INI.:elink. and then fail
 to set the PATHEXT variable, path searches will fail as there will be no
 extensions for which to search!:ehp8.
 :p.
@@ -16773,7 +16745,7 @@
 
 :h4 name=INI_PopupWinPosRelative.PopupWinPosRelative
 :p.
-:hp2.PopupWinPosRelative:ehp2. = YES &splitvbar. No&colon. Determines whether 4OS2
+:hp2.PopupWinPosRelative:ehp2. = YES &splitvbar. No&colon. Determines whether &4OS2.
 should place the popup window relative to the current cursor position.
 :p.
 The position of popup windows is defined in the options dialog. If PopupWinPosRelative=YES (default),
@@ -16908,7 +16880,7 @@
 :hp2.UpperCase:ehp2. = Yes &splitvbar. NO&colon. :hp2.Yes:ehp2. specifies
 that file and directory names should be displayed in the traditional
 upper-case by internal commands like COPY and DIR. :hp2.No:ehp2. allows the
-normal 4OS2 lower-case style. This directive does not affect the display of
+normal &4OS2. lower-case style. This directive does not affect the display of
 filenames on case-retentive filesystem volumes (HPFS, JFS, FAT32, etc.).
 :p.
 Also see :link reftype=hd refid=SETDOS.SETDOS:elink. /U.
@@ -16925,7 +16897,7 @@
 
 :h3 name=INIColor.Color Directives
 :p.
-These directives control the colors that 4OS2 use for its displays.
+These directives control the colors that &4OS2. use for its displays.
 Screen border colors can only be set in StdColors. "BORder" color
 specifications included in other directives will be ignored. For
 complete details on color names see
@@ -16948,10 +16920,10 @@
 
 :h4 name=INI_BrightBG.BrightBG
 :p.
-:hp2.BrightBG:ehp2. = Yes &splitvbar. No. If set to :hp2.Yes:ehp2., 4OS2 will
+:hp2.BrightBG:ehp2. = Yes &splitvbar. No. If set to :hp2.Yes:ehp2., &4OS2. will
 enable bright background colors in full-screen sessions. If set to :hp2.No:ehp2., bright
 backgrounds will be disabled, but blinking foreground characters
-will be enabled. If BrightBG is not used, 4OS2 will not
+will be enabled. If BrightBG is not used, &4OS2. will not
 adjust the bright background / blinking foreground switch at all. Most
 color video boards default to a blinking foreground with
 bright background colors disabled.
@@ -17065,7 +17037,7 @@
 :p.
 StdColors takes effect the first time :link reftype=hd refid=CLS.CLS:elink.,
 :link reftype=hd refid=LIST.LIST:elink., or :link reftype=hd
-refid=SELECT.SELECT:elink. is used after 4OS2 starts, but will not affect
+refid=SELECT.SELECT:elink. is used after &4OS2. starts, but will not affect
 the color of error or other messages displayed during the loading and
 initialization process.
 
@@ -17124,7 +17096,7 @@
 :h4 name=INIGenKeys.General Input Keys
 :p.
 These directives apply to all input. They are in effect whenever
-4OS2 requests input from the keyboard, including during
+&4OS2. requests input from the keyboard, including during
 :link reftype=hd refid=Editing.command-line editing:elink. and the :link reftype=hd refid=DESCRIBE.DESCRIBE:elink.,
 :link reftype=hd refid=ESET.ESET:elink., :link reftype=hd refid=INPUT.INPUT:elink., :link reftype=hd refid=LIST.LIST:elink., and
 :link reftype=hd refid=SELECT.SELECT:elink. commands. The general input keys are&colon.
@@ -17249,7 +17221,7 @@
 :h5 name=INI_NormalKey.NormalKey
 :p.
 :hp2.NormalKey:ehp2. = Key&colon. Deassigns a general input key in order to
-disable the usual meaning of the key within 4OS2 and/or make it
+disable the usual meaning of the key within &4OS2. and/or make it
 available for keystroke aliases. This will make the keystroke
 operate as a "normal" key with no special function. For example&colon.
 :xmp.
@@ -17300,7 +17272,7 @@
 :h4 name=INIEditKeys.Command-Line Editing Keys
 :p.
 These directives apply only to command-line editing. They are only
-effective at the 4OS2 prompt. The command-line editing keys are&colon.
+effective at the &4OS2. prompt. The command-line editing keys are&colon.
 :lm margin=8.:parml compact tsize=20 break=fit.
 :pt.:link reftype=hd refid=INI_AddFile.AddFile:elink.:pd.Keeps filename completion entry and adds another
 :pt.:link reftype=hd refid=INI_AliasExpand.AliasExpand:elink.:pd.Expands aliases without executing them
@@ -17605,8 +17577,8 @@
 :lm margin=8.:parml compact tsize=20 break=fit.
 :pt.:link reftype=hd refid=INI_ClearKeyMap.ClearKeyMap:elink.:pd.Clear default key mappings
 :pt.:link reftype=hd refid=INI_Debug.Debug:elink.:pd.Set debugging options
-:pt.:link reftype=hd refid=INI_Include.Include:elink.:pd.Include a file containing :link reftype=hd refid=INIFile.4OS2.INI:elink. directives
-:pt.:link reftype=hd refid=INI_NextINIFile.NextINIFile:elink.:pd.Set secondary shell :link reftype=hd refid=INIFile.4OS2.INI:elink. filename
+:pt.:link reftype=hd refid=INI_Include.Include:elink.:pd.Include a file containing :link reftype=hd refid=INIFile.&4OS2INI.:elink. directives
+:pt.:link reftype=hd refid=INI_NextINIFile.NextINIFile:elink.:pd.Set secondary shell :link reftype=hd refid=INIFile.&4OS2INI.:elink. filename
 :eparml.:lm margin=1.
 
 .* --------------------------------------------------------------------------
@@ -17619,13 +17591,13 @@
 one of the keys in the default map (:hp2.Tab:ehp2., :hp2.Shift-Tab:ehp2.,
 :hp2.Ctrl-Tab:ehp2., or :hp2.Ctrl-Bksp:ehp2.) available for a keystroke alias,
 or in the :hp2.[Secondary]:ehp2. section of the
-:link reftype=hd refid=INIFile.4OS2.INI:elink. file to clear key mappings
+:link reftype=hd refid=INIFile.&4OS2INI.:elink. file to clear key mappings
 inherited from the primary shell. ClearKeyMap should appear before any key
 mapping directives. If you want to clear some but not all of the default
 mappings, use ClearKeyMap, then recreate the mappings you want to
 retain (:hp1.e.g.:ehp1., with "NextFile=Tab", etc.).
 :p.
-If you set :hp2.DescriptionName = EA, :ehp2.4OS2 will use the ".SUBJECT"
+If you set :hp2.DescriptionName = EA, :ehp2.&4OS2. will use the ".SUBJECT"
 extended attribute (EA) for file descriptions instead of a separate
 file. Note that using EAs will slow the :link reftype=hd
 refid=DIR.DIR:elink. and :link reftype=hd refid=SELECT.SELECT:elink.
@@ -17641,9 +17613,9 @@
 for Debug; to select more than one option, add the values together:
 :lm margin=4.:parml tsize=4 break=fit.
 :pt.:hp2.1:ehp2.:pd.During the startup process, display the complete command
-tail passed to 4OS2, then wait for a keystroke.
+tail passed to &4OS2., then wait for a keystroke.
 :pt.:hp2.2:ehp2.:pd.Include the product name with each error message
-displayed by 4OS2. This may be useful if you are unsure of the origin of a
+displayed by &4OS2.. This may be useful if you are unsure of the origin of a
 particular error message.
 :eparml.:lm margin=1.
 :p.
@@ -17655,16 +17627,16 @@
 :h4 name=INI_Include.Include
 :p.
 :hp2.Include:ehp2. = File&colon. Include the text from the named file at
-this point in the processing of the current :link reftype=hd refid=INIFile.4OS2.INI:elink. file. Use this
+this point in the processing of the current :link reftype=hd refid=INIFile.&4OS2INI.:elink. file. Use this
 option to share a file of directives between several products. The text in
 the named file is processed just as if it were part of the original
-:link reftype=hd refid=INIFile.4OS2.INI:elink. file. When the include file is finished, processing resumes
+:link reftype=hd refid=INIFile.&4OS2INI.:elink. file. When the include file is finished, processing resumes
 at the point where it left off in the original file. The included file may contain any valid directive for the
 current section, but may not contain a section name. Includes may be nested up
 to three levels deep (counting the original file as level 1).
 :p.
 You must maintain include files manually -- the :link reftype=hd
-refid=OPTION.OPTION:elink. command modifies the original :link reftype=hd refid=INIFile.4OS2.INI:elink.
+refid=OPTION.OPTION:elink. command modifies the original :link reftype=hd refid=INIFile.&4OS2INI.:elink.
 file only, and does not update included files.
 
 .* --------------------------------------------------------------------------
@@ -17672,15 +17644,15 @@
 :h4 name=INI_NextINIFile.NextINIFile
 :p.
 :hp2.NextINIFile:ehp2. = File. The full path and name of the file must be
-specified. All subsequent shells will read the specified :link reftype=hd refid=INIFile.4OS2.INI:elink.
+specified. All subsequent shells will read the specified :link reftype=hd refid=INIFile.&4OS2INI.:elink.
 file, and ignore any :hp2.[Secondary]:ehp2. section in the original
-:link reftype=hd refid=INIFile.4OS2.INI:elink. file.
+:link reftype=hd refid=INIFile.&4OS2INI.:elink. file.
 
 .* --------------------------------------------------------------------------
 
 :h2 name=INIExamples..INI File Examples
 :p.
-This example configures certain special characters to match 4OS2, and
+This example configures certain special characters to match &4OS2., and
 changes other default settings to suit the user's preferences. Note that
 the comments for the :link reftype=hd refid=INI_HelpBook.HelpBook:elink. and
 :link reftype=hd refid=INI_ColorDir.ColorDir:elink. directives are on
@@ -17724,41 +17696,41 @@
 
 .* --------------------------------------------------------------------------
 
-:h2 name=Startup.Starting 4OS2
+:h2 name=Startup.Starting &4OS2.
 :p.
-Each 4OS2 object on your OS/2 desktop represents a different
-4OS2 session. You can configure any of these sessions to run
+Each &4OS2. object on your OS/2 desktop represents a different
+&4OS2. session. You can configure any of these sessions to run
 in windowed or full-screen mode, and you can set any necessary
-command line parameters for 4OS2, by adjusting the properties of the
+command line parameters for &4OS2., by adjusting the properties of the
 desktop objects.
 :p.
 To adjust the properties of an object you need to be familiar with
 how object properties are set in your version of OS/2. For details
-see your OS/2 documentation, or the 4OS2 Introduction and Installation
+see your OS/2 documentation, or the &4OS2. Introduction and Installation
 Guide.
 :p.
-When you configure a 4OS2 object, place an asterisk [:hp2.*:ehp2.] in the
+When you configure a &4OS2. object, place an asterisk [:hp2.*:ehp2.] in the
 Program Name field, and put any startup options that you want
-passed to 4OS2 (:hp1.e.g.:ehp1., @inifile) in the Parameters field. For
+passed to &4OS2. (:hp1.e.g.:ehp1., @inifile) in the Parameters field. For
 example&colon.
 :xmp.
      Path and file name&colon. *
      Parameters&colon.     @D&colon.\START\4OS2.INI
      Working directory&colon.  C&colon.\
 :exmp.:p.
-(If 4OS2 is not set up as your default OS/2 shell in
+(If &4OS2. is not set up as your default OS/2 shell in
 :hp1.CONFIG.SYS:ehp1., use the full path and name for :hp1.4OS2.EXE:ehp1. as
 the program name, rather than the asterisk.)
 :p.
-To run a startup batch file for a particular 4OS2 session, include its name
+To run a startup batch file for a particular &4OS2. session, include its name
 (with a path, if the batch file is not in the session's startup directory)
 as the last item in the Parameters field when you configure the desktop
 object. That batch file will be executed after any :link reftype=hd
 refid=AutoBatch.4START:elink. file, but before the first prompt is
 displayed. You can use the batch file to set environment variables and
-execute any other 4OS2 commands.
+execute any other &4OS2. commands.
 :p.
-You can also execute any internal 4OS2 command, external command,
+You can also execute any internal &4OS2. command, external command,
 or alias by placing its name in the Parameters field. For example&colon.
 :xmp.
      Path and file name&colon. *
@@ -17775,13 +17747,13 @@
      Working directory&colon.  C&colon.\
 :exmp.
 :p.
-The 4OS2 command line does not need to contain any information. When
-invoked with an empty command line, 4OS2 will configure itself from
-:link reftype=hd refid=INIFile.4OS2.INI:elink., run 4START, and then display a prompt and wait for
-you to type a command. However, you may add options on the 4OS2
-command line to change the way 4OS2 operates.
+The &4OS2. command line does not need to contain any information. When
+invoked with an empty command line, &4OS2. will configure itself from
+:link reftype=hd refid=INIFile.&4OS2INI.:elink., run 4START, and then display a prompt and wait for
+you to type a command. However, you may add options on the &4OS2.
+command line to change the way &4OS2. operates.
 :p.
-4OS2 recognizes several optional fields on the command line.
+&4OS2. recognizes several optional fields on the command line.
 All of the options go on one line. If you use more than one
 of these fields, their order is important. The syntax for the
 command line is&colon.
@@ -17793,39 +17765,39 @@
 The options are&colon.
 :lm margin=8.
 :p.
-:hp2.d&colon.\path&colon.:ehp2. 4OS2 will use this directory and path to set
+:hp2.d&colon.\path&colon.:ehp2. &4OS2. will use this directory and path to set
 the :link reftype=hd refid=COMSPEC.COMSPEC:elink. environment variable
 for this session. If this option is not used, COMSPEC is set from the location
-of :hp1.4OS2.EXE:ehp1.&per. 4OS2 always knows what drive and directory it was
+of :hp1.4OS2.EXE:ehp1.&per. &4OS2. always knows what drive and directory it was
 started from and can set COMSPEC accordingly. It is included only
 for compatibility with :hp1.CMD.EXE:ehp1.&per. This option cannot be used for
 secondary shells.
 :p.
 :hp2.@d&colon.\path\inifile&colon.:ehp2. This option sets the path and name of
-the :link reftype=hd refid=INIFile.4OS2.INI:elink. file. You do not
-need this option if you aren't using :link reftype=hd refid=INIFile.4OS2.INI:elink., or if the
-file is named :link reftype=hd refid=INIFile.4OS2.INI:elink. and is stored in the same subdirectory as
+the :link reftype=hd refid=INIFile.&4OS2INI.:elink. file. You do not
+need this option if you aren't using :link reftype=hd refid=INIFile.&4OS2INI.:elink., or if the
+file is named :link reftype=hd refid=INIFile.&4OS2INI.:elink. and is stored in the same subdirectory as
 :hp1.4OS2.EXE:ehp1. or in the root directory of the boot drive. This option
-is most useful if you want to start a 4OS2 session with a specific and
-unique :link reftype=hd refid=INIFile.4OS2.INI:elink. file.
+is most useful if you want to start a &4OS2. session with a specific and
+unique :link reftype=hd refid=INIFile.&4OS2INI.:elink. file.
 :p.
-:hp2.//iniline&colon.:ehp2. This option tells 4OS2 to treat the text
+:hp2.//iniline&colon.:ehp2. This option tells &4OS2. to treat the text
 appearing between the :hp2.//:ehp2. and the next space or tab as a
-:link reftype=hd refid=INIFile.4OS2.INI:elink. directive. The
-directive should be in the same format as a line in :link reftype=hd refid=INIFile.4OS2.INI:elink., but
+:link reftype=hd refid=INIFile.&4OS2INI.:elink. directive. The
+directive should be in the same format as a line in :link reftype=hd refid=INIFile.&4OS2INI.:elink., but
 it may not contain spaces, tabs, or comments. This option overrides any
-corresponding directive in :link reftype=hd refid=INIFile.4OS2.INI:elink.&per. It is a convenient
-way to send 4OS2 one or two simple directives without modifying or creating
-a new :link reftype=hd refid=INIFile.4OS2.INI:elink.&per.
+corresponding directive in :link reftype=hd refid=INIFile.&4OS2INI.:elink.&per. It is a convenient
+way to send &4OS2. one or two simple directives without modifying or creating
+a new :link reftype=hd refid=INIFile.&4OS2INI.:elink.&per.
 :p.
-:hp2./L:ehp2., :hp2./LA:ehp2., :hp2./LD:ehp2., and :hp2./LH:ehp2.&colon. These options force 4OS2 to to use a local
+:hp2./L:ehp2., :hp2./LA:ehp2., :hp2./LD:ehp2., and :hp2./LH:ehp2.&colon. These options force &4OS2. to to use a local
 alias, directory history, and / or command history list. They can be
 used to override any
 :link reftype=hd refid=INI_LocalAliases.LocalAliases:elink.=No,
 :link reftype=hd refid=INI_LocalDirHistory.LocalDirHistory:elink.=No, or
 :link reftype=hd refid=INI_LocalHistory.LocalHistory:elink.=No
-settings in :link reftype=hd refid=INIFile.4OS2.INI:elink.&per. This allows you to use global lists as the
-default, but start a specific 4OS2 session with local lists. :hp2./LA:ehp2.
+settings in :link reftype=hd refid=INIFile.&4OS2INI.:elink.&per. This allows you to use global lists as the
+default, but start a specific &4OS2. session with local lists. :hp2./LA:ehp2.
 forces local aliases, :hp2./LD:ehp2. forces local directory history,
 :hp2./LH:ehp2. forces local history, and :hp2./L:ehp2. forces all three.
 :p.
@@ -17834,22 +17806,22 @@
 Window:elink. for details on local and global directory history, and :link
 reftype=hd refid=ALIAS.ALIAS:elink. for details on local and global aliases.
 :p.
-:hp2./S&colon.:ehp2. This option tells 4OS2 that you do not want it to
+:hp2./S&colon.:ehp2. This option tells &4OS2. that you do not want it to
 set up a Ctrl-C / Ctrl-Break handler. It is included for
 compatibility with :hp1.CMD.EXE:ehp1., but it may cause the system
 to operate incorrectly if you use this option without
 other software to handle Ctrl-C and Ctrl-Break.
 :p.
-:hp2.[/C | /K] command&colon.:ehp2. This option tells 4OS2 to run a
+:hp2.[/C | /K] command&colon.:ehp2. This option tells &4OS2. to run a
 command when it starts. The command will be run after :link reftype=hd
 refid=AutoBatch.4START:elink. has been executed and before any command
 prompt is displayed. It can be any valid internal or external command,
 batch file, or alias; you may include multiple commands by using the command
 separator. All other startup options must be placed before the command,
-because 4OS2 will treat characters after the command as part of the command
+because &4OS2. will treat characters after the command as part of the command
 and not as additional startup options.
 :p.
-When the command is preceded by a :hp2./C:ehp2., 4OS2 will execute the
+When the command is preceded by a :hp2./C:ehp2., &4OS2. will execute the
 command and then exit and return to the parent program or the OS/2 desktop
 without displaying a prompt.
 :p.
@@ -17860,12 +17832,12 @@
 
 .* --------------------------------------------------------------------------
 
-:h2 name=HelpSys.The 4OS2 Help System
+:h2 name=HelpSys.The &4OS2. Help System
 :p.
-This online help system for 4OS2 covers all 4OS2 features and internal
-commands. It includes reference information to assist you in using 4OS2
+This online help system for &4OS2. covers all &4OS2. features and internal
+commands. It includes reference information to assist you in using &4OS2.
 and developing batch files; however it does not include all of the details
-which are included in the printed 4OS2 manuals.
+which are included in the printed &4OS2. manuals.
 :p.
 If you type part or all of a command on the line and then press
 :hp2.F1:ehp2., the help system will provide "context-sensitive" help by
@@ -17903,7 +17875,7 @@
 *COPY /?, the alias will be ignored and the :hp2./?:ehp2. will work as you
 intended.
 :p.
-The 4OS2 help system uses OS/2's :hp1.VIEW.EXE:ehp1. to display this help
+The &4OS2. help system uses OS/2's :hp1.VIEW.EXE:ehp1. to display this help
 text. Once you've started the help system with HELP or :hp2.F1:ehp2., you
 can use VIEW's standard keystrokes to navigate. For more information,
 click on the Help menu at the top of the VIEW window.
@@ -17915,11 +17887,11 @@
 or enter the HELP command. A help book is a single :hp1..INF:ehp1.
 file. This help text is in the file :hp1.4OS2.INF:ehp1.&per.
 :p.
-By default, 4OS2 opens this book and the OS/2 command reference file,
-:hp1.CMDREF.INF:ehp1.&per. You can change the default books opened for the 4OS2
+By default, &4OS2. opens this book and the OS/2 command reference file,
+:hp1.CMDREF.INF:ehp1.&per. You can change the default books opened for the &4OS2.
 help system with the :link reftype=hd refid=INI_HelpBook.HelpBook:elink.
-directive in :link reftype=hd refid=INIFile.4OS2.INI:elink.&per. The default setting is 4OS2+CMDREF. For
-example, to load only the 4OS2 help when you press :hp2.F1:ehp2. or enter
+directive in :link reftype=hd refid=INIFile.&4OS2INI.:elink.&per. The default setting is 4OS2+CMDREF. For
+example, to load only the &4OS2. help when you press :hp2.F1:ehp2. or enter
 the HELP command&colon.
 :xmp.
     HelpBook = 4OS2
@@ -17929,15 +17901,15 @@
 
 :h2 name=Errors.Error Messages
 :p.
-This section lists error messages generated by 4OS2, and includes a
+This section lists error messages generated by &4OS2., and includes a
 recommended course of action where appropriate. If you are unable to
-resolve the problem, visit the 4OS2 project page for
+resolve the problem, visit the &4OS2. project page for
 :link reftype=hd refid=TechSup.technical support:elink.&per.
 :p.
 Error messages relating to files are generally reports of errors
 returned by OS/2. You may find some of these messages (for
 example, "Access denied") vague enough that they are not always
-helpful. 4OS2 includes the filename in file error messages, but
+helpful. &4OS2. includes the filename in file error messages, but
 is often unable to determine a more accurate explanation of these
 errors. The message shown is the best information available based
 on the error codes returned by OS/2.
@@ -17961,37 +17933,37 @@
 :hp2.Bad disk unit:ehp2.&colon. Generally caused by a disk drive hardware
 failure.
 :p.
-:hp2.Batch file missing:ehp2.&colon. 4OS2 can't find the batch
+:hp2.Batch file missing:ehp2.&colon. &4OS2. can't find the batch
 (:hp1..BTM:ehp1. or :hp1..CMD:ehp1. ) file it was running. It was either
 deleted, renamed, moved, or the disk was changed. Correct the problem and
 rerun the file.
 :p.
 :hp2.Can't copy file to itself:ehp2.&colon. You cannot :link reftype=hd
 refid=COPY.COPY:elink. or :link reftype=hd refid=MOVE.MOVE:elink. a file to
-itself. 4OS2 attempts to perform full path and filename expansion before
+itself. &4OS2. attempts to perform full path and filename expansion before
 copying to help ensure that files aren't inadvertently destroyed.
 :p.
-:hp2.Can't create:ehp2.&colon. 4OS2 can't create the specified file. The disk
+:hp2.Can't create:ehp2.&colon. &4OS2. can't create the specified file. The disk
 may be full or write protected, or the file already exists and is
 read-only, or the root directory is full.
 :p.
-:hp2.Can't delete:ehp2.&colon. 4OS2 can't delete the specified file or
+:hp2.Can't delete:ehp2.&colon. &4OS2. can't delete the specified file or
 directory. The disk is probably write protected.
 :p.
-:hp2.Can't get directory:ehp2.&colon. 4OS2 can't read the directory. The
+:hp2.Can't get directory:ehp2.&colon. &4OS2. can't read the directory. The
 disk drive is probably not ready.
 :p.
-:hp2.Can't install hook:ehp2.&colon. 4OS2 cannot install the operating
+:hp2.Can't install hook:ehp2.&colon. &4OS2. cannot install the operating
 system hooks required to support the :link reftype=hd
 refid=KEYSTACK.KEYSTACK:elink. command. The operating system may have
 been damaged or improperly installed, or there may be too few resources
 to support KEYSTACK.
 :p.
-:hp2.Can't make directory entry:ehp2.&colon. 4OS2 can't create the filename in
+:hp2.Can't make directory entry:ehp2.&colon. &4OS2. can't create the filename in
 the directory. This is usually caused by a full root directory.
 Create a subdirectory and move some of the files to it.
 :p.
-:hp2.Can't open:ehp2.&colon. 4OS2 can't open the specified file. Either the
+:hp2.Can't open:ehp2.&colon. &4OS2. can't open the specified file. Either the
 file doesn't exist or the disk directory or File Allocation Table
 is damaged.
 :p.
@@ -18011,7 +17983,7 @@
 retrieve some text from the OS/2 clipboard, but there is no text
 available. Correct the contents of the clipboard and try again.
 :p.
-:hp2.Clipboard is in use by another program:ehp2.&colon. 4OS2 could not
+:hp2.Clipboard is in use by another program:ehp2.&colon. &4OS2. could not
 access the OS/2 clipboard because another program was using it. Wait until
 the clipboard is available, or complete any pending action in the other
 program, then try again.
@@ -18061,14 +18033,14 @@
 cannot nest SETLOCAL / :link reftype=hd refid=ENDLOCAL.ENDLOCAL:elink. pairs.
 :p.
 :hp2.Error in command-line directive:ehp2.&colon. You used the
-:hp2.//iniline:ehp2. option to place a :link reftype=hd refid=INIFile.4OS2.INI:elink. directive on the
+:hp2.//iniline:ehp2. option to place a :link reftype=hd refid=INIFile.&4OS2INI.:elink. directive on the
 :link reftype=hd refid=Startup.startup:elink. command line, but the
 directive is in error. Usually a more specific error message follows, and
 can be looked up in this list.
 :p.
 :hp2.Error on line [nnnn] of [filename]:ehp2.&colon. There is an error in your
-:link reftype=hd refid=INIFile.4OS2.INI:elink. file. The following message explains the error
-in more detail. Correct the line in error and restart 4OS2 for
+:link reftype=hd refid=INIFile.&4OS2INI.:elink. file. The following message explains the error
+in more detail. Correct the line in error and restart &4OS2. for
 your change to take effect.
 :p.
 :hp2.Error reading:ehp2.&colon. OS/2 experienced an I/O error when reading from
@@ -18087,13 +18059,13 @@
 error, or an unusual software interaction.
 :p.
 :hp2.File exists:ehp2.&colon. The requested output file already exists, and
-4OS2 won't overwrite it.
+&4OS2. won't overwrite it.
 :p.
 :hp2.File is empty:ehp2.&colon. You attempted to use an empty file in
 :link reftype=hd refid=_@SELECT.@SELECT:elink.&per. Correct the filename
 or contents and try again.
 :p.
-:hp2.File not found:ehp2.&colon. 4OS2 couldn't find the specified file. Check
+:hp2.File not found:ehp2.&colon. &4OS2. couldn't find the specified file. Check
 the spelling and path name.
 :p.
 :hp2.General failure:ehp2.&colon. This is usually a hardware problem,
@@ -18102,11 +18074,11 @@
 problem, or reboot and try again. Also see :hp2.Data error:ehp2. above.
 :p.
 :hp2.Include file not found:ehp2.&colon. You used the :link reftype=hd
-refid=INI_Include.Include:elink. directive in :link reftype=hd refid=INIFile.4OS2.INI:elink., but the
+refid=INI_Include.Include:elink. directive in :link reftype=hd refid=INIFile.&4OS2INI.:elink., but the
 file you specified was not found or could not be opened.
 :p.
 :hp2.Include files nested too deep:ehp2.&colon. You used the :link
-reftype=hd refid=INI_Include.Include:elink. directive in the 4OS2.INI
+reftype=hd refid=INI_Include.Include:elink. directive in the &4OS2INI.
 file, and attempted to nest include files more than three levels deep.
 :p.
 :hp2.Infinite COPY or MOVE loop:ehp2.&colon. You tried to :link reftype=hd
@@ -18120,14 +18092,14 @@
 drive. Remove some files and retry the operation.
 :p.
 :hp2.Invalid character value:ehp2.&colon. You gave an invalid value for a
-character directive in the :link reftype=hd refid=INIFile.4OS2.INI:elink. file.
+character directive in the :link reftype=hd refid=INIFile.&4OS2INI.:elink. file.
 :p.
 :hp2.Invalid choice value:ehp2.&colon. You gave an invalid value for a "choice"
 directive (one that accepts a choice from a list, like "Yes" or
-"No") in the :link reftype=hd refid=INIFile.4OS2.INI:elink. file.
+"No") in the :link reftype=hd refid=INIFile.&4OS2INI.:elink. file.
 :p.
 :hp2.Invalid color:ehp2.&colon. You gave an invalid value for a color directive
-in the :link reftype=hd refid=INIFile.4OS2.INI:elink. file.
+in the :link reftype=hd refid=INIFile.&4OS2INI.:elink. file.
 :p.
 :hp2.Invalid count:ehp2.&colon. The character repeat count for :link
 reftype=hd refid=KEYSTACK.KEYSTACK:elink. is incorrect.
@@ -18135,34 +18107,34 @@
 :hp2.Invalid date:ehp2.&colon. An invalid date was entered. Check the syntax
 and reenter.
 :p.
-:hp2.Invalid directive name:ehp2.&colon. 4OS2 can't recognize the name of a
-directive in your :link reftype=hd refid=INIFile.4OS2.INI:elink. file.
+:hp2.Invalid directive name:ehp2.&colon. &4OS2. can't recognize the name of a
+directive in your :link reftype=hd refid=INIFile.&4OS2INI.:elink. file.
 :p.
 :hp2.Invalid drive:ehp2.&colon. A bad or non-existent disk drive was specified.
 :p.
 :hp2.Invalid key name:ehp2.&colon. You tried to make an invalid key
-substitution in the :link reftype=hd refid=INIFile.4OS2.INI:elink. file, or you used an invalid
+substitution in the :link reftype=hd refid=INIFile.&4OS2INI.:elink. file, or you used an invalid
 key name in a keystroke :link reftype=hd refid=alias.alias:elink. or command. Correct the
 error and retry the operation.
 :p.
 :hp2.Invalid numeric value:ehp2.&colon. You gave an invalid value for a
-numeric directive in the :link reftype=hd refid=INIFile.4OS2.INI:elink. file.
+numeric directive in the :link reftype=hd refid=INIFile.&4OS2INI.:elink. file.
 :p.
-:hp2.Invalid parameter:ehp2.&colon. 4OS2 didn't recognize a parameter. Check
+:hp2.Invalid parameter:ehp2.&colon. &4OS2. didn't recognize a parameter. Check
 the syntax and spelling of the command you entered.
 :p.
 :hp2.Invalid path:ehp2.&colon. The specified path does not exist. Check the
 disk specification and/or spelling.
 :p.
 :hp2.Invalid path or file name:ehp2.&colon. You used an invalid path or
-filename in a directive in the :link reftype=hd refid=INIFile.4OS2.INI:elink. file.
+filename in a directive in the :link reftype=hd refid=INIFile.&4OS2INI.:elink. file.
 :p.
 :hp2.Invalid time:ehp2.&colon. An invalid time was entered. Check the syntax
 and reenter.
 :p.
-:hp2.Keystroke substitution table full:ehp2.&colon. 4OS2 ran out of room to
+:hp2.Keystroke substitution table full:ehp2.&colon. &4OS2. ran out of room to
 store :link reftype=hd refid=INIKeyMap.keystroke substitutions:elink.
-entered in :link reftype=hd refid=INIFile.4OS2.INI:elink.&per. Reduce the number of key
+entered in :link reftype=hd refid=INIFile.&4OS2INI.:elink.&per. Reduce the number of key
 substitutions or contact JP Software or your dealer for assistance.
 :p.
 :hp2.Label not found:ehp2.&colon. A :link reftype=hd refid=GOTO.GOTO:elink.
@@ -18173,7 +18145,7 @@
 command is missing a matching :link reftype=hd
 refid=TEXT.ENDTEXT:elink.&per. Check the batch file.
 :p.
-:hp2.Missing GOSUB:ehp2.&colon. 4OS2 cannot perform the :link reftype=hd
+:hp2.Missing GOSUB:ehp2.&colon. &4OS2. cannot perform the :link reftype=hd
 refid=RETURN.RETURN:elink. command in a batch file. You tried to do a
 RETURN without a :link reftype=hd refid=GOSUB.GOSUB:elink., or your batch
 file has been corrupted.
@@ -18185,23 +18157,23 @@
 :hp2.No aliases defined:ehp2.&colon. You tried to display aliases but no
 aliases have been defined.
 :p.
-:hp2.No closing quote:ehp2.&colon. 4OS2 couldn't find a second matching back
+:hp2.No closing quote:ehp2.&colon. &4OS2. couldn't find a second matching back
 quote [:hp2.`:ehp2.] or double-quote [:hp2.":ehp2.] on the command line.
 :p.
 :hp2.No expression:ehp2.&colon. The expression passed to the :link
 reftype=hd refid=_@EVAL.@EVAL:elink. variable function is empty. Correct
 the expression and retry the operation.
 :p.
-:hp2.No room for INI file name:ehp2.&colon. 4OS2 does not have enough space to
-pass the name of your :link reftype=hd refid=INIFile.4OS2.INI:elink. file to secondary shells;
+:hp2.No room for INI file name:ehp2.&colon. &4OS2. does not have enough space to
+pass the name of your :link reftype=hd refid=INIFile.&4OS2INI.:elink. file to secondary shells;
 see :hp2.String area overflow:ehp2. for more details. Any [Secondary]
-section in :link reftype=hd refid=INIFile.4OS2.INI:elink. will be ignored in secondary shells until
+section in :link reftype=hd refid=INIFile.&4OS2INI.:elink. will be ignored in secondary shells until
 the problem is corrected and the system or session is restarted.
 :p.
 :hp2.No shared memory found:ehp2.&colon. The :link reftype=hd
 refid=SHRALIAS.SHRALIAS:elink. command could not find any global alias list,
 history list, or directory history list to retain, because you executed the
-command from a session with local lists. Start 4OS2 with at least one
+command from a session with local lists. Start &4OS2. with at least one
 global list, then invoke SHRALIAS.
 :p.
 :hp2.Not a windowed session:ehp2.&colon. You tried to use the
@@ -18219,7 +18191,7 @@
 reftype=hd refid=REN.RENAME:elink.&per. You cannot rename a file to a
 different disk drive.
 :p.
-:hp2.Out of memory:ehp2.&colon. 4OS2 or OS/2 had insufficient memory to execute
+:hp2.Out of memory:ehp2.&colon. &4OS2. or OS/2 had insufficient memory to execute
 the last command. Try to free some memory by closing other sessions. If the
 error persists, contact JP Software for assistance.
 :p.
@@ -18257,9 +18229,9 @@
 but it was never loaded. This message is informational and may not indicate
 an error condition.
 :p.
-:hp2.String area overflow:ehp2.&colon. 4OS2 ran out of room to store the text
-from string directives in the :link reftype=hd refid=INIFile.4OS2.INI:elink.
-file. Reduce the complexity of :link reftype=hd refid=INIFile.4OS2.INI:elink. or contact support for assistance.
+:hp2.String area overflow:ehp2.&colon. &4OS2. ran out of room to store the text
+from string directives in the :link reftype=hd refid=INIFile.&4OS2INI.:elink.
+file. Reduce the complexity of :link reftype=hd refid=INIFile.&4OS2INI.:elink. or contact support for assistance.
 :p.
 :hp2.Syntax error:ehp2.&colon. A command or :link reftype=hd refid=VarFuncs.variable function:elink. was
 entered in an improper format. Check the syntax and correct the
@@ -18273,7 +18245,7 @@
 refid=_@EVAL.@EVAL:elink. variable function. Correct the expression and
 retry the operation.
 :p.
-:hp2.Unknown command:ehp2.&colon. A command was entered that 4OS2 didn't
+:hp2.Unknown command:ehp2.&colon. A command was entered that &4OS2. didn't
 recognize and couldn't find in the current search path. Check the
 spelling or PATH specification. You can handle unknown commands
 with the UNKNOWN_CMD alias (see :link reftype=hd refid=ALIAS.ALIAS:elink.).
@@ -18287,12 +18259,12 @@
 or variables are nested more than 16 deep. Correct the error and
 retry the command.
 :p.
-:hp2.Warning&colon. Can't load 4OS2DLL:ehp2.&colon. 4OS2 cannot find
+:hp2.Warning&colon. Can't load 4OS2DLL:ehp2.&colon. &4OS2. cannot find
 :hp1.4OS2DLL.DLL:ehp1., a library used to support the BEGINLIBPATH and
 ENDLIBPATH "environment variables" under OS/2 Warp. :hp1.4OS2DLL.DLL:ehp1.
-must be in the 4OS2 directory, or on a directory listed in the LIBPATH
+must be in the &4OS2. directory, or on a directory listed in the LIBPATH
 setting in :hp1.CONFIG.SYS:ehp1.&per. If it is not, BEGINLIBPATH and ENDLIBPATH
-will not be available, but all other 4OS2 functions will operate normally.
+will not be available, but all other &4OS2. functions will operate normally.
 :p.
 :hp2.Write error:ehp2.&colon. OS/2 encountered a disk write error; usually
 caused by a bad or unformatted disk. Also see :hp2.Data error:ehp2. above.
@@ -18301,8 +18273,8 @@
 
 :h2 name=Support.Troubleshooting, Service, and Support
 :p.
-If you need help with 4OS2, we encourage you to review the documentation.
-Please note that 4OS2 is no longer supported by JP Software.
+If you need help with &4OS2., we encourage you to review the documentation.
+Please note that &4OS2. is no longer supported by JP Software.
 
 .* --------------------------------------------------------------------------
 
@@ -18311,14 +18283,14 @@
 :hp2.Before You Contact Us:ehp2.
 :p.
 Before contacting us for support, try searching this help file. If you're
-having trouble getting 4OS2 to run properly, review the information on
+having trouble getting &4OS2. to run properly, review the information on
 :link reftype=hd refid=Errors.Error Messages:elink., and look through the
 :hp1.README.TXT:ehp1. file for any last-minute information.
 :p.
 :hp2.Online Support:ehp2.
 :p.
-This release of 4OS2 is not supported by JP Software. Please do not contact
-JP Software with any questions about 4OS2. Instead, visit the project page
+This release of &4OS2. is not supported by JP Software. Please do not contact
+JP Software with any questions about &4OS2.. Instead, visit the project page
 at&colon.
 :p.
 https&colon.//trac.netlabs.org/4os2/ 
@@ -18328,7 +18300,7 @@
 :h1 nosearch name=TOC_ConfigurationNotebook.Configuration Notebook
 :p.
 The Configuration Notebook is a standard WPS settings notebook which allows you
-to modify the most common 4OS2 options.
+to modify the most common &4OS2. options.
 :p.
 Each page includes the following buttons at the bottom&colon.
 :lm margin=8.:parml compact tsize=16 break=fit.
@@ -18366,7 +18338,7 @@
 :eparml.:lm margin=1.
 :p.
 Changes you make on this page will only take effect when you restart the session
-or window in which 4OS2 is running.
+or window in which &4OS2. is running.
 
 
 .* --------------------------------------------------------------------------
@@ -18534,8 +18506,8 @@
 :hp2.What's New - General Features and Enhancements:ehp2.
 :lm margin=1.:parml tsize=10 break=fit.
 :pt.:hp2.&10ver. :ehp2. :pd.The default location for :hp1.JPSTREE.IDX:ehp1. has
-been changed to the 4OS2 installation directory (if writable) or to the root of
-the boot volume. This location is written to the TreePath variable in 4OS2.INI.
+been changed to the &4OS2. installation directory (if writable) or to the root of
+the boot volume. This location is written to the TreePath variable in &4OS2INI..
 If :hp1.JPSTREE.IDX:ehp1. already exists, it is left in place.
 :pt.:hp2.&10ver. :ehp2. :pd.Add the Shift-Ins key combinations as an 
 option to paste text.
@@ -18572,7 +18544,7 @@
 locations are now controllable with the :link reftype=hd
 refid=INI_DecimalChar.DecimalChar:elink. and :link reftype=hd
 refid=INI_ThousandsChar.ThousandsChar:elink. directives in the
-:link reftype=hd refid=INIFile.4OS2.INI:elink. file, the corresponding options in the configuration or
+:link reftype=hd refid=INIFile.&4OS2INI.:elink. file, the corresponding options in the configuration or
 OPTION dialogs, and the SETDOS /G command. These characters are saved by
 SETLOCAL and restored by ENDLOCAL. This is intended as an aid to those
 writing batch files which perform arithmetic operations and which may be
@@ -18613,8 +18585,8 @@
 returned for that line will be short names (until you hit Ctrl-A again).
 :pt.*:pd.Filename completion can now be customized for individual commands
 via the new :link reftype=hd refid=INI_FileCompletion.FileCompletion:elink.
-:link reftype=hd refid=INIFile.4OS2.INI:elink. directive (or environment variable). For example, you can
-configure 4OS2 to complete only the names of :hp1..TXT:ehp1. files when the
+:link reftype=hd refid=INIFile.&4OS2INI.:elink. directive (or environment variable). For example, you can
+configure &4OS2. to complete only the names of :hp1..TXT:ehp1. files when the
 command line starts with the name of your text editor, or to display only
 directory names when you are entering a CD command.
 :pt.*:pd.The F7 filename completion popup window now sorts the filename list
@@ -18624,7 +18596,7 @@
 line with the Ctrl-F key.
 :pt.:pd.Command line :link reftype=hd refid=CmdHist.history recall:elink.
 will now stop at the beginning and end of the history list rather than
-wrapping around, if you set HistWrap to No in :link reftype=hd refid=INIFile.4OS2.INI:elink. or
+wrapping around, if you set HistWrap to No in :link reftype=hd refid=INIFile.&4OS2INI.:elink. or
 through the configuration dialogs.
 :eparml.:lm margin=1.
 
@@ -18801,9 +18773,9 @@
 can be used for two purposes. When invoked without parameters, it loads the
 :link reftype=hd refid=TOC_ConfigurationNotebook.Configuration Notebook:elink.,
 which adjusts most commonly-used settings in the
-:link reftype=hd refid=INIFile.4OS2.INI:elink. file. The pages provide a
+:link reftype=hd refid=INIFile.&4OS2INI.:elink. file. The pages provide a
 convenient method of adjusting configuration without manually editing
-:link reftype=hd refid=INIFile.4OS2.INI:elink.&per. OPTION can
+:link reftype=hd refid=INIFile.&4OS2INI.:elink.&per. OPTION can
 also be used to change specific settings on an individual basis with the
 OPTION Name=value ..&per. syntax; see the command for complete details.
 :pt.:pd.:link reftype=hd refid=PROMPT.PROMPT:elink.&colon. Added the
@@ -18845,7 +18817,7 @@
 block (ENDSWITCH). If no CASE statement matches, SWITCH will execute the
 code in the (optional) DEFAULT block.
 :pt.:pd.:link reftype=hd refid=TITLE.TITLE:elink.&colon. This new command
-changes the 4OS2 window title for windowed sessions (it is not effective in
+changes the &4OS2. window title for windowed sessions (it is not effective in
 full-screen sessions).
 :pt.:pd.:link reftype=hd refid=TOUCH.TOUCH:elink.&colon. This new command
 changes the date and/or time for a file or files. You can set a specified
@@ -18997,8 +18969,8 @@
 :lm margin=1.:parml tsize=10 break=fit.
 :pt.:hp2.&10ver. :ehp2. :pd.:link reftype=hd refid=INI_CMDDirMvCpy.CMDDirMvCpy:elink.
 CMD copies or moves the directory to the target when the command line aurgument 
-is a directory. By default 4OS2 copies or moves the files in the directory to the 
-target. Setting this to yes makes 4OS2 provide the CMD behavior.
+is a directory. By default &4OS2. copies or moves the files in the directory to the 
+target. Setting this to yes makes &4OS2. provide the CMD behavior.
 :pt.:hp2.&10ver. :ehp2. :pd.:link reftype=hd refid=INI_TmSmpFmt.TmSmpFmt:elink.
 Sets the format for time stamp (:link reftype=hd refid=_TMSMP._TMSMP:elink.). 
 TmSmpFmt=YY-MM-DD-HH-MM(-SS) where the separator must be "-", seconds are optional.
@@ -19043,7 +19015,7 @@
 refid=FFIND.FFIND:elink. consider the first line in a file to be line
 "1" or line "0". The new default is "1".
 :pt.:hp2.3.02:ehp2. :pd.:link reftype=hd refid=INI_PathExt.PathExt:elink. =
-NO &splitvbar. Yes&colon. Determines whether 4OS2 uses standard
+NO &splitvbar. Yes&colon. Determines whether &4OS2. uses standard
 extensions when searching the path, or uses the alternate extensions
 specified in the :link reftype=hd refid=PATHEXT.PATHEXT:elink. environment
 variable.
@@ -19064,7 +19036,7 @@
 :exmp.:p.
 [Primary] and [Secondary] section names are still supported as well.
 :p.
-:pt.Added or modified the following :link reftype=hd refid=INIFile.4OS2.INI:elink. directives (all are new
+:pt.Added or modified the following :link reftype=hd refid=INIFile.&4OS2INI.:elink. directives (all are new
 unless otherwise noted)&colon.
 :pt.:pd.:link reftype=hd refid=INI_CDDWinLeft.CDDWinLeft, CDDWinTop,
 CDDWinWidth, CDDWinHeight:elink., and :link reftype=hd
@@ -19073,7 +19045,7 @@
 :link reftype=hd refid=ExtDirSearch.extended directory searches:elink.&per.
 :pt.:pd.:link reftype=hd
 refid=INI_DescriptionName.DescriptionName:elink.&colon. This directive has
-a new capability&colon. If set to "EA", 4OS2 will use extended attributes
+a new capability&colon. If set to "EA", &4OS2. will use extended attributes
 (specifically, the ".SUBJECT" EA) for file descriptions, rather than
 :hp1.DESCRIPT.ION:ehp1. or another file. depending upon operating system
 configuration and cache behavior, this setting can cause a significant
@@ -19096,12 +19068,12 @@
 :pt.:pd.:link reftype=hd refid=INI_Include.Include:elink. =
 filename&colon. Includes the contents of the named file as if they had
 appeared at the location of the Include= directive in the current
-:link reftype=hd refid=INIFile.4OS2.INI:elink. file.
+:link reftype=hd refid=INIFile.&4OS2INI.:elink. file.
 :pt.:pd.:link reftype=hd refid=INI_ListboxBarColors.ListboxBarColors:elink. =
 Color&colon. Sets the color for the highlight bar in the popup
 listboxes (command history, filename completion, @SELECT, etc.).
 :pt.:pd.:link reftype=hd refid=INI_TabStops.TabStops:elink. = nnnn
-(8)&colon. This new :link reftype=hd refid=INIFile.4OS2.INI:elink. directive specifies the tab expansion
+(8)&colon. This new :link reftype=hd refid=INIFile.&4OS2INI.:elink. directive specifies the tab expansion
 size when displaying a file in LIST.
 :pt.:pd.:link reftype=hd refid=INI_TreePath.TreePath:elink. =
 Path&colon. Specifies the location of :hp1.JPSTREE.IDX:ehp1. (the :link
@@ -19123,12 +19095,12 @@
 cursor up and down effectively scrolling the window when too small to hold all lines.
 :pt.:hp2.&5verB.:ehp2. :pd.Variable functions that take a drive letter argument now
 accept path names.
-:pt.:hp2.3.05A:ehp2. :pd.The Alt-F4 key combination can now be used to close 4OS2.
+:pt.:hp2.3.05A:ehp2. :pd.The Alt-F4 key combination can now be used to close &4OS2..
 :pt.:hp2.3.04i:ehp2. :pd.The Ctrl-V key combination can now be used to paste
 text from the clipboard while editing input.
 :pt.:hp2.3.04f:ehp2. :pd.Implemented @MASTER variable function for compatibility
-with 4DOS. Since 4OS2 doesn't distinguish between master and local environment,
-this function has no practical use in 4OS2.
+with 4DOS. Since &4OS2. doesn't distinguish between master and local environment,
+this function has no practical use in &4OS2..
 :pt.:hp2.3.04e:ehp2. :pd.Replaced floating point arithmetic with 64-bit integer
 arithmetic. This change is internal and should not affect users in any way.
 :eparml.
@@ -19145,22 +19117,22 @@
 :eparml.
 :lm margin=8.:parml tsize=3 break=fit.
 :pt.:hp8.The following changes were made prior to version 3.01:ehp8.
-:pt.:pd.Removed the 16-bit version of 4OS2.
+:pt.:pd.Removed the 16-bit version of &4OS2..
 :pt.:pd.Replaced the old 4OS2DLL.DLL / TCOS2DLL.DLL with a single file for
-both 4OS2 and TCOS2, named JPOS2DLL.DLL. Also, JPOS2DLL is now loaded
+both &4OS2. and TCOS2, named JPOS2DLL.DLL. Also, JPOS2DLL is now loaded
 dynamically, so you can start the product without it if necessary (e.g. from
 a floppy boot).
 :pt.:pd.Worked around an OS/2 problem that prevented %:link reftype=hd
 refid=_CPU._CPU:elink. from detecting anything higher than a 486.
-:pt.:pd.Updated 4OS2 to remove explicit references to the Presentation
-Manager DLLs (this should make it easier to use 4OS2 from a floppy disk boot).
+:pt.:pd.Updated &4OS2. to remove explicit references to the Presentation
+Manager DLLs (this should make it easier to use &4OS2. from a floppy disk boot).
 :pt.:pd.:link reftype=hd refid=TYPE.TYPE:elink. NUL now "works" (i.e. it
 generates no output), for compatibility with batch files which use TYPE NUL >
 file to generate a 0-byte file.
 :pt.:pd.Added debugging options which allow you to view the command "tail"
-passed to 4OS2, and to "tag" error messages with the product name. See the
+passed to &4OS2., and to "tag" error messages with the product name. See the
 :link reftype=hd refid=INI_Debug.Debug:elink. directive in
-:link reftype=hd refid=INIFile.4OS2.INI:elink. for additional details.
+:link reftype=hd refid=INIFile.&4OS2INI.:elink. for additional details.
 :eparml.
 
 .* --------------------------------------------------------------------------
@@ -19198,9 +19170,9 @@
 :pt.:hp2.&10ver.:ehp2.:pd.Fixed :link reftype=hd
 refid=_@REPLACE.@REPLACE:elink.[string1,string2,text]&colon. to allow for an empty input
 string (ticket #61 changeset 38307).
-:pt.:hp2.&10ver.:ehp2.:pd.Eliminated 4OS2 beep which occurred when using Alt-Tab to
+:pt.:hp2.&10ver.:ehp2.:pd.Eliminated &4OS2. beep which occurred when using Alt-Tab to
 access lSwitcher. Improve NormalKey error message when trying to deassign a key which is
-disallowed for use by 4OS2 (i.e. Alt-Tab, Ctrl-Esc, etc) (ticket #44).
+disallowed for use by &4OS2. (i.e. Alt-Tab, Ctrl-Esc, etc) (ticket #44).
 :pt.:hp2.&9ver..1:ehp2. :pd.Changes memory command descriptions to match displayed values.
 .*
 :pt.:hp2.&9ver.:ehp2. :pd.Update @makeage to be Y2K compliant.
@@ -19214,12 +19186,12 @@
 :pt.:hp2.3.07:ehp2. :pd.Fix for CHCP (ticket #7).
 :pt.:hp2.3.06:ehp2. :pd.Fixed cd into directories with names containing [.
 :pt.:hp2.3.05a:ehp2. :pd.Large file support (>=2GB files with dir and touch commands).
-:pt.:hp2.3.04i:ehp2. :pd.Fixed clipboard access. 4OS2 can now properly access clipboard data.
+:pt.:hp2.3.04i:ehp2. :pd.Fixed clipboard access. &4OS2. can now properly access clipboard data.
 :pt.:hp2.3.04h:ehp2. :pd.Fixed shift /1 crashes.
 The command would crash if there were no command line arguments.
 :pt.:hp2.3.04h:ehp2. :pd.Fixed spurious REXX error reports. The construct 'if 
 exist x del x' would trigger ERROR if x did not exist. Attempts to chain to a 
-4OS2 batch file from a REXX script were not reported with SYS1803.
+&4OS2. batch file from a REXX script were not reported with SYS1803.
 :pt.:hp2.3.04g:ehp2. :pd.Added support for the LIBPATHSTRICT "pseudo-variable"
 in a manner analogous to BEGINLIBPATH and ENDLIBPATH.
 :pt.:hp2.3.04g:ehp2. :pd.:link reftype=hd refid=TITLE.TITLE:elink.&colon.
@@ -19234,7 +19206,7 @@
 version 3.04.
 :pt.:hp2.3.04e:ehp2. :pd.Fixed a problem introduced in 3.04 which caused internal
 state not to be saved properly across GOSUB calls in batch files.
-:pt.:hp2.3.04d:ehp2. :pd.Fixed a problem where 4OS2 did not recognize that a short
+:pt.:hp2.3.04d:ehp2. :pd.Fixed a problem where &4OS2. did not recognize that a short
 name and a long name can point the same file on FAT32. Requires FAT32.IFS
 version 0.95 or newer. (thanks to KO Myung-Hun)
 :pt.:hp2.3.04d:ehp2. :pd.Fixed a problem with DBCS input. (thanks to KO Myung-Hun)
@@ -19244,12 +19216,12 @@
 was not produced by JP Software.
 :pt.:hp2.3.04b:ehp2. :pd.Fixed a problem with setting the command window
 icon on Warp 4 and above.
-:pt.:hp2.3.04b:ehp2. :pd.Changed the way 4OS2 loads JPOS2DLL.DLL. Previously
+:pt.:hp2.3.04b:ehp2. :pd.Changed the way &4OS2. loads JPOS2DLL.DLL. Previously
 only the LIBPATH would be searched. Now the LIBPATH is searched first and if
 the search fails, the directory where 4OS2.EXE was invoked from is searched.
-A side effect of this new behavior is that if two different versions of 4OS2
+A side effect of this new behavior is that if two different versions of &4OS2.
 are run from two different directories and there is no JPOS2DLL.DLL on LIBPATH,
-each 4OS2 version will load its own JPOS2DLL.
+each &4OS2. version will load its own JPOS2DLL.
 :pt.:hp2.3.04:ehp2. :pd.:link reftype=hd refid=CHCP.CHCP:elink.&colon.
 Fixed a problem still causing a crash when changing the code page.
 :eparml.
@@ -19323,7 +19295,7 @@
 its old name (NormalHWinKey).
 :pt.:hp2.3.01:ehp2. :pd.Fixed a problem which caused spurious "nesting level" errors when
 the :link reftype=hd refid=INI_Include.Include:elink. directive was used
-more than three times in :link reftype=hd refid=INIFile.4OS2.INI:elink.&per.
+more than three times in :link reftype=hd refid=INIFile.&4OS2INI.:elink.&per.
 :pt.:hp2.3.01:ehp2. :pd.Modified popup windows to avoid the situation where the bottom half
 of the window is empty when the initially selected line is at the end of the
 list.
@@ -19389,7 +19361,7 @@
 :pt.:pd.:link reftype=hd refid=REN.RENAME:elink.&colon. Now works
 properly when renaming quoted long filenames with embedded wildcards.
 :pt.:pd.Fixed a problem with invalid drive change requests -- commands
-like "1&colon." would crash 4OS2.
+like "1&colon." would crash &4OS2..
 :pt.:pd.Quoted long filenames can now be used in the :link reftype=hd
 refid=INIFile..INI file:elink.&per.
 :pt.:pd.:link reftype=hd refid=_@FILESEEKL.@FILESEEKL:elink.[] now always
@@ -19490,7 +19462,7 @@
 evolved. Which filesystems you can use depend on which operating system
 you are using, and how the operating system and your hard disk are configured.
 :p.
-The operating systems under which 4OS2 runs can support standard OS/2 file
+The operating systems under which &4OS2. runs can support standard OS/2 file
 systems&colon. JFS, HPFS, FAT16, and FAT32. See
 :link reftype=hd refid=Filenames.Filenames:elink. for details on the rules
 for naming files under each filesystem.
@@ -19538,9 +19510,9 @@
 D&colon., and E&colon.) formatted for the JFS filesystem, and the fourth
 formatted for HPFS.
 :p.
-4OS2 supports any standard filesystem installed under your operating
+&4OS2. supports any standard filesystem installed under your operating
 system. If your operating system can access files on a particular volume,
-then 4OS2 will be able to access those files as well.
+then &4OS2. will be able to access those files as well.
 :p.
 Additional information about disk files and directories is available under
 :link reftype=hd refid=DriveVol.Drives and Volumes:elink.,
@@ -19552,7 +19524,7 @@
 :hp2.Network Filesystems:ehp2.
 :p.
 A network filesystem allows you to access files stored on another computer
-on a network, rather than on your own system. 4OS2 supports all network
+on a network, rather than on your own system. &4OS2. supports all network
 filesystems which are recognized by the operating system.
 :p.
 File and directory names for network filesystems depend on both the "server"
@@ -19573,7 +19545,7 @@
 reside, :hp2.volume :ehp2.is the name of a disk volume on that server, and
 the :hp2.path\filename:ehp2. portion is a directory name and filename
 which follow the conventions described in :link reftype=hd
-refid=Directories.Directories and Subdirectories:elink.&per. 4OS2 supports UNC
+refid=Directories.Directories and Subdirectories:elink.&per. &4OS2. supports UNC
 filenames, and also allows you to use UNC directory names when changing
 directories (see :link reftype=hd refid=DirNav.Directory Navigation:elink.
 for more details).
@@ -19581,11 +19553,11 @@
 When you use a network filesystem, remember that the naming conventions for
 files on the network may not match those on your local system. For example,
 your local system may support long filenames while the network server or
-client software does not, or vice versa. 4OS2 will usually handle whatever
+client software does not, or vice versa. &4OS2. will usually handle whatever
 naming conventions are supported by your network software, as long as the
 network software accurately reports the types of names it can handle.
 :p.
-In rare cases, 4OS2 may not be able to report correct statistics on network
+In rare cases, &4OS2. may not be able to report correct statistics on network
 drives (such as the number of bytes free on a drive). This is usually
 because the network filesystem does not provide complete or accurate
 information.
@@ -19647,7 +19619,7 @@
 current default directory." Two dots together [:hp2...:ehp2.] means "the
 directory which contains the current default directory" (often referred to
 as the :hp2.parent directory:ehp2.). These special names can be used
-wherever a full directory name can be used. 4OS2 allows you to use
+wherever a full directory name can be used. &4OS2. allows you to use
 additional dots to specify directories further "up" the tree (see :link
 reftype=hd refid=ParDir.Extended Parent Directory Names:elink.).
 :p.
@@ -19670,7 +19642,7 @@
 base name and the extension of a FAT filename. Because the exclamation
 point [:hp2.!:ehp2.], percent sign [:hp2.%:ehp2.], caret [:hp2.^:ehp2.], at
 sign [:hp2.@:ehp2.], parentheses [:hp2.():ehp2.], and back-quote
-[:hp2.`:ehp2.] also have other meanings to 4OS2, it is best to avoid using
+[:hp2.`:ehp2.] also have other meanings to &4OS2., it is best to avoid using
 them in filenames.
 :p.
 The HPFS and JFS filesystems allow filenames up to 255 bytes in length (255
@@ -19680,7 +19652,7 @@
 for details on the characters allowed. If you use filenames which contain
 semicolons [:hp2.;:ehp2.], see :link reftype=hd refid=Wildcards.Wildcards:elink.
 for details on avoiding problems with interpretation of those filenames under
-4OS2.
+&4OS2..
 :p.
 HPFS, JFS, and FAT32 filenames are stored and displayed exactly as entered, and
 are not automatically shifted to upper or lower case. For example, you
@@ -19730,13 +19702,13 @@
 stamps:ehp2.&per. Attributes define characteristics of the file which may be
 useful to the operating system, to you, or to an application program. Time
 stamps can record when the file was created, last modified, or last
-accessed. Most 4OS2 file processing commands allow you to select files for
+accessed. Most &4OS2. file processing commands allow you to select files for
 processing based on their attributes and/or time stamp(s).
 :p.
 Each file on your system has four standard attributes. Every time a program
 modifies a file, the operating system sets the :hp2.Archive:ehp2. attribute,
 which signals that the file has been modified since it was last backed
-up. This attribute can be used by 4OS2 to determine which files to :link
+up. This attribute can be used by &4OS2. to determine which files to :link
 reftype=hd refid=COPY.COPY:elink., and by backup programs to determine which
 files to back up. When the :hp2.Read-only:ehp2. attribute is set, the
 file can't be changed or erased accidentally; this can be used to help
@@ -19744,7 +19716,7 @@
 :hp2.System:ehp2. attributes prevent the file from appearing in normal
 directory listings. (Two additional attributes, :hp2.Directory:ehp2. and
 :hp2.Volume label:ehp2., are also available. These attributes are
-controlled by the operating system, and are not modified directly by 4OS2.)
+controlled by the operating system, and are not modified directly by &4OS2..)
 :p.
 Attributes can be set and viewed with the :link reftype=hd
 refid=ATTRIB.ATTRIB:elink. command. The :link reftype=hd
@@ -19754,7 +19726,7 @@
 :p.
 When a file is created, and every time it is modified, the operating system
 records the system time and date in a :hp2.time stamp:ehp2. in the file's
-directory entry. Several 4OS2 commands and variable functions, and many
+directory entry. Several &4OS2. commands and variable functions, and many
 backup and utility programs, use this time stamp to determine the relative
 ages of files.
 :p.
@@ -19765,7 +19737,7 @@
 write" time stamp matches the single time stamp used on traditional FAT16
 volumes.
 :p.
-Several 4OS2 commands and variable functions let you specify which set of
+Several &4OS2. commands and variable functions let you specify which set of
 time and date stamps you want to view or manipulate on volumes supporting
 multiple timestamps. These commands and functions use the letter :hp2.c:ehp2.
 to refer to the creation time stamp, :hp2.w:ehp2. for the last write time stamp,
@@ -19808,7 +19780,7 @@
 shortened to the first 3 letters.
 :p.
 You can also specify colors by number instead of by name. The numbers are
-most useful in potentially long :link reftype=hd refid=INIFile.4OS2.INI:elink. file directives like
+most useful in potentially long :link reftype=hd refid=INIFile.&4OS2INI.:elink. file directives like
 :link reftype=hd refid=INI_ColorDir.ColorDir:elink., where using color names
 may take too much space. The following numbers are recognized&colon.
 :xmp.
@@ -19830,11 +19802,11 @@
 color names. In order to understand them, you will need to read
 through the restrictions described below. These restrictions are
 due to the design of your PC video hardware and video
-drivers, and are not inherent in 4OS2. Some of the restrictions
+drivers, and are not inherent in &4OS2.. Some of the restrictions
 are complex, so feel free to skip over those that do not apply to
 color combinations you use.
 :p.
-Some restrictions depend on the display "mode." 4OS2 can run in
+Some restrictions depend on the display "mode." &4OS2. can run in
 either :hp2.full-screen:ehp2. display mode, where it uses the entire screen
 and has more direct control over the video hardware; or in :hp2.windowed:ehp2.
 display mode, where it appears in a window on the OS/2 desktop.
@@ -19852,7 +19824,7 @@
 the graphical environment that created the window may not map the
 text-mode colors the way you expect. These problems are inherent
 in the monitor, video adapter, and driver software. They cannot be
-corrected using 4OS2 color specifications.
+corrected using &4OS2. color specifications.
 :p.
 :p.
 :hp2.Border Colors:ehp2.
@@ -19860,10 +19832,10 @@
 In order to use border colors, you must have a color video adapter
 (monochrome adapters do not support border colors).
 :p.
-4OS2 can only accept border colors in the :link reftype=hd
+&4OS2. can only accept border colors in the :link reftype=hd
 refid=CLS.CLS:elink. and :link reftype=hd refid=COLOR.COLOR:elink. commands,
 and in the :link reftype=hd refid=INI_StdColors.StdColors:elink.
-directive in :link reftype=hd refid=INIFile.4OS2.INI:elink.&per. Border colors will be ignored, or
+directive in :link reftype=hd refid=INIFile.&4OS2INI.:elink.&per. Border colors will be ignored, or
 will cause an error, if they are used elsewhere.
 :p.
 Border colors do not work in windowed mode, and will be ignored if
@@ -19901,12 +19873,12 @@
 configured.
 :p.
 In full-screen display mode, the configuration of your video adapter can
-be controlled by 4OS2 with the :link reftype=hd refid=INI_BrightBG.BrightBG:elink. directive
-in :link reftype=hd refid=INIFile.4OS2.INI:elink. or the :link reftype=hd refid=SETDOS.SETDOS:elink. /B command. If
-you set BrightBG = No or use the SETDOS /B0 command, 4OS2 will
+be controlled by &4OS2. with the :link reftype=hd refid=INI_BrightBG.BrightBG:elink. directive
+in :link reftype=hd refid=INIFile.&4OS2INI.:elink. or the :link reftype=hd refid=SETDOS.SETDOS:elink. /B command. If
+you set BrightBG = No or use the SETDOS /B0 command, &4OS2. will
 configure the video adapter for blinking text, and all characters
 on the screen with the blink / bright background flag set will
-blink. If you set BrightBG = Yes or use SETDOS /B1, 4OS2 will
+blink. If you set BrightBG = Yes or use SETDOS /B1, &4OS2. will
 configure the video adapter for bright background colors, and
 the characters will be displayed with a bright background instead
 of blinking.
@@ -19926,10 +19898,10 @@
 both commands will produce blinking white text on a blue
 background.
 :p.
-If you don't use BrightBG or SETDOS /B, or if you use SETDOS /B2, 4OS2 will
+If you don't use BrightBG or SETDOS /B, or if you use SETDOS /B2, &4OS2. will
 not attempt to configure your video hardware. Most video adapters default
 to blinking text in full-screen mode, but this can be changed by application
-programs. If you use BrightBG or SETDOS /B, 4OS2 will configure the hardware
+programs. If you use BrightBG or SETDOS /B, &4OS2. will configure the hardware
 each time it displays the prompt.
 :p.
 :p.
@@ -19939,7 +19911,7 @@
 processor or text-mode application. It is available for command
 processor sessions and most applications running under OS/2.
 :p.
-In windowed mode, 4OS2 cannot control your hardware to select
+In windowed mode, &4OS2. cannot control your hardware to select
 blinking or bright backgrounds. Instead, OS/2 displays bright background
 colors, regardless of the BrightBG or SETDOS /B setting. It does not
 provide a way to display blinking characters in windowed mode. As an
@@ -19951,7 +19923,7 @@
 :p.
 OS/2 allows you to switch any DOS or other text-mode session between
 full-screen and windowed mode. You cannot switch modes for OS/2
-sessions, so 4OS2 is not directly affected by mode switching. However, if
+sessions, so &4OS2. is not directly affected by mode switching. However, if
 you write batch files or aliases which run in both modes, you may need to
 take into account that OS/2 defaults to displaying blinking text in
 full-screen mode and bright backgrounds in windowed mode.
@@ -19961,7 +19933,7 @@
 :h3 name=KeyNames.Keys and Key Names
 :p.
 Key names are used to define keystroke :link reftype=hd refid=ALIAS.aliases:elink., and in
-several :link reftype=hd refid=INIFile.4OS2.INI:elink. directives, and with the
+several :link reftype=hd refid=INIFile.&4OS2INI.:elink. directives, and with the
 :link reftype=hd refid=KEYSTACK.KEYSTACK:elink. command. The format of a key
 name is the same in all three uses&colon.
 :xmp.
@@ -20002,12 +19974,12 @@
 See the :link reftype=hd refid=RefTab.Reference Tables:elink. for an explanation and
 list of ASCII and key codes.
 :p.
-Some keys are intercepted by OS/2 and are not passed on to 4OS2. For
+Some keys are intercepted by OS/2 and are not passed on to &4OS2.. For
 example, :hp2.Ctrl-S:ehp2. pauses screen output temporarily, and Ctrl-Esc
 pops up the OS/2 window list. Keys which are intercepted
 by OS/2 generally cannot be assigned to
 :link reftype=hd refid=ALIAS.aliases:elink. or with :link reftype=hd refid=INIKeyMap.key mapping directives:elink.,
-because 4OS2 never receives these keystrokes and therefore cannot
+because &4OS2. never receives these keystrokes and therefore cannot
 act on them.
 :p.
 You also may not be able to use certain keys if your keyboard is
@@ -20021,7 +19993,7 @@
 
 :h3 name=Popup.Popup Windows
 :p.
-Several features of 4OS2 display popup windows. A popup window may be used
+Several features of &4OS2. display popup windows. A popup window may be used
 to display filenames, recently-executed commands, recently-used directories,
 the results of an extended directory search, or a list created by the :link
 reftype=hd refid=SELECT.SELECT:elink. command or the :link reftype=hd
@@ -20037,15 +20009,15 @@
 :p.
 You can control the color, position and size of most popup windows from the
 Command Line 2 page of the OPTION dialogs. You can also control these
-features with directives in :link reftype=hd refid=INIFile.4OS2.INI:elink., including
+features with directives in :link reftype=hd refid=INIFile.&4OS2INI.:elink., including
 :link reftype=hd refid=INI_PopupWinLeft.PopupWinLeft, PopupWinTop,
 PopupWinWidth, and PopupWinHeight:elink., and :link reftype=hd
 refid=INI_PopupWinColors.PopupWinColors:elink.&per. A few popup windows (e.g.,
 the :link reftype=hd refid=ExtDirSearch.extended directory search
-window:elink.) have their own specific :link reftype=hd refid=INIFile.4OS2.INI:elink. directives, and
+window:elink.) have their own specific :link reftype=hd refid=INIFile.&4OS2INI.:elink. directives, and
 corresponding separate choices in the OPTION command. You can also change
 the keys used in most popup windows with key mapping directives in
-:link reftype=hd refid=INIFile.4OS2.INI:elink.&per.
+:link reftype=hd refid=INIFile.&4OS2INI.:elink.&per.
 :p.
 Once a window is open, you can use these navigation keys to find the
 selection you wish to make&colon.
@@ -20076,47 +20048,47 @@
 :p.
 You can change the keys used in popup windows with :link reftype=hd
 refid=INIKeyMap.key mapping directives:elink. in
-:link reftype=hd refid=INIFile.4OS2.INI:elink. file.
+:link reftype=hd refid=INIFile.&4OS2INI.:elink. file.
 
 .* --------------------------------------------------------------------------
 
 :h3 name=ExeSearch.Executable Files and File Searches
 :p.
-Once 4OS2 knows that it is supposed to run an external command, it tries to
+Once &4OS2. knows that it is supposed to run an external command, it tries to
 find an executable file (one with a :hp1..COM:ehp1. or :hp1..EXE:ehp1.
 extension) whose name matches the command name. It runs the executable file
 if it finds one.
 :p.
-If 4OS2 cannot find an executable program to run, it next looks for a batch
+If &4OS2. cannot find an executable program to run, it next looks for a batch
 file (a file with one or more commands in it) whose name matches the command
-name. 4OS2 looks first for a :hp1..BTM:ehp1. file, then for a
+name. &4OS2. looks first for a :hp1..BTM:ehp1. file, then for a
 :hp1..CMD:ehp1. file, then for a :hp1..BAT:ehp1. file, and finally for a
 :hp1..REX:ehp1. file. See :link reftype=hd refid=BatchType..BAT, .CMD,
 and .BTM Files:elink. for more information on these different types of batch
-files. If 4OS2 finds such a file, it then reads each line in the file as a
+files. If &4OS2. finds such a file, it then reads each line in the file as a
 new command.
 :p.
-If the search for a batch file fails, 4OS2 checks to see if the command name
+If the search for a batch file fails, &4OS2. checks to see if the command name
 matches the name of a file with an extension that is associated with a
 specific application (for example, if you have associated :hp1..DOC:ehp1.
 with your editor or word processor, and you type the name of a
-:hp1..DOC:ehp1. file). If a match is found, 4OS2 runs the program you
+:hp1..DOC:ehp1. file). If a match is found, &4OS2. runs the program you
 specified when the association was defined.
 :p.
-In searching for the application associated with a file, 4OS2 will first
+In searching for the application associated with a file, &4OS2. will first
 examine any :link reftype=hd refid=ExeExt.executable extensions:elink. you
 have defined to associate a file extension with a specific program to
 process that type of file.
 :p.
-4OS2 first searches for an executable program, a batch file, and a file with
+&4OS2. first searches for an executable program, a batch file, and a file with
 an executable extension in the current directory. If the command name
 doesn't match a :hp1..COM:ehp1., :hp1..EXE:ehp1., :hp1..BTM:ehp1.,
 :hp1..BAT:ehp1. or :hp1..CMD:ehp1. file or an executable extension in the
-current directory, 4OS2 repeats its search in every directory in your
+current directory, &4OS2. repeats its search in every directory in your
 :hp2.search path:ehp2.&per.
 :p.
-The search path is a list of directories that 4OS2 (and some applications)
-search for executable files. For example, if you wanted 4OS2 to search the
+The search path is a list of directories that &4OS2. (and some applications)
+search for executable files. For example, if you wanted &4OS2. to search the
 root directory of the C&colon. drive, the \OS2 subdirectory on the C&colon.
 drive, and the \UTIL directory on the D&colon. drive for executable files,
 your search path would look like this&colon.
@@ -20132,13 +20104,13 @@
 search path to find their own files. The search path is stored in the
 environment with the name PATH.
 :p.
-Remember, 4OS2 always looks for an executable file or a file with an
+Remember, &4OS2. always looks for an executable file or a file with an
 executable extension in the current subdirectory, then in each directory in
 the search path. (You can change the search order so the current
 directory is not searched first; see the :link reftype=hd
 refid=PATH.PATH:elink. command for details.)
 :p.
-If you include an extension as part of the command name, 4OS2 only searches
+If you include an extension as part of the command name, &4OS2. only searches
 for a file with that extension. Similarly, if you include a path as part of
 the command name, the command processor will look only in the directory you
 specified, and ignore the usual search of the current directory and the PATH.
@@ -20147,7 +20119,7 @@
 search" refers to the search of the current directory and each directory in
 the search path)&colon.
 :lm margin=8.:parml tsize=24 break=fit.
-:pt.Command:pd.4OS2 Search Sequence
+:pt.Command:pd.&4OS2. Search Sequence
 :pt.:hp2.WP:ehp2.:pd.Standard search for any executable file whose base name
 is :hp1.WP:ehp1.&per.
 :pt.:hp2.WP.EXE:ehp2.:pd.Standard search for :hp1.WP.EXE:ehp1.; will not
@@ -20165,12 +20137,12 @@
 executable extension. Runs the associated application if the file is found.
 :eparml.:lm margin=1.
 .br
-If 4OS2 cannot find an executable file, batch program, or a file with an
+If &4OS2. cannot find an executable file, batch program, or a file with an
 executable extension in the current directory or any directory in the search
 path, it looks for an alias called UNKNOWN_CMD (see the :link
 reftype=hd refid=ALIAS.ALIAS:elink. command for details). If you have
 defined an alias with that name, it is executed (this allows you to control
-error handling for unknown commands). Otherwise, 4OS2 displays an "Unknown
+error handling for unknown commands). Otherwise, &4OS2. displays an "Unknown
 command" error message and waits for your next instruction.
 
 .* --------------------------------------------------------------------------
@@ -20478,12 +20450,12 @@
 that was pressed, and an ASCII code, representing the ASCII value for that
 key. OS/2 returns these numbers the next time a program requests keyboard
 input. This section explains how key codes work; for information on using
-them with 4OS2 see :link reftype=hd refid=INIFile.4OS2.INI:elink.,
+them with &4OS2. see :link reftype=hd refid=INIFile.&4OS2INI.:elink.,
 :link reftype=hd refid=INIKeyMap.key mapping directives:elink.,
 :link reftype=hd refid=ALIAS.keystroke aliases:elink.,
 and :link reftype=hd refid=INKEY.INKEY:elink.&per.
 :p.
-Most 4OS2 commands that use the numeric key codes listed here also
+Most &4OS2. commands that use the numeric key codes listed here also
 use key names, which are usually more convenient to use than the
 numeric codes. See :link reftype=hd refid=KeyNames.Keys and Key Names:elink.
 for more information.
@@ -20579,11 +20551,11 @@
 :xmp.
     ESC[7;12H
 :exmp.:p.
-To transmit ANSI commands to the screen with 4OS2, you should use
+To transmit ANSI commands to the screen with &4OS2., you should use
 the :link reftype=hd refid=ECHO.ECHO:elink. command. The ESC character can be generated by
 inserting it into the string directly (if you are putting the string in a
 batch file and your editor will insert such a character), or by using
-4OS2's internal "escape" character (caret, [:hp2.^:ehp2.])
+&4OS2.'s internal "escape" character (caret, [:hp2.^:ehp2.])
 followed by a lower-case "e". For example, the sequence shown
 above could be transmitted from a batch file with either of these
 commands (the first uses an ESC character directly; the second uses
@@ -20641,7 +20613,7 @@
 :xmp.
     echo ^e[0;44;36;1m^e[2J
 :exmp.:p.
-Set up a prompt which saves the cursor position, displays the 4OS2
+Set up a prompt which saves the cursor position, displays the &4OS2.
 shell level, date, and time on the top line in bright white on
 magenta, and then restores the cursor position and sets the color
 to bright cyan on blue, and displays the standard prompt&colon.
@@ -20710,9 +20682,9 @@
 :link reftype=hd refid=Glossary_X.X:elink.
 :p.
 :p.
-:hp2.4EXIT:ehp2.&colon. A batch file which is executed whenever 4OS2 exits.
+:hp2.4EXIT:ehp2.&colon. A batch file which is executed whenever &4OS2. exits.
 :p.
-:hp2.4START:ehp2.&colon. A batch file which is executed whenever 4OS2 starts.
+:hp2.4START:ehp2.&colon. A batch file which is executed whenever &4OS2. starts.
 
 .* --------------------------------------------------------------------------
 
@@ -20793,7 +20765,7 @@
 :hp2.Automatic Batch Files:ehp2.&colon. See :hp2.4START:ehp2. and
 :hp2.4EXIT:ehp2.&per.
 :p.
-:hp2.Automatic Directory Change:ehp2.&colon. A 4OS2 feature which allows
+:hp2.Automatic Directory Change:ehp2.&colon. A &4OS2. feature which allows
 you to change directories by typing the directory name and a backslash
 [:hp2.\:ehp2.] at the prompt.
 
@@ -20874,7 +20846,7 @@
 break signal; others return to a previous screen or menu, or abort the
 current operation.
 :p.
-:hp2.BTM File:ehp2.&colon. A special type of 4OS2 batch file which is loaded
+:hp2.BTM File:ehp2.&colon. A special type of &4OS2. batch file which is loaded
 into memory to speed up execution.
 :p.
 :hp2.Buffer:ehp2.&colon. An area of memory set aside for storage. For
@@ -20938,22 +20910,22 @@
 reset button, or by turning the power off and back on. See also :hp2.Warm
 Reboot:ehp2.&per.
 :p.
-:hp2.Command Completion:ehp2.&colon. A 4OS2 feature which allows you to
+:hp2.Command Completion:ehp2.&colon. A &4OS2. feature which allows you to
 recall a previous command by typing the first few letters of the command,
 then an up-arrow or down-arrow.
 :p.
 :hp2.Command Echoing:ehp2.&colon. A feature which displays commands as they
 are executed. Echoing can be turned on and off.
 :p.
-:hp2.Command Grouping:ehp2.&colon. A 4OS2 feature which allows you to group
+:hp2.Command Grouping:ehp2.&colon. A &4OS2. feature which allows you to group
 several commands with parentheses, and have them treated as a single command
 for most purposes.
 :p.
-:hp2.Command History Window:ehp2.&colon. A pop-up window used by 4OS2 to
+:hp2.Command History Window:ehp2.&colon. A pop-up window used by &4OS2. to
 display the command history, allowing you to choose a previous command to
 modify and/or execute.
 :p.
-:hp2.Command History:ehp2.&colon. A 4OS2 feature which retains commands you
+:hp2.Command History:ehp2.&colon. A &4OS2. feature which retains commands you
 have executed, so that they can be modified and re-executed later.
 :p.
 :hp2.Command Processor:ehp2.&colon. A program which interprets commands and
@@ -20981,7 +20953,7 @@
 :hp2.COMSPEC:ehp2.&colon. An environment variable which defines where to
 find the character-mode command processor to start a secondary shell.
 :p.
-:hp2.Conditional Commands:ehp2.&colon. A 4OS2 feature allowing commands to
+:hp2.Conditional Commands:ehp2.&colon. A &4OS2. feature allowing commands to
 be executed or skipped depending upon the results of a previous command.  See
 also :hp2.Exit Code:ehp2.&per.
 :p.
@@ -21058,7 +21030,7 @@
 :link reftype=hd refid=Glossary_X.X:elink.
 :p.
 :p.
-:hp2.Date Range:ehp2.&colon. A 4OS2 feature which allows you to select
+:hp2.Date Range:ehp2.&colon. A &4OS2. feature which allows you to select
 files based on the date and time they were last modified.
 :p.
 :hp2.Date Stamp:ehp2.&colon. Information stored in a file's directory entry
@@ -21077,7 +21049,7 @@
 special area of the disk.
 :p.
 :hp2.Description:ehp2.&colon. A string of characters assigned to describe a
-file with the 4OS2 DESCRIBE command.
+file with the &4OS2. DESCRIBE command.
 :p.
 :hp2.Destination:ehp2.&colon. In file processing commands (:hp1.e.g.:ehp1.
 COPY or MOVE), the name or directory files should have after any copying or
@@ -21097,7 +21069,7 @@
 console, a communications port, or a printer. Sometimes "device" is used to
 refer to character devices, and excludes block devices.
 :p.
-:hp2.Directive:ehp2.&colon. An individual item in :link reftype=hd refid=INIFile.4OS2.INI:elink., used to control the configuration of 4OS2.
+:hp2.Directive:ehp2.&colon. An individual item in :link reftype=hd refid=INIFile.&4OS2INI.:elink., used to control the configuration of &4OS2..
 :p.
 :hp2.Directory:ehp2.&colon. A portion of any disk, identified by a name and
 a relationship to other directories in a "tree" structure, with the tree
@@ -21105,13 +21077,13 @@
 into logical groups, but does not represent a physical division of the data
 on the disk.
 :p.
-:hp2.Directory History:ehp2.&colon. A 4OS2 feature which allows you to
+:hp2.Directory History:ehp2.&colon. A &4OS2. feature which allows you to
 recall recently-used directory names in a popup window, and choose one to
 switch to.
 :p.
 :hp2.Directory History Window:ehp2.&colon. See :hp2.Directory History:ehp2.&per.
 :p.
-:hp2.Directory Stack:ehp2.&colon. A 4OS2 feature, implemented through the
+:hp2.Directory Stack:ehp2.&colon. A &4OS2. feature, implemented through the
 PUSHD and POPD commands, which allows you to save the current directory and
 return to it later. See also :hp2.Stack:ehp2.&per.
 :p.
@@ -21181,7 +21153,7 @@
 from an external command to indicate its result (:hp1.e.g.:ehp1., success,
 failure, response to a question). See also :hp2.Exit Code:ehp2.&per.
 :p.
-:hp2.Escape Character:ehp2.&colon. In some contexts, the 4OS2
+:hp2.Escape Character:ehp2.&colon. In some contexts, the &4OS2.
 :link reftype=hd refid=Escape.escape character:elink.,
 which is used to suppress the normal meaning of or give special
 meaning to the following character. In other cases, the specific ASCII
@@ -21192,11 +21164,11 @@
 character sequence <ESC>]K (where <ESC> is the ASCII "escape" character,
 decimal value 27) will cause an ANSI driver to clear the screen from the
 cursor to the end of the current line, rather than simply displaying the
-string "ESC]K" on the screen. Similarly, in 4OS2, the escape sequence ^f on
+string "ESC]K" on the screen. Similarly, in &4OS2., the escape sequence ^f on
 the command line is translated to a form feed, and is not treated as the
 literal characters "^f".
 :p.
-:hp2.Executable Extensions:ehp2.&colon. A 4OS2 feature which allows you to
+:hp2.Executable Extensions:ehp2.&colon. A &4OS2. feature which allows you to
 specify the application to be executed when a file with a particular
 extension is named at the command prompt.
 :p.
@@ -21205,10 +21177,10 @@
 as a program.
 :p.
 :hp2.Exit Code:ehp2.&colon. The result code returned by an external command
-or an internal command. 4OS2 internal commands return an exit code of 0 if
+or an internal command. &4OS2. internal commands return an exit code of 0 if
 successful, or non-zero if unsuccessful. See also :hp2.Errorlevel:ehp2.&per.
 :p.
-:hp2.Expansion:ehp2.&colon. The process 4OS2 goes through when it scans a
+:hp2.Expansion:ehp2.&colon. The process &4OS2. goes through when it scans a
 command line and substitutes the appropriate actual values for aliases,
 alias parameters, batch file parameters, and environment variables. See
 also :hp2.Parsing:ehp2.&per.
@@ -21224,7 +21196,7 @@
 store icons for executable files, property or settings information, and
 other information added by the user.
 :p.
-:hp2.Extended Directory Search:ehp2.&colon. A 4OS2 feature which maintains
+:hp2.Extended Directory Search:ehp2.&colon. A &4OS2. feature which maintains
 a directory search "database" or list, typically including all directories
 in your system, and allows you to change quickly to any directory in the list.
 :p.
@@ -21237,11 +21209,11 @@
 286, 386, 486, or Pentium processor which is above the first 1 MB (one
 megabyte, or 1024*1024 bytes) of memory. See also :hp2.XMS:ehp2.&per.
 :p.
-:hp2.Extended Parent Directory Names:ehp2.&colon. A 4OS2 feature which
+:hp2.Extended Parent Directory Names:ehp2.&colon. A &4OS2. feature which
 allows you to use additional periods in a directory name to represent
 directories which are successively higher in the directory tree.
 :p.
-:hp2.Extended Wildcard:ehp2.&colon. A 4OS2 feature which extends the
+:hp2.Extended Wildcard:ehp2.&colon. A &4OS2. feature which extends the
 traditional wildcard syntax and allows you to use multiple wildcard
 characters, and character ranges (:hp1.e.g.:ehp1. [a-f] for the letters A
 through F). See also :hp2.Wildcard:ehp2.&per.
@@ -21307,10 +21279,10 @@
 :p.
 :hp2.File Description:ehp2.&colon. See :hp2.Description:ehp2.&per.
 :p.
-:hp2.File Exclusion Range:ehp2.&colon. A 4OS2 feature which allows you to
+:hp2.File Exclusion Range:ehp2.&colon. A &4OS2. feature which allows you to
 exclude files from processing by internal commands based on their names.
 :p.
-:hp2.Filename Completion:ehp2.&colon. A 4OS2 feature which allows you to
+:hp2.Filename Completion:ehp2.&colon. A &4OS2. feature which allows you to
 type part of a filename on the command line, and have the command processor
 fill in the rest for you.
 :p.
@@ -21346,18 +21318,18 @@
 :link reftype=hd refid=Glossary_X.X:elink.
 :p.
 :p.
-:hp2.Global Aliases:ehp2.&colon. A 4OS2 option which allows you to store
-aliases in a global area accessible to all copies of 4OS2, so that any
+:hp2.Global Aliases:ehp2.&colon. A &4OS2. option which allows you to store
+aliases in a global area accessible to all copies of &4OS2., so that any
 change made by one copy is immediately available to all other copies. See
 also :hp2.Local Aliases:ehp2.&per.
 :p.
 :hp2.Global Directory History:ehp2.&colon. An option which allows you to
 store the directory history in a global area accessible to all copies of
-4OS2, so that any change made by one copy is immediately available to all
+&4OS2., so that any change made by one copy is immediately available to all
 other copies. See also :hp2.Local Directory History:ehp2.&per.
 :p.
-:hp2.Global History:ehp2.&colon. A 4OS2 option which allows you to store
-the command history in a global area accessible to all copies of 4OS2, so
+:hp2.Global History:ehp2.&colon. A &4OS2. option which allows you to store
+the command history in a global area accessible to all copies of &4OS2., so
 that any change made by one copy is immediately available to all other
 copies. See also :hp2.Local History:ehp2.&per.
 :p.
@@ -21452,16 +21424,16 @@
 while the system is running.
 :p.
 :hp2.Include List:ehp2.&colon. A concise method of specifying several files
-or groups of files in the same directory, for use with all 4OS2 commands
+or groups of files in the same directory, for use with all &4OS2. commands
 which take filenames as arguments.
 :p.
-:hp2.Inheritance:ehp2.&colon. A feature which allows one copy of 4OS2 to
-"inherit" :link reftype=hd refid=INIFile.4OS2.INI:elink. data, aliases, command history, and
+:hp2.Inheritance:ehp2.&colon. A feature which allows one copy of &4OS2. to
+"inherit" :link reftype=hd refid=INIFile.&4OS2INI.:elink. data, aliases, command history, and
 directory history from a previous copy. More generally, a system which
 allows one program to pass information or settings on to another, often to a
 second copy of the same program.
 :p.
-:hp2..INI File:ehp2.&colon. The 4OS2 initialization file containing
+:hp2..INI File:ehp2.&colon. The &4OS2. initialization file containing
 directives which set the initial configuration of the command processor.
 :p.
 :hp2.Insert Mode:ehp2.&colon. When editing text, a mode in which newly
@@ -21472,7 +21444,7 @@
 :hp2.Internal Command:ehp2.&colon. A command which is part of the command
 processor, as opposed to an external command.
 :p.
-:hp2.Internal Variables:ehp2.&colon. Environment variables created by 4OS2
+:hp2.Internal Variables:ehp2.&colon. Environment variables created by &4OS2.
 to provide information about your system. Internal variables are evaluated
 each time they are used, and are not actually stored in the environment.
 
@@ -21546,7 +21518,7 @@
 software handling the keyboard, the code can be an ASCII code, a scan code,
 or an extended key code.
 :p.
-:hp2.Key Mapping:ehp2.&colon. A 4OS2 feature which allows you to assign new
+:hp2.Key Mapping:ehp2.&colon. A &4OS2. feature which allows you to assign new
 keystrokes for command line functions such as manipulating the command
 history or completing filenames.
 :p.
@@ -21595,23 +21567,23 @@
 the keyboard, but in many cases it can be generated, if necessary, by
 pressing Ctrl-Enter.
 :p.
-:hp2.Local Aliases:ehp2.&colon. A 4OS2 option which allows you to store
-aliases in a local area only accessible to the current copy of 4OS2, so that
-a change made in the current copy of 4OS2 does not affect other copies, and
+:hp2.Local Aliases:ehp2.&colon. A &4OS2. option which allows you to store
+aliases in a local area only accessible to the current copy of &4OS2., so that
+a change made in the current copy of &4OS2. does not affect other copies, and
 vice versa. See also :hp2. Global Aliases:ehp2.&per.
 :p.
-:hp2.Local Directory History:ehp2.&colon. A 4OS2 option which allows you to
+:hp2.Local Directory History:ehp2.&colon. A &4OS2. option which allows you to
 store the directory history in a local area only accessible to the current
-copy of 4OS2, so that a change made in the current copy of 4OS2 does not
+copy of &4OS2., so that a change made in the current copy of &4OS2. does not
 affect other copies, and vice versa. See also :hp2.Global Directory
 History:ehp2.&per.
 :p.
-:hp2.Local History:ehp2.&colon. A 4OS2 option which allows you to store the
-command history in a local area only accessible to the current copy of 4OS2,
-so that a change made in the current copy of 4OS2 does not affect other
+:hp2.Local History:ehp2.&colon. A &4OS2. option which allows you to store the
+command history in a local area only accessible to the current copy of &4OS2.,
+so that a change made in the current copy of &4OS2. does not affect other
 copies, and vice versa. See also :hp2. Global History:ehp2.&per.
 :p.
-:hp2.Logging:ehp2.&colon. A 4OS2 feature, implemented via the LOG command,
+:hp2.Logging:ehp2.&colon. A &4OS2. feature, implemented via the LOG command,
 which allows you to save a record of the commands you execute.
 
 .* --------------------------------------------------------------------------
@@ -21649,7 +21621,7 @@
 :hp2.Modulo:ehp2.&colon. The remainder after an integer division. For
 example 11 modulo 3 is 2, because when 11 is divided by 3 the remainder is 2.
 :p.
-:hp2.Multiple Commands:ehp2.&colon. A 4OS2 feature which allows multiple
+:hp2.Multiple Commands:ehp2.&colon. A &4OS2. feature which allows multiple
 commands to be placed on a line, separated by an ampersand
 [:hp2.&amp.:ehp2.], or another, user-defined character.
 :p.
@@ -21792,7 +21764,7 @@
 :hp2.Parent Directory:ehp2.&colon. The directory in which a particular
 subdirectory resides, often seen as the directory "above" a subdirectory.
 :p.
-:hp2.Parsing:ehp2.&colon. The process 4OS2 performs to analyze the command
+:hp2.Parsing:ehp2.&colon. The process &4OS2. performs to analyze the command
 line, perform alias and environment variable expansion, and find the
 appropriate internal command or external command to execute. More
 generally, the process of breaking down a string or message into its
@@ -21932,14 +21904,14 @@
 :p.
 :hp2.Session:ehp2.&colon. A general term for the individual windows or
 tasks started by a multitasking system. For example, under OS/2 you
-might run a DOS application in one session, and 4OS2 in another.
+might run a DOS application in one session, and &4OS2. in another.
 :p.
 :hp2.Shell:ehp2.&colon. See :hp2.Command Processor:ehp2.&per. Also used to
 refer to a program which gives access to operating system functions and
 commands through a menu- or mouse-driven system, or which replaces the
 primary user interface of the operating system.
 :p.
-:hp2.Size Range:ehp2.&colon. A 4OS2 feature which allows you to select
+:hp2.Size Range:ehp2.&colon. A &4OS2. feature which allows you to select
 files based on their size.
 :p.
 :hp2.Source:ehp2.&colon. In file processing commands (:hp1.e.g.:ehp1. COPY
@@ -22004,7 +21976,7 @@
 :p.
 :hp2.Target:ehp2.&colon. See :hp2.Destination:ehp2.&per.
 :p.
-:hp2.Time Range:ehp2.&colon. A 4OS2 feature which allows you to select
+:hp2.Time Range:ehp2.&colon. A &4OS2. feature which allows you to select
 files based on the time they were last modified.
 :p.
 :hp2.Time Stamp:ehp2.&colon. Information stored in a file's directory entry
@@ -22094,7 +22066,7 @@
 and replacing each environment variable name, alias parameter, or batch file
 parameter with its value.
 :p.
-:hp2.Variable Functions:ehp2.&colon. Functions provided by 4OS2 to
+:hp2.Variable Functions:ehp2.&colon. Functions provided by &4OS2. to
 manipulate strings, dates, and filenames; perform arithmetic; read and write
 files; and perform other similar functions. Variable functions are similar
 to static environment variables or internal variables, but have parameters
@@ -22146,7 +22118,7 @@
 :p.
 :hp2.White Space Character:ehp2.&colon. A character used to separate
 arguments on the command line. The white space characters recognized by
-4OS2 are the space, tab, and comma.
+&4OS2. are the space, tab, and comma.
 :p.
 :hp2.Wildcard:ehp2.&colon. A character ("*" or "?") used in a filename to
 specify the possibility that any single character ("?") or sequence of
diff -urwN 4os2-o/4os2.wis 4os2/4os2.wis
diff -urwN 4os2-o/4start.cmd.sample2 4os2/4start.cmd.sample2
diff -urwN 4os2-o/a/bcd32.asm 4os2/a/bcd32.asm
--- 4os2-o/a/bcd32.asm	2023-01-18 02:41:34.430095118 +0300
+++ 4os2/a/bcd32.asm	2023-04-01 14:28:51.795753112 +0300
@@ -1,18 +1,18 @@
-          title     BCD32.ASM - 32-bit BCD utilities for 4OS32
-
-          page      ,80
-
-          comment   }
-
-          (C) Copyright 1992  Rex C. Conn
-          All Rights Reserved
-
-          Author:    Rex C. Conn
-
-          These 4DOS support routines provide BCD addition, subtraction,
-          multiplication, division, and modulo functions for 4DOS & 4OS2
-
-          } end description
+;          title     BCD32.ASM - 32-bit BCD utilities for 4OS32
+;
+;          page      ,80
+;
+;          comment   }
+;
+;          (C) Copyright 1992  Rex C. Conn
+;          All Rights Reserved
+;
+;          Author:    Rex C. Conn
+;
+;          These 4DOS support routines provide BCD addition, subtraction,
+;          multiplication, division, and modulo functions for 4DOS & 4OS2
+;
+;          } end description
 
         .386P
 
diff -urwN 4os2-o/a/os32util.asm 4os2/a/os32util.asm
--- 4os2-o/a/os32util.asm	2023-01-18 02:41:34.430095118 +0300
+++ 4os2/a/os32util.asm	2023-04-01 14:28:51.795753112 +0300
@@ -1,16 +1,16 @@
-          title     OS32UTIL - Assembler utilities for 4OS2 & TCMD/OS2
+;          title     OS32UTIL - Assembler utilities for 4OS2 & TCMD/OS2
 
           ;
-          page      ,132                ;make wide listing
+;          page      ,132                ;make wide listing
           ;
-          comment   }
-
-          (C) Copyright 1988 - 1996  Rex Conn & J.P. Software
-          All Rights Reserved
-
-          Original Author:    Rex Conn
-
-          } end description
+;          comment   }
+;
+;          (C) Copyright 1988 - 1996  Rex Conn & J.P. Software
+;          All Rights Reserved
+;
+;          Original Author:    Rex Conn
+;
+;          } end description
 
         .586
         .387
diff -urwN 4os2-o/c/batch.c 4os2/c/batch.c
--- 4os2-o/c/batch.c	2023-01-18 02:41:34.490096387 +0300
+++ 4os2/c/batch.c	2023-04-01 14:28:51.795753112 +0300
@@ -166,7 +166,7 @@
     // add the line size to avoid protection violation
     uSize = (UINT)(lOSize + CMDBUFSIZ);
 
-    if ( ( bframe[cv.bn].in_memory_buffer = AllocMem( &uSize )) == 0L ) {
+    if ( ( bframe[cv.bn].in_memory_buffer = AllocMem( (UINT *)&uSize )) == 0L ) {
         FreeMem(fptr);
         close_batch_file();
         return(error( ERROR_NOT_ENOUGH_MEMORY, bframe[cv.bn].pszBatchName ));
diff -urwN 4os2-o/c/cmds.c 4os2/c/cmds.c
--- 4os2-o/c/cmds.c	2023-01-18 02:41:34.490096387 +0300
+++ 4os2/c/cmds.c	2023-04-01 14:28:51.795753112 +0300
@@ -8,6 +8,7 @@
 
 #include "4all.h"
 
+#include <cmd_shared.h>
 
 // Structure for the internal commands
 // The args are:
@@ -29,110 +30,110 @@
 //      CMD_DETACH_LINE - send entire line to DETACH command
 
 BUILTIN commands[] = {
-    "?", cmds_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES),
-    "ACTIVATE", activate_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES | CMD_ADD_NULLS),
-    "ALIAS", set_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES | CMD_CLOSE_BATCH),
-    "ATTRIB", attrib_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES | CMD_SET_ERRORLEVEL | CMD_BACKSLASH_OK),
-    "BEEP", beep_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES | CMD_ADD_NULLS),
-    "CALL", call_cmd, (CMD_CLOSE_BATCH | CMD_BACKSLASH_OK),
-    "CANCEL", quit_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES | CMD_ONLY_BATCH),
-    "CASE",  case_cmd, CMD_ONLY_BATCH,
-    "CD", cd_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES | CMD_SET_ERRORLEVEL | CMD_BACKSLASH_OK),
-    "CDD", cdd_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES | CMD_SET_ERRORLEVEL | CMD_BACKSLASH_OK),
-    "CHCP", chcp_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES | CMD_ADD_NULLS | CMD_SET_ERRORLEVEL),
-    "CHDIR", cd_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES | CMD_SET_ERRORLEVEL | CMD_BACKSLASH_OK),
-    "CLS", cls_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES),
-    "COLOR", color_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES),
-    "COPY", copy_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES | CMD_CLOSE_BATCH | CMD_RESET_DISKS | CMD_SET_ERRORLEVEL | CMD_BACKSLASH_OK),
-    "DATE", setdate_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES | CMD_SET_ERRORLEVEL),
-    "DEFAULT",  case_cmd, CMD_ONLY_BATCH,
-    "DEL", del_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES | CMD_CLOSE_BATCH | CMD_RESET_DISKS | CMD_SET_ERRORLEVEL | CMD_BACKSLASH_OK),
-    "DELAY", delay_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES | CMD_ADD_NULLS),
-    "DESCRIBE", describe_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES | CMD_CLOSE_BATCH | CMD_RESET_DISKS),
-    "DETACH", detach_cmd, (CMD_STRIP_QUOTES | CMD_SET_ERRORLEVEL | CMD_DETACH_LINE | CMD_CLOSE_BATCH),
-    "DIR", dir_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES | CMD_SET_ERRORLEVEL | CMD_BACKSLASH_OK),
-    "DIRHISTORY", history_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES | CMD_CLOSE_BATCH),
-    "DIRS", dirs_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES),
-    "DO", do_cmd, (CMD_GROUPS | CMD_STRIP_QUOTES | CMD_ONLY_BATCH),
-    "DPATH", dpath_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES | CMD_BACKSLASH_OK),
-    "DRAWBOX", drawbox_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES),
-    "DRAWHLINE", drawline_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES),
-    "DRAWVLINE", drawline_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES),
-    "ECHO", echo_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES | CMD_BACKSLASH_OK),
-    "ECHOERR", echo_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES | CMD_BACKSLASH_OK),
-    "ECHOS", echos_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES),
-    "ECHOSERR", echos_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES),
-    "ENDLOCAL", endlocal_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES | CMD_ONLY_BATCH),
-    "ENDSWITCH",  remark_cmd, CMD_ONLY_BATCH,
-    "ERASE", del_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES | CMD_CLOSE_BATCH | CMD_RESET_DISKS | CMD_SET_ERRORLEVEL | CMD_BACKSLASH_OK),
-    "ESET", eset_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES),
-    "EXCEPT", except_cmd, CMD_GROUPS,
-    "EXIT", exit_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES),
-    "FFIND", ffind_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES),
-    "FOR", for_cmd, (CMD_GROUPS | CMD_CLOSE_BATCH),
-    "FREE", df_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES | CMD_ADD_NULLS),
-    "GLOBAL", global_cmd,CMD_GROUPS,
-    "GOSUB", gosub_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES | CMD_ADD_NULLS | CMD_ONLY_BATCH),
-    "GOTO", goto_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES | CMD_ONLY_BATCH),
-    "HELP", help_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES),
-    "HISTORY", history_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES | CMD_CLOSE_BATCH),
-    "IF", if_cmd, CMD_GROUPS,
-    "IFF", if_cmd, CMD_GROUPS,
-    "INKEY", inkey_input_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES),
-    "INPUT", inkey_input_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES),
-    "KEYBD", keybd_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES | CMD_ADD_NULLS),
-    "KEYS", keys_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES | CMD_ADD_NULLS),
-    "KEYSTACK", keystack_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES | CMD_CLOSE_BATCH),
-    "LIST", list_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES),
-    "LOADBTM", loadbtm_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES | CMD_ADD_NULLS | CMD_ONLY_BATCH),
-    "LOG", log_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES),
-    "MD", md_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES | CMD_SET_ERRORLEVEL | CMD_BACKSLASH_OK),
-    "MEMORY", memory_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES),
-    "MKDIR", md_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES | CMD_SET_ERRORLEVEL | CMD_BACKSLASH_OK),
-    "MOVE", mv_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES | CMD_CLOSE_BATCH | CMD_RESET_DISKS | CMD_SET_ERRORLEVEL),
-    "ON", on_cmd, (CMD_ONLY_BATCH | CMD_GROUPS),
-    "OPTION", option_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES ),
-    "PATH", path_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES | CMD_BACKSLASH_OK),
-    "PAUSE", pause_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES | CMD_CLOSE_BATCH),
-    "POPD", popd_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES),
-    "PROMPT", prompt_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES | CMD_BACKSLASH_OK),
-    "PUSHD", pushd_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES | CMD_ADD_NULLS | CMD_BACKSLASH_OK),
-    "QUIT", quit_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES),
-    "RD", rd_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES | CMD_RESET_DISKS | CMD_SET_ERRORLEVEL | CMD_BACKSLASH_OK),
-    "REBOOT", reboot_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES),
-    "REM", remark_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES | CMD_BACKSLASH_OK),
-    "REN", ren_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES | CMD_CLOSE_BATCH | CMD_RESET_DISKS | CMD_SET_ERRORLEVEL | CMD_BACKSLASH_OK),
-    "RENAME", ren_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES | CMD_CLOSE_BATCH | CMD_RESET_DISKS | CMD_SET_ERRORLEVEL | CMD_BACKSLASH_OK),
-    "RETURN", ret_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES | CMD_ONLY_BATCH),
-    "RMDIR", rd_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES | CMD_RESET_DISKS | CMD_SET_ERRORLEVEL | CMD_BACKSLASH_OK),
-    "SCREEN", scr_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES),
-    "SCRPUT", scrput_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR),
-    "SELECT", select_cmd,CMD_GROUPS,
-    "SET", set_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES | CMD_SET_ERRORLEVEL),
-    "SETDOS", setdos_cmd, (CMD_EXPAND_VARS | CMD_STRIP_QUOTES | CMD_EXPAND_REDIR),
-    "SETLOCAL", setlocal_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES | CMD_ONLY_BATCH),
-    "SHIFT", shift_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES | CMD_ONLY_BATCH),
-    "SHRALIAS", shralias_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES | CMD_SET_ERRORLEVEL | CMD_CLOSE_BATCH),
-    "START", start_cmd, (CMD_EXPAND_VARS | CMD_STRIP_QUOTES | CMD_SET_ERRORLEVEL | CMD_CLOSE_BATCH),
-    "SWITCH",  switch_cmd, (CMD_EXPAND_VARS | CMD_STRIP_QUOTES | CMD_ONLY_BATCH),
-    "TEE", tee_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES | CMD_CLOSE_BATCH),
-    "TEXT", battext_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES | CMD_ONLY_BATCH),
-    "TIME", settime_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES | CMD_SET_ERRORLEVEL),
-    "TIMER", timer_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES),
-    "TITLE", title_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES),
-    "TOUCH", touch_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES),
-    "TREE", tree_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES),
-    "TYPE", type_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES | CMD_SET_ERRORLEVEL | CMD_CLOSE_BATCH | CMD_BACKSLASH_OK),
-    "UNALIAS", unset_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES),
-    "UNSET", unset_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES),
-    "VER", ver_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES),
-    "VERIFY", verify_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES | CMD_ADD_NULLS),
-    "VOL", volume_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES | CMD_ADD_NULLS | CMD_RESET_DISKS | CMD_SET_ERRORLEVEL),
-    "VSCRPUT", scrput_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR),
-    "WINDOW", window_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES | CMD_SET_ERRORLEVEL),
-    "Y", y_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES | CMD_CLOSE_BATCH)
+    "?", cmds_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES), 8000,
+    "ACTIVATE", activate_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES | CMD_ADD_NULLS), 8001,
+    "ALIAS", set_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES | CMD_CLOSE_BATCH), 8002,
+    "BEEP", beep_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES | CMD_ADD_NULLS), 8003,
+    "CALL", call_cmd, (CMD_CLOSE_BATCH | CMD_BACKSLASH_OK), cmd_MSG_CALL_HELP,
+    "CANCEL", quit_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES | CMD_ONLY_BATCH), 8004,
+    "CASE",  case_cmd, CMD_ONLY_BATCH, 8005,
+    "CD", cd_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES | CMD_SET_ERRORLEVEL | CMD_BACKSLASH_OK), cmd_MSG_CHDIR_HELP,
+    "CDD", cdd_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES | CMD_SET_ERRORLEVEL | CMD_BACKSLASH_OK), 8006,
+    "CHCP", chcp_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES | CMD_ADD_NULLS | CMD_SET_ERRORLEVEL), cmd_MSG_CHCP_HELP,
+    "CHDIR", cd_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES | CMD_SET_ERRORLEVEL | CMD_BACKSLASH_OK), cmd_MSG_CHDIR_HELP,
+    "COLOR", color_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES), 8007,
+    "COPY", copy_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES | CMD_CLOSE_BATCH | CMD_RESET_DISKS | CMD_SET_ERRORLEVEL | CMD_BACKSLASH_OK), cmd_MSG_COPY_HELP,
+    "DATE", setdate_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES | CMD_SET_ERRORLEVEL), cmd_MSG_DATE_HELP,
+    "DEFAULT",  case_cmd, CMD_ONLY_BATCH, 8008,
+    "DEL", del_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES | CMD_CLOSE_BATCH | CMD_RESET_DISKS | CMD_SET_ERRORLEVEL | CMD_BACKSLASH_OK), cmd_MSG_DEL_HELP,
+    "DELAY", delay_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES | CMD_ADD_NULLS), 8009,
+    "DESCRIBE", describe_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES | CMD_CLOSE_BATCH | CMD_RESET_DISKS), 8010,
+    "DETACH", detach_cmd, (CMD_STRIP_QUOTES | CMD_SET_ERRORLEVEL | CMD_DETACH_LINE | CMD_CLOSE_BATCH), 8011,
+    "DIR", dir_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES | CMD_SET_ERRORLEVEL | CMD_BACKSLASH_OK), cmd_MSG_DIR_HELP,
+    "DIRHISTORY", history_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES | CMD_CLOSE_BATCH), 8012,
+    "DIRS", dirs_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES), 8013,
+    "DO", do_cmd, (CMD_GROUPS | CMD_STRIP_QUOTES | CMD_ONLY_BATCH), 8014,
+    "DPATH", dpath_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES | CMD_BACKSLASH_OK), 8015,
+    "DRAWBOX", drawbox_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES), 8016,
+    "DRAWHLINE", drawline_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES), 8017,
+    "DRAWVLINE", drawline_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES), 8018,
+    "ECHO", echo_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES | CMD_BACKSLASH_OK), cmd_MSG_ECHO_HELP,
+    "ECHOERR", echo_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES | CMD_BACKSLASH_OK), 8019,
+    "ECHOS", echos_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES), 8020,
+    "ECHOSERR", echos_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES), 8021,
+    "ENDLOCAL", endlocal_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES | CMD_ONLY_BATCH), 8022,
+    "ENDSWITCH",  remark_cmd, CMD_ONLY_BATCH, 8023,
+    "ERASE", del_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES | CMD_CLOSE_BATCH | CMD_RESET_DISKS | CMD_SET_ERRORLEVEL | CMD_BACKSLASH_OK), cmd_MSG_DEL_HELP,
+    "ESET", eset_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES), 8024,
+    "EXCEPT", except_cmd, CMD_GROUPS, 8025,
+    "EXIT", exit_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES), cmd_MSG_EXIT_HELP,
+    "FFIND", ffind_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES), 8026,
+    "FOR", for_cmd, (CMD_GROUPS | CMD_CLOSE_BATCH), cmd_MSG_FOR_HELP,
+    "FREE", df_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES | CMD_ADD_NULLS), 8027,
+    "GLOBAL", global_cmd,CMD_GROUPS, 8028,
+    "GOSUB", gosub_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES | CMD_ADD_NULLS | CMD_ONLY_BATCH), 8029,
+    "GOTO", goto_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES | CMD_ONLY_BATCH), cmd_MSG_GOTO_HELP,
+    "HELP", help_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES), 8030,
+    "HISTORY", history_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES | CMD_CLOSE_BATCH), 8031,
+    "IF", if_cmd, CMD_GROUPS, cmd_MSG_IF_HELP,
+    "IFF", if_cmd, CMD_GROUPS, 8032,
+    "INKEY", inkey_input_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES), 8033,
+    "INPUT", inkey_input_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES), 8034,
+    "KEYBD", keybd_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES | CMD_ADD_NULLS), 8035,
+    "KEYS", keys_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES | CMD_ADD_NULLS), 8036,
+    "KEYSTACK", keystack_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES | CMD_CLOSE_BATCH), 8037,
+    "LIST", list_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES), 8038,
+    "LOADBTM", loadbtm_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES | CMD_ADD_NULLS | CMD_ONLY_BATCH), 8039,
+    "LOG", log_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES), 8040,
+    "MEMORY", memory_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES), 8041,
+    "MOVE", mv_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES | CMD_CLOSE_BATCH | CMD_RESET_DISKS | CMD_SET_ERRORLEVEL), cmd_MSG_MOVE_HELP,
+    "ON", on_cmd, (CMD_ONLY_BATCH | CMD_GROUPS), 8042,
+    "OPTION", option_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES ), 8043,
+    "PATH", path_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES | CMD_BACKSLASH_OK), cmd_MSG_PATH_HELP,
+    "PAUSE", pause_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES | CMD_CLOSE_BATCH), cmd_MSG_PAUSE_HELP,
+    "POPD", popd_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES), 8044,
+    "PROMPT", prompt_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES | CMD_BACKSLASH_OK), cmd_MSG_PROMPT_HELP,
+    "PUSHD", pushd_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES | CMD_ADD_NULLS | CMD_BACKSLASH_OK), 8045,
+    "QUIT", quit_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES), 8046,
+    "RD", rd_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES | CMD_RESET_DISKS | CMD_SET_ERRORLEVEL | CMD_BACKSLASH_OK), cmd_MSG_RMDIR_HELP,
+    "REBOOT", reboot_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES), 8047,
+    "REM", remark_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES | CMD_BACKSLASH_OK), cmd_MSG_REM_HELP,
+    "REN", ren_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES | CMD_CLOSE_BATCH | CMD_RESET_DISKS | CMD_SET_ERRORLEVEL | CMD_BACKSLASH_OK), cmd_MSG_RENAME_HELP,
+    "RENAME", ren_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES | CMD_CLOSE_BATCH | CMD_RESET_DISKS | CMD_SET_ERRORLEVEL | CMD_BACKSLASH_OK), cmd_MSG_RENAME_HELP,
+    "RETURN", ret_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES | CMD_ONLY_BATCH), 8048,
+    "RMDIR", rd_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES | CMD_RESET_DISKS | CMD_SET_ERRORLEVEL | CMD_BACKSLASH_OK), cmd_MSG_RMDIR_HELP,
+    "SCREEN", scr_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES), 8049,
+    "SCRPUT", scrput_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR), 8050,
+    "SELECT", select_cmd,CMD_GROUPS, 8051,
+    "SET", set_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES | CMD_SET_ERRORLEVEL), cmd_MSG_SET_HELP,
+    "SETDOS", setdos_cmd, (CMD_EXPAND_VARS | CMD_STRIP_QUOTES | CMD_EXPAND_REDIR), 8052,
+    "SETLOCAL", setlocal_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES | CMD_ONLY_BATCH), 8053,
+    "SHIFT", shift_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES | CMD_ONLY_BATCH), cmd_MSG_SHIFT_HELP,
+    "SHRALIAS", shralias_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES | CMD_SET_ERRORLEVEL | CMD_CLOSE_BATCH), 8054,
+    "START", start_cmd, (CMD_EXPAND_VARS | CMD_STRIP_QUOTES | CMD_SET_ERRORLEVEL | CMD_CLOSE_BATCH), 8055,
+    "SWITCH",  switch_cmd, (CMD_EXPAND_VARS | CMD_STRIP_QUOTES | CMD_ONLY_BATCH), 8056,
+    "TEE", tee_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES | CMD_CLOSE_BATCH), 8057,
+    "TEXT", battext_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES | CMD_ONLY_BATCH), 8058,
+    "TIME", settime_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES | CMD_SET_ERRORLEVEL), cmd_MSG_TIME_HELP,
+    "TIMER", timer_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES), 8059,
+    "TITLE", title_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES), 8060,
+    "TOUCH", touch_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES), 8061,
+    "TYPE", type_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES | CMD_SET_ERRORLEVEL | CMD_CLOSE_BATCH | CMD_BACKSLASH_OK), cmd_MSG_TYPE_HELP,
+    "UNALIAS", unset_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES), 8062,
+    "UNSET", unset_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES), 8063,
+    "VERIFY", verify_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES | CMD_ADD_NULLS), cmd_MSG_VERIFY_HELP,
+    "VSCRPUT", scrput_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR), 8064,
+    "WINDOW", window_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES | CMD_SET_ERRORLEVEL), 8065,
+    "Y", y_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES | CMD_CLOSE_BATCH), 8066
 };
 
+//    "ATTRIB", attrib_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES | CMD_SET_ERRORLEVEL | CMD_BACKSLASH_OK), 3092,
+//    "CLS", cls_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES), 3067,
+//    "MD", md_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES | CMD_SET_ERRORLEVEL | CMD_BACKSLASH_OK), 3053,
+//    "MKDIR", md_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES | CMD_SET_ERRORLEVEL | CMD_BACKSLASH_OK), 3053,
+//    "TREE", tree_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES), 3148,
+//    "VER", ver_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES), 3050,
+//    "VOL", volume_cmd, (CMD_EXPAND_VARS | CMD_EXPAND_REDIR | CMD_STRIP_QUOTES | CMD_ADD_NULLS | CMD_RESET_DISKS | CMD_SET_ERRORLEVEL), 3051,
 
 // # of internal cmds
 #define NUMCMDS (sizeof(commands)/sizeof(BUILTIN))
@@ -203,3 +204,40 @@
     return -1;
 }
 
+
+// do binary search to find command help in internal command table & return help index
+int findcmdhelp( char *cmd, int eflag )
+{
+        static char DELIMS[] = "%10[^    \t;,.\"`\\+=<>|]";
+        int low, high, mid, cond;
+        char szInternalName[12];
+
+        // set the current compound command character & switch character
+        DELIMS[5] = gpIniptr->CmdSep;
+        DELIMS[6] = gpIniptr->SwChr;
+
+        // extract the command name (first argument)
+        //   (including nasty kludge for nasty people who do "echo:"
+        //   and a minor kludge for "y:")
+        DELIMS[7] = (char)(( cmd[1] == ':' ) ? ' ' : ':' );
+        sscanf( cmd, DELIMS, szInternalName );
+
+        // do a binary search for the command name
+        for ( low = 0, high = ( NUMCMDS - 1 ); ( low <= high ); ) {
+
+                mid = ( low + high ) / 2;
+
+                if (( cond = _stricmp( szInternalName, commands[mid].cmdname )) < 0)
+                        high = mid - 1;
+                else if ( cond > 0 )
+                        low = mid + 1;
+                else {
+                        // kludge for trailing '\' (i.e., "TEXT\")
+                        if ((( commands[mid].pflag & CMD_BACKSLASH_OK ) == 0 ) && ( cmd[ strlen(szInternalName) ] == '\\' ))
+                                return -1;
+                        return (((( commands[mid].pflag & CMD_DISABLED) == 0 ) || eflag ) ? commands[mid].index : -1 );
+                }
+        }
+
+        return -1;
+}
diff -urwN 4os2-o/c/dircmds.c 4os2/c/dircmds.c
--- 4os2-o/c/dircmds.c	2023-01-18 02:41:34.494096472 +0300
+++ 4os2/c/dircmds.c	2023-04-01 14:28:51.795753112 +0300
@@ -153,196 +153,6 @@
 }
 
 
-static long fTree;
-
-#define TREE_ASCII      0x01
-#define TREE_BARE       0x02
-#define TREE_CDD        0x04
-#define TREE_FILES      0x08
-#define TREE_HIDDEN     0x10
-#define TREE_PAGE       0x20
-#define TREE_SIZE       0x40
-#define TREE_TIME       0x80
-
-// display a directory list or tree
-int tree_cmd( int argc, char **argv )
-{
-    char *arg;
-    char szFilename[MAXFILENAME], szSequelBuffer[MAXPATH];
-    int rval = 0, fTime;
-
-    szSequelBuffer[0] = '\0';
-    init_dir();
-
-    argv++;
-    fTime = GetMultiCharSwitch( *argv, "T", szFilename, 4 );
-
-    // check for and remove switches
-    if ( GetSwitches( *argv, "ABCFHPS", &fTree, 0 ) != 0 )
-        return( usage( TREE_USAGE ));
-
-    if ( fTime ) {
-
-        fTree |= TREE_TIME;
-        arg = szFilename;
-        if ( *arg ) {
-            if ( *arg == ':' )
-                arg++;
-            if ( _ctoupper( *arg ) == 'A' )
-                gnDirTimeField = 1;
-            else if ( _ctoupper( *arg ) == 'C' )
-                gnDirTimeField = 2;
-        }
-    }
-
-    // if no filename arguments, use current directory
-    if ( first_arg( *argv ) == NULL ) {
-        *argv = gcdir( NULL, 0 );
-        AddQuotes( *argv );
-    }
-
-    if ( fTree & TREE_PAGE ) {
-        gnPageLength = GetScrRows();
-    }
-
-    arg = _alloca( strlen( *argv ) + 1 );
-    *argv = strcpy( arg, *argv );
-    for ( argc = 0; (( arg = ntharg( *argv, argc )) != NULL ); argc++ ) {
-
-        if ( mkfname( arg, 0 ) == NULL ) {
-            rval = ERROR_EXIT;
-            break;
-        }
-
-        if ( is_dir( arg ) == 0 ) {
-            if ((glDirFlags & DIRFLAGS_NO_ERRORS) == 0)
-                rval = error( ERROR_PATH_NOT_FOUND, arg );
-            continue;
-        }
-
-        // display "c:\wonky..."
-        _nxtrow();
-        printf( FMT_STR, arg );
-        _nxtrow();
-
-        copy_filename( szFilename, arg );
-        mkdirname( szFilename, WILD_FILE );
-        if ( (( rval = DrawTree( szFilename, szSequelBuffer )) != 0 ) || ( cv.exception_flag ) )
-            break;
-    }
-
-    return rval;
-}
-
-
-// display a directory tree
-static int DrawTree( char *pszCurrent, char *pszSequelBuffer )
-{
-    int rval = 0, fOK, nAttrib;
-    unsigned int uMode = FIND_NO_DOTNAMES | FIND_CREATE | FIND_NOERRORS | FILE_DIRECTORY; // 0x9110
-    char *pszName, *pszSave, cAmPm = ' ';
-    FILESEARCH dir;
-
-    if ( fTree & TREE_HIDDEN )
-        uMode |= FILE_READONLY | FILE_HIDDEN | FILE_SYSTEM;     // 0x07
-
-    if ( ( fTree & TREE_FILES ) == 0 )
-        uMode |= FIND_DIRONLY;          // 0x200
-
-    fOK = ( find_file( FIND_FIRST, pszCurrent, uMode, &dir, NULL ) != NULL );
-
-    while ( fOK ) {
-
-        pszName = strdup( dir.name );
-        nAttrib = dir.attrib;
-
-        if ( fTree & TREE_SIZE ) {
-            printf( (( nAttrib & _A_SUBDIR ) ? DIR_LABEL : "%9lld" ), dir.size );
-            printf("  ");
-        }
-
-        if ( fTree & TREE_TIME ) {
-
-            int month, day, year, minutes, hours;
-            if ( gnDirTimeField == 0 ) {
-                day = dir.fdLW.fdateLastWrite.day;
-                month = dir.fdLW.fdateLastWrite.month;
-                year = dir.fdLW.fdateLastWrite.year;
-                hours = dir.ftLW.ftimeLastWrite.hours;
-                minutes = dir.ftLW.ftimeLastWrite.minutes;
-            } else if ( gnDirTimeField == 1 ) {
-                day = dir.fdLA.fdateLastAccess.day;
-                month = dir.fdLA.fdateLastAccess.month;
-                year = dir.fdLA.fdateLastAccess.year;
-                hours = dir.ftLA.ftimeLastAccess.hours;
-                minutes = dir.ftLA.ftimeLastAccess.minutes;
-            } else {
-                day = dir.fdC.fdateCreation.day;
-                month = dir.fdC.fdateCreation.month;
-                year = dir.fdC.fdateCreation.year;
-                hours = dir.ftC.ftimeCreation.hours;
-                minutes = dir.ftC.ftimeCreation.minutes;
-            }
-
-            printf( "%s ", FormatDate( month, day, year + 1980, 0 ));
-
-            if ( gaCountryInfo.fsTimeFmt == 0 ) {
-                if ( hours >= 12 ) {
-                    hours -= 12;
-                    cAmPm = 'p';
-                } else
-                    cAmPm = 'a';
-            }
-
-            printf( "%2u%c%02u%c  ", hours,
-                    gaCountryInfo.szTimeSeparator[0], minutes, cAmPm );
-        }
-
-        // last directory on its level?
-        fOK = ( find_file( FIND_NEXT, pszCurrent, uMode, &dir, NULL ) != NULL );
-
-        if ( ( fTree & TREE_BARE ) || ( fTree & TREE_CDD ) ) {
-
-            char *arg, *pszPath;
-
-            pszPath = path_part( pszCurrent );
-            arg = strend( pszPath );
-            strcpy( arg, pszName );
-            printf( FMT_STR, pszPath );
-
-        } else if ( fTree & TREE_ASCII )
-            printf( "%s%c--%s", pszSequelBuffer, (( fOK == 0 ) ? '\\' : '+' ), pszName );
-        else
-            printf( "%s%c%s", pszSequelBuffer, (( fOK == 0 ) ? '' : '' ), pszName );
-        _nxtrow();
-
-        if ( nAttrib & _A_SUBDIR ) {
-
-            strcat( pszSequelBuffer, (( fOK == 0 ) ? "   " : (( fTree & TREE_ASCII ) ? "|  " : "  " ) ));
-
-            pszSave = strdup( pszCurrent );
-            insert_path( pszCurrent, pszName, pszCurrent );
-            mkdirname( pszCurrent, WILD_FILE );
-            free( pszName );
-
-            rval = DrawTree( pszCurrent, pszSequelBuffer );
-
-            // check for ^C and reset ^C trapping
-            if ( ( rval == CTRLC ) || ( cv.exception_flag ) )
-                break;
-            strcpy( pszCurrent, pszSave );
-            free( pszSave );
-
-            // Truncate sequel buffer to its previous value
-            pszSequelBuffer[ strlen( pszSequelBuffer ) - 3 ] = '\0';
-        } else
-            free( pszName );
-    }
-
-    return rval;
-}
-
-
 // display a directory list
 int dir_cmd( int argc, char **argv )
 {
diff -urwN 4os2-o/c/env.c 4os2/c/env.c
--- 4os2-o/c/env.c	2023-01-18 02:41:34.494096472 +0300
+++ 4os2/c/env.c	2023-04-01 14:28:51.795753112 +0300
@@ -333,31 +333,25 @@
 
         szLibPath[0] = '\0';
         if ( stricmp( varname, BEGINLIBPATH ) == 0 ) {
-            if ( pfnDQELP != 0L ) {
-                if (((*pfnDQELP)( szLibPath, BEGIN_LIBPATH ) == NO_ERROR ) && ( szLibPath[0] != '\0' ))
+            if ((DosQueryExtLIBPATH( szLibPath, BEGIN_LIBPATH ) == NO_ERROR ) && ( szLibPath[0] != '\0' ))
                     return szLibPath;
                 return 0L;
             }
-        }
 
         if ( stricmp( varname, ENDLIBPATH ) == 0 ) {
-            if ( pfnDQELP != 0L ) {
-                if (((*pfnDQELP)( szLibPath, END_LIBPATH ) == NO_ERROR ) && ( szLibPath[0] != '\0' ))
+            if ((DosQueryExtLIBPATH( szLibPath, END_LIBPATH ) == NO_ERROR ) && ( szLibPath[0] != '\0' ))
                 return szLibPath;
                 return 0L;
             }
-        }
 
         if ( stricmp( varname, LIBPATH_STRICT ) == 0 ) {
-            if ( pfnDQELP != 0L ) {
-                if (((*pfnDQELP)( szLibPath, LIBPATHSTRICT ) == NO_ERROR ) && ( szLibPath[0] != '\0' )) {
+            if ((DosQueryExtLIBPATH( szLibPath, END_LIBPATH ) == NO_ERROR ) && ( szLibPath[0] != '\0' )) {
                     szLibPath[1] = 0;       // 2014-09-24 SHL API does not nul terminate string
                     return szLibPath;
                 }
                 return 0L;
             }
         }
-    }
 
     for ( pchEnv = pchList; *pchEnv; ) {
 
@@ -492,19 +486,19 @@
     // special case for BeginLIBPATH, EndLIBPATH and LIBPATHSTRICT
     sscanf( envstr, "%31[^=]", szVarName );
     if (stricmp( szVarName, BEGINLIBPATH ) == 0) {
-        if (( pfnDSELP != 0L ) && ((*pfnDSELP)( line, BEGIN_LIBPATH ) == NO_ERROR))
+        if ((DosSetExtLIBPATH( line, BEGIN_LIBPATH ) == NO_ERROR))
             return 0;
         return ERROR_EXIT;
     }
 
     if (stricmp( szVarName, ENDLIBPATH ) == 0) {
-        if (( pfnDSELP != 0L ) && ((*pfnDSELP)( line, END_LIBPATH ) == NO_ERROR))
+        if ((DosSetExtLIBPATH( line, END_LIBPATH ) == NO_ERROR))
             return 0;
         return ERROR_EXIT;
     }
 
     if (stricmp( szVarName, LIBPATH_STRICT ) == 0) {
-        if (( pfnDSELP != 0L ) && ((*pfnDSELP)( line, LIBPATHSTRICT ) == NO_ERROR))
+        if ((DosSetExtLIBPATH( line, END_LIBPATH ) == NO_ERROR))
             return 0;
         return ERROR_EXIT;
     }
diff -urwN 4os2-o/c/filecmds.c 4os2/c/filecmds.c
--- 4os2-o/c/filecmds.c	2023-01-18 02:41:34.498096557 +0300
+++ 4os2/c/filecmds.c	2023-04-01 14:28:51.795753112 +0300
@@ -1590,6 +1590,9 @@
     if ( ( GetSwitches( argv[1], "*EFNPQSTXYZDW", &(Del.fFlags), 0 ) != 0 ) || ( first_arg( argv[1]) == NULL ) )
         return( usage( DELETE_USAGE ));
 
+        // be quiet by default
+        Del.fFlags &= DEL_QUIET;
+
     // if query, turn off quiet flag
     if ( Del.fFlags & DEL_QUERY )
         Del.fFlags &= ~( DEL_QUIET | DEL_TOTALS );
@@ -1830,289 +1833,6 @@
 }
 
 
-#define ATTRIB_BY_ATTRIBUTES 1
-#define ATTRIB_DIRS 2
-#define ATTRIB_NOERRORS 4
-#define ATTRIB_PAUSE 8
-#define ATTRIB_QUIET 0x10
-#define ATTRIB_SUBDIRS 0x20
-
-typedef struct {
-    char szSource[MAXFILENAME];
-    char szTarget[MAXFILENAME];
-    char *szFilename;
-    long fFlags;
-    int nMode;
-    char cAnd;
-    char cOr;
-} ATTRIB_STRUCT;
-
-static int _attrib( ATTRIB_STRUCT * );
-
-// change file attributes (HIDDEN, SYSTEM, READ-ONLY, and ARCHIVE)
-int attrib_cmd( int argc, char **argv )
-{
-    char *arg;
-    char *ptr;
-    int n, rval = 0;
-    union {
-        // file attribute structure
-        unsigned char attribute;
-        struct {
-            unsigned rdonly : 1;
-            unsigned hidden : 1;
-            unsigned system : 1;
-            unsigned reserved : 2;
-            unsigned archive : 1;
-        } bit;
-    } and_mask, or_mask;
-    ATTRIB_STRUCT Attrib;
-
-    Attrib.nMode = FIND_CREATE;
-
-    init_page_size();               // clear row & page length vars
-
-    // get date/time/size ranges
-    if ( GetRange( argv[1], &aRanges, 0 ) != 0 )
-        return ERROR_EXIT;
-
-    // check for flags
-    if ( GetSwitches( argv[1], "*DEPQS", &(Attrib.fFlags), 0 ) != 0 )
-        return(usage( ATTRIB_USAGE ));
-
-    if ( Attrib.fFlags & ATTRIB_PAUSE ) {
-        gnPageLength = GetScrRows();
-    }
-
-    Attrib.nMode |= (( Attrib.fFlags & ATTRIB_DIRS ) ? 0x17 : 0x07 );
-
-    // suppress error message from find_file
-    if ( Attrib.fFlags & ATTRIB_NOERRORS )
-        Attrib.nMode |= FIND_NOERRORS;  // 0x100
-
-    and_mask.attribute = 0x37;
-    or_mask.attribute = 0;
-
-    argc = 0;
-    strcpy( Attrib.szSource, WILD_FILE );   // default to *.*
-
-    do {
-
-        if ( ( arg = ntharg( argv[1], argc++ )) != NULL ) {
-
-            if ( *arg == '-' ) {
-
-                // remove attribute (clear OR and AND bits)
-                while ( *(++arg ) ) {
-
-                    switch ( _ctoupper( *arg ) ) {
-                        case 'A':
-                            or_mask.bit.archive = and_mask.bit.archive = 0;
-                            break;
-                        case 'H':
-                            or_mask.bit.hidden = and_mask.bit.hidden = 0;
-                            break;
-                        case 'R':
-                            or_mask.bit.rdonly = and_mask.bit.rdonly = 0;
-                            break;
-                        case 'S':
-                            or_mask.bit.system = and_mask.bit.system = 0;
-                            break;
-                        case '-':
-                            // kludge for RTPatch bug
-                            break;
-                        case '_':
-                            // ignore for ___A_ syntax
-                            break;
-                        default:
-                            error( ERROR_INVALID_PARAMETER, arg );
-                            return(usage( ATTRIB_USAGE ));
-                    }
-                }
-
-            } else if ( *arg == '+' ) {
-
-                // add attribute (set OR bits)
-                while ( *(++arg ) ) {
-
-                    switch ( _ctoupper( *arg ) ) {
-                        case 'A':
-                            or_mask.bit.archive = 1;
-                            break;
-                        case 'H':
-                            or_mask.bit.hidden = 1;
-                            break;
-                        case 'R':
-                            or_mask.bit.rdonly = 1;
-                            break;
-                        case 'S':
-                            or_mask.bit.system = 1;
-                            break;
-                        case '+':
-                            // kludge for RTPatch bug
-                            break;
-                        case '_':
-                            // ignore for ___A_ syntax
-                            break;
-                        default:
-                            error( ERROR_INVALID_PARAMETER, arg );
-                            return( usage( ATTRIB_USAGE ));
-                    }
-                }
-
-            } else {
-
-                // it must be a filename
-                copy_filename( Attrib.szSource, arg );
-
-                // check for trailing switches
-                // KLUDGE for COMMAND.COM compatibility (ATTRIB *.c +h)
-                for ( n = argc; (( ptr = ntharg( argv[1], n )) != NULL ); n++ ) {
-                    // check for another file spec
-                    if ( ( *ptr != '-' ) && ( *ptr != '+' ) )
-                        goto change_atts;
-                }
-            }
-
-        } else {
-
-            change_atts:
-            if ( mkfname( Attrib.szSource, 0 ) == NULL )
-                return ERROR_EXIT;
-
-            // if source is a directory & no /D specified, add "\*"
-            if ( Attrib.fFlags & ATTRIB_DIRS )
-                strip_trailing( Attrib.szSource, "\\/" );
-            else if ( is_dir( Attrib.szSource ) )
-                mkdirname( Attrib.szSource, WILD_FILE );
-
-            // save the source filename part (for recursive calls and
-            //   include lists)
-            Attrib.szFilename = Attrib.szSource + strlen( path_part( Attrib.szSource));
-            ptr = _alloca( strlen( Attrib.szFilename ) + 1 );
-            Attrib.szFilename = strcpy( ptr, Attrib.szFilename );
-
-            // change attributes
-            Attrib.cAnd = and_mask.attribute;
-            Attrib.cOr = or_mask.attribute;
-
-            rval = _attrib( &Attrib );
-            if ( ( setjmp( cv.env ) == -1 ) || ( rval == CTRLC ) )
-                break;
-            EnableSignals();
-        }
-
-    } while ( ( rval != CTRLC ) && ( arg != NULL ) );
-
-    // disable signal handling momentarily
-    HoldSignals();
-
-    return rval;
-}
-
-
-static int _attrib( ATTRIB_STRUCT *Attrib )
-{
-    unsigned int old_attrib;
-    int fval, rval = 0, rc;
-    char *source_name;
-    FILESEARCH dir;
-
-    EnableSignals();
-
-    // copy date/time range info
-    memmove( &(dir.aRanges), &aRanges, sizeof(RANGES) );
-
-    // change attributes
-    for ( fval = FIND_FIRST; ( find_file( fval, Attrib->szSource, ( Attrib->nMode | FIND_BYATTS | FIND_DATERANGE | FIND_NO_DOTNAMES ), &dir, Attrib->szTarget ) != NULL ); fval = FIND_NEXT ) {
-
-        if ( ( setjmp( cv.env ) == -1 ) || ( cv.exception_flag ) ) {
-            (void)DosFindClose( dir.hdir );
-            return CTRLC;
-        }
-
-        // display old attributes, new attributes, and filename
-        old_attrib = ( dir.attrib & 0x37 );
-        dir.attrib = (unsigned char)(( old_attrib & Attrib->cAnd ) | Attrib->cOr );
-
-        // if attributes were changed, show new ones
-        if ( ( Attrib->fFlags & ATTRIB_QUIET ) == 0 ) {
-
-            qputs( show_atts( old_attrib ));
-
-            if ( ( Attrib->cAnd != 0x37 ) || ( Attrib->cOr != 0 ) )
-                printf( " -> %s", show_atts( dir.attrib ));
-
-            printf("  %s", Attrib->szTarget );
-            crlf();
-            _page_break();
-        }
-
-        // check for a change; ignore if same
-        //   (can't change directory attribute)
-        if ( ( old_attrib != (unsigned int)dir.attrib ) && (( rc = SetFileMode( Attrib->szTarget, (dir.attrib & 0x27))) != 0 ) )
-            rval = error( rc, Attrib->szTarget );
-    }
-
-    // modify matching subdirectory files too?
-    if ( Attrib->fFlags & ATTRIB_SUBDIRS ) {
-
-        // strip the filename & add wildcards for directory search
-        sprintf( Attrib->szSource, FMT_DOUBLE_STR, path_part( Attrib->szSource ), WILD_FILE );
-
-        // save the current subdirectory start
-        source_name = strchr( Attrib->szSource, '*' );
-
-        // search for all subdirectories in this (sub)directory
-        //   tell find_file() not to display errors, & to only
-        //   return subdir names
-#define M (FIND_NOERRORS | FIND_DIRONLY | FILE_DIRECTORY)
-        for ( fval = FIND_FIRST; ( find_file( fval, Attrib->szSource, ( Attrib->nMode | M ),&dir,NULL ) != NULL ); fval = FIND_NEXT ) {
-#undef M
-
-            // make the new "source"
-            sprintf( source_name, FMT_PATH_STR, dir.name, Attrib->szFilename );
-
-            // process directory tree recursively
-            rval = _attrib( Attrib );
-            if ( ( setjmp( cv.env ) == -1 ) || ( rval == CTRLC ) ) {
-                // reset the directory search handle
-                (void)DosFindClose( dir.hdir );
-                return CTRLC;
-            }
-
-            // restore the original name
-            strcpy( source_name, WILD_FILE );
-        }
-    }
-
-    // disable signal handling momentarily
-    HoldSignals();
-
-    return rval;
-}
-
-
-char *show_atts( int attribute )
-{
-    static char atts[6];
-
-    strcpy( atts, "_____" );
-    if ( attribute & _A_RDONLY )
-        atts[0] = 'R';
-    if ( attribute & _A_HIDDEN )
-        atts[1] = 'H';
-    if ( attribute & _A_SYSTEM )
-        atts[2] = 'S';
-    if ( attribute & _A_ARCH )
-        atts[3] = 'A';
-    if ( attribute & _A_SUBDIR )
-        atts[4] = 'D';
-
-    return atts;
-}
-
-
 // change a file's date & time
 int touch_cmd( int argc, char **argv )
 {
diff -urwN 4os2-o/c/jpos2dll.c 4os2/c/jpos2dll.c
--- 4os2-o/c/jpos2dll.c	2023-01-18 02:41:34.562097910 +0300
+++ 4os2/c/jpos2dll.c	2023-04-01 14:28:51.795753112 +0300
@@ -11,10 +11,10 @@
 #include <stdlib.h>
 #include <string.h>
 
-// #include "4all.h"
+#include "4all.h"
 
-#define INCL_BASE 1
-#define INCL_PM 1
+#define INCL_BASE
+#define INCL_PM
 #include <os2.h>
 
 
@@ -231,7 +231,7 @@
 
 
 // Function to preprocess the next token in the input string.
-static int _PreprocessKeys(void)
+static int xPreprocessKeys(void)
 {
     char cChar;
     char *arg, szSpecialKey[32], szBuf[32];
@@ -304,7 +304,7 @@
         pszKeys++;
         while (( *pszKeys != '\0' ) && ( *pszKeys != ')' )) {
             // Add the next character to the array.
-            if (( SendKeysErr = _PreprocessKeys()) != SK_NOERROR )
+            if (( SendKeysErr = xPreprocessKeys()) != SK_NOERROR )
                 return SendKeysErr;
         }
 
@@ -380,7 +380,7 @@
         else
             uaKeys[ uMaxKSIndex ].usFlags |= KC_ALT;
 
-        if (( SendKeysErr = _PreprocessKeys()) != SK_NOERROR)
+        if (( SendKeysErr = xPreprocessKeys()) != SK_NOERROR)
             return SendKeysErr;
         uMaxKSIndex--;
 
@@ -463,7 +463,7 @@
     // While there are more characters in the string to be parsed,
     // call the preprocessor to evaluate the next token.
     while ( *pszKeys != '\0' ) {
-        if (( SKError = _PreprocessKeys()) != SK_NOERROR )
+        if (( SKError = xPreprocessKeys()) != SK_NOERROR )
             return SKError;
     }
 
@@ -507,21 +507,6 @@
 }
 
 
-// Wrapper for Warp's DosGetExtLIBPATH and DosSetExtLIBPATH functions
-//   (which don't exist in 2.x and are in different places in different
-//   versions of Warp!)
-int APIENTRY QueryExtLIBPATH( char *pszLibPath, int uType )
-{
-    return ( DosQueryExtLIBPATH( pszLibPath, uType ));
-}
-
-
-int APIENTRY SetExtLIBPATH( char *pszLibPath, int uType )
-{
-    return ( DosSetExtLIBPATH( pszLibPath, uType ));
-}
-
-
 // This is the Journal Playback hook callback function.  Every time it is
 // called, PM is requesting the next keyboard event to be played back.
 // This function fills a QMSG structure with the correct information about
diff -urwN 4os2-o/c/keystack.c 4os2/c/keystack.c
--- 4os2-o/c/keystack.c	2023-01-18 02:41:34.562097910 +0300
+++ 4os2/c/keystack.c	2023-04-01 14:28:51.795753112 +0300
@@ -5,8 +5,8 @@
 
 #include <string.h>
 
-#define INCL_BASE 1
-#define INCL_PM 1
+#define INCL_BASE
+#define INCL_PM
 #include <os2.h>
 
 
diff -urwN 4os2-o/c/listall.c 4os2/c/listall.c
--- 4os2-o/c/listall.c	2023-01-18 02:41:34.562097910 +0300
+++ 4os2/c/listall.c	2023-04-01 14:28:51.799753196 +0300
@@ -713,7 +713,8 @@
 static INT DisplayLine( UINT nRow, LONG lLinePtr )
 {
     int i, n;
-    INT nLength, nBytesPrinted = 0, nHOffset = 0, nHexOffset;
+    INT nLength, nHOffset = 0, nHexOffset;
+    int nBytesPrinted = 0;
     CHAR *arg, szBuffer[512], cSave;
 
     ListSetCurrent( lLinePtr );
diff -urwN 4os2-o/c/listc.c 4os2/c/listc.c
--- 4os2-o/c/listc.c	2023-01-18 02:41:34.562097910 +0300
+++ 4os2/c/listc.c	2023-04-01 14:28:51.799753196 +0300
@@ -71,7 +71,7 @@
     if ( setjmp( cv.env ) == -1 ) {
 list_abort:
         (void)DosFindClose( dir.hdir );
-        (void)cls_cmd( 1, NULL );
+        (void)clear_screen();
         rval = CTRLC;
         goto list_bye;
     }
@@ -126,7 +126,7 @@
             }
 
             // clear the screen
-            (void)cls_cmd( 1, NULL );
+            (void)clear_screen();
 
             if (( rval = _list( szFileName )) == CTRLC )
                 goto list_abort;
diff -urwN 4os2-o/c/main.c 4os2/c/main.c
--- 4os2-o/c/main.c	2023-01-18 02:41:34.562097910 +0300
+++ 4os2/c/main.c	2023-04-01 14:28:51.799753196 +0300
@@ -1,5 +1,14 @@
-// MAIN.C - main() for 4os2 family
-//   (c) 1993 - 1998  Rex C. Conn  All rights reserved
+/*
+   @file main.c
+
+   @brief CMD.EXE - Command processor.
+
+   (c) 1993 - 1998  Rex C. Conn  All rights reserved
+   (c) osFree Project 2003, <http://www.osFree.org>
+
+   @author J.P. Software (http://jpsoft.com)
+
+*/
 
 #include "product.h"
 
diff -urwN 4os2-o/c/misc.c 4os2/c/misc.c
--- 4os2-o/c/misc.c	2023-01-18 02:41:34.566097994 +0300
+++ 4os2/c/misc.c	2023-04-01 14:28:51.799753196 +0300
@@ -2834,3 +2834,66 @@
 }
 
 
+// clear the screen (using ANSI)
+void clear_screen(void)
+{
+        VIOOVERSCAN overscan;
+
+        if ( gpIniptr->StdColor != 0 ) {
+
+                set_colors( gpIniptr->StdColor & 0xFF );
+
+                // check for default border (high byte)
+                if (( overscan.color = ( gpIniptr->StdColor >> 8 )) != 0xFF ) {
+                        overscan.cb = sizeof( overscan );
+                        overscan.type = 1;
+                        (void)VioSetState( &overscan, 0 );
+                }
+        }
+
+        // 4OS2 forces ANSI compatibility, so we _know_ this will work!
+        printf( "\033[2J" );
+
+}
+
+char *show_atts( int attribute )
+{
+        static char atts[6];
+
+        strcpy( atts, "_____" );
+        if ( attribute & _A_RDONLY )
+                atts[0] = 'R';
+        if ( attribute & _A_HIDDEN )
+                atts[1] = 'H';
+        if ( attribute & _A_SYSTEM )
+                atts[2] = 'S';
+        if ( attribute & _A_ARCH )
+                atts[3] = 'A';
+        if ( attribute & _A_SUBDIR )
+                atts[4] = 'D';
+
+        return atts;
+}
+
+// read a disk label
+int getlabel( char *arg )
+{
+    char volume_name[MAXFILENAME];
+    unsigned long serial_number = 0L;
+
+    // first check for a valid drive name
+    if ( arg[1] != ':' )
+        return ( error( ERROR_INVALID_DRIVE, arg ));
+
+    // read the label
+    if ( QueryVolumeInfo( arg, volume_name, &serial_number ) == NULL )
+        return ERROR_EXIT;
+
+    printf( VOLUME_LABEL, _ctoupper( *arg ), volume_name );
+
+    // display the disk serial number
+    if ( serial_number )
+        printf( VOLUME_SERIAL, ( serial_number >> 16 ), ( serial_number & 0xFFFF ));
+
+    return 0;
+}
diff -urwN 4os2-o/c/msg.c 4os2/c/msg.c
--- 4os2-o/c/msg.c	2023-01-18 02:41:34.566097994 +0300
+++ 4os2/c/msg.c	2023-04-01 14:28:51.799753196 +0300
@@ -210,7 +210,6 @@
 // USAGE messages
 char ACTIVATE_USAGE[] = "\"title\" [CLOSE | MIN | MAX | RESTORE]";
 char ALIAS_USAGE[] = "[/PR ?] name=value";
-char ATTRIB_USAGE[] = "[/A:-rhsda /DEPQS] [+|-AHRS] ?...";
 char BREAK_USAGE[] = "[ON | OFF]";
 char CALL_USAGE[] = "[/Q] ?";
 char CDD_USAGE[] = "[/AS] ~";
@@ -261,7 +260,6 @@
 char TYPE_USAGE[] = "[/A:-rhsda /LP] ?...";
 char UNALIAS_USAGE[] = "[/QR] name...";
 char UNSET_USAGE[] = "[/QR] name...";
-char VER_USAGE[] = "[/R]";
 char WINDOW_USAGE[] = "MIN | MAX | POS=lx,ly,lcx,lcy | RESTORE | \"title\"";
 
 
@@ -395,15 +393,11 @@
 
 // xxxINIT.C
 // Embedded copyright notice
-char COPYRIGHT[]  = "Copyright (c) 1988-2002 JP Software, Inc -- http://jpsoft.com/\n"
-                    "Netlabs Edition http://4os2.netlabs.org/ -- not supported by JP Software, Inc.\n";
-char COPYRIGHT2[] = "Built with Open Watcom C/C++ -- http://www.openwatcom.org/\n";
+char COPYRIGHT2[] = "Built with Open Watcom C/C++ (http://www.openwatcom.org)\n";
 char COMSPEC[] = "COMSPEC";
 char TAILIS[] = "%s tail is:  [%s]\nPress any key to continue ...";
 
 char COMSPEC_OS2[] = "%s=%Fs";
-char CMD_OS2_VERSION[] = "The Operating System/2 Version is %s\n";
-char OS2_VERSION[] = "\n%s   OS/2 Version is %s\n";
 char szIniName[MAXFILENAME];
 
 char PROGRAM[32];
@@ -415,10 +409,8 @@
 char *OS2_NAME = "4OS2.EXE";
 char *SHORT_NAME = "4OS2";
 char OS2_INI[] = "4OS2.INI";
-char OS2_FS[] = "4OS2 Full Screen";
-char OS2_WIN[] = "4OS2 Window";
-char OS2_REVISION[] = "Build %u.%02u%s.%02u %s("__DATE__" "__TIME__")\n";
-char CMD_OS2_REVISION[] = "Revision %s\n";
+char OS2_FS[] = "OS/2 Full Screen";
+char OS2_WIN[] = "OS/2 Window";
 char NO_DLL[] = "Warning:  Can't load JPOS2DLL";
 #ifdef __DEBUG__
 char TRACE_STARTUP_MSG[] = "\n 4OS2 - Build "__DATE__"  "__TIME__"  DEBUG_BUILD";
@@ -728,9 +720,6 @@
 char CMDLINE_VAR[] = "CMDLINE=";
 char PROMPT_NAME[] = "PROMPT";
 
-char OS2_PROMPT[] = "  OS/2     Ctrl+Esc = Window List                             Type HELP = help  ";
-
-
 // SCREENIO.C
 char HISTORY_TITLE[] = " History ";
 char DIRECTORY_TITLE[] = " Directories ";
diff -urwN 4os2-o/c/option2.c 4os2/c/option2.c
--- 4os2-o/c/option2.c	2023-01-18 02:41:34.566097994 +0300
+++ 4os2/c/option2.c	2023-04-01 14:28:51.799753196 +0300
@@ -3,8 +3,8 @@
 
 #include "product.h"
 
-#define INCL_BASE 1
-#define INCL_PM 1
+#define INCL_BASE
+#define INCL_PM
 #include <os2.h>
 
 #include <fcntl.h>
@@ -48,7 +48,7 @@
 //#define ID_RESOURCE 1
 
 char * path_part( char * );
-extern MRESULT EXPENTRY ClientWndProc( HWND, ULONG, MPARAM, MPARAM );
+extern MRESULT APIENTRY ClientWndProc( HWND, ULONG, MPARAM, MPARAM );
 
 HWND hParentFrame;
 static HAB hab;
@@ -88,7 +88,7 @@
     // Make sure we got the shared memory name, and that the memory is available
     if ( (( pszShareName = argv[1] ) == (void *)0L/*NULL*/ ) || ( DosGetNamedSharedMem( (PPVOID)&pIniData, pszShareName, PAG_READ | PAG_WRITE ) != 0 ) ) {
 
-        WinMessageBox( HWND_DESKTOP, HWND_DESKTOP, "This program must be started from the 4OS2 OPTION command.", "OPTION.EXE", 0, ( MB_OK | MB_ERROR ));
+        WinMessageBox( HWND_DESKTOP, HWND_DESKTOP, "This program must be started from the 4OS2 OPTION command.", "OPTION2.EXE", 0, ( MB_OK | MB_ERROR ));
         rval = 1;
 
     } else {
@@ -141,7 +141,7 @@
 }
 
 
-MRESULT EXPENTRY ClientWndProc( HWND hwnd, ULONG msg, MPARAM mp1, MPARAM mp2 )
+MRESULT APIENTRY ClientWndProc( HWND hwnd, ULONG msg, MPARAM mp1, MPARAM mp2 )
 {
     switch ( msg ) {
         case WM_USER:
diff -urwN 4os2-o/c/os2calls.c 4os2/c/os2calls.c
--- 4os2-o/c/os2calls.c	2023-01-18 02:41:34.566097994 +0300
+++ 4os2/c/os2calls.c	2023-04-01 14:28:51.799753196 +0300
@@ -455,12 +455,21 @@
 
         lpMsg = AllocMem( &size );
         nMsgLen = size;
-        if ( DosGetMessage( NULL, 0, lpMsg, size, findcmd( arg, 1 ), "4OS2H.MSG", &nMsgLen ) == 0 ) {
+        if (findcmdhelp( arg, 1 )==0) {
+            if ( DosGetMessage( NULL, 0, lpMsg, size, findcmd( arg, 1 ), "OSO001H.MSG", &nMsgLen ) == 0 ) {
             lpMsg[nMsgLen] = '\0';
             printf( FMT_FAR_STR, lpMsg);
 
             FreeMem( lpMsg );
         }
+        } else {
+            if ( DosGetMessage( NULL, 0, lpMsg, size, findcmdhelp( arg, 1 ), "OSO001.MSG", &nMsgLen ) == 0 ) {
+                lpMsg[nMsgLen] = '\0';
+                printf( FMT_FAR_STR, lpMsg);
+
+                FreeMem( lpMsg );
+            }
+        }
         return 0;
     }
 
@@ -489,7 +498,7 @@
     else if ( gpIniptr->HelpBook != INI_EMPTYSTR)
         strcpy( argline, ( char *)( gpIniptr->StrData + gpIniptr->HelpBook) );
     else {
-        strcpy( argline, "4OS2+CMDREF" );
+        strcpy( argline, "CMDREF" );
     }
 
     // check for command line arguments
@@ -956,18 +965,32 @@
 // Get the file attributes
 int QueryFileMode( char *fname, unsigned int *attrib)
 {
-    APIRET16 APIENTRY16 DosQFileMode( PSZ, PUSHORT, ULONG );
+    //APIRET16 APIENTRY16 DosQFileMode( PSZ, PUSHORT, ULONG );
+    FILESTATUS3 stat;
+    APIRET rc;
 
     // clear out the upper 16 bits when INT = 32bit
-    *attrib = 0;
-    return ( DosQFileMode( fname, (PUSHORT)attrib, 0L ));
+    //*attrib = 0;
+    rc = DosQueryPathInfo(fname, FIL_STANDARD, &stat, sizeof(stat));
+    *attrib = stat.attrFile;
+    //return ( DosQFileMode( fname, (PUSHORT)attrib, 0L ));
+    return rc;
 }
 
 
 // Get the file attributes
 int SetFileMode( char *fname, unsigned int attrib)
 {
-    APIRET16 APIENTRY16 DosSetFileMode(PSZ, USHORT, ULONG);
+    //APIRET16 APIENTRY16 DosSetFileMode(PSZ, USHORT, ULONG);
+    FILESTATUS3 stat;
+    APIRET rc;
+
+    rc = DosQueryPathInfo(fname, FIL_STANDARD, &stat, sizeof(stat));
+    stat.attrFile = attrib;
+    rc = DosSetPathInfo(fname, FIL_STANDARD, &stat, sizeof(stat), DSPI_WRTTHRU);
+
+    //return ( DosSetFileMode( fname,attrib,0L ));
+    return rc;
 
     return ( DosSetFileMode( fname,attrib,0L ));
 }
@@ -994,7 +1017,7 @@
 int QueryCodePage( void )
 {
     ULONG CodePageList, DataLength;
-    (void)DosGetCp( sizeof(CodePageList), &CodePageList, &DataLength );
+    (void)DosQueryCp( sizeof(CodePageList), &CodePageList, &DataLength );
 
     return (int)CodePageList;
 }
diff -urwN 4os2-o/c/os2cfg.c 4os2/c/os2cfg.c
--- 4os2-o/c/os2cfg.c	2023-01-18 02:41:34.622099178 +0300
+++ 4os2/c/os2cfg.c	2023-04-01 14:28:51.799753196 +0300
@@ -51,7 +51,7 @@
 
 #define CONTROLDATASIZE ((IDI_ID_MAX - IDI_BASE + 1) * sizeof(IDI_CONTROL))
 
-MRESULT EXPENTRY wpConfigDlg(HWND, ULONG, MPARAM, MPARAM);
+MRESULT APIENTRY wpConfigDlg(HWND, ULONG, MPARAM, MPARAM);
 
 // Define configuration notebook pages and header
 NBPAGE ConfigNBPages[] = {
@@ -107,7 +107,7 @@
 
 
 // Dialog procedure for the configuration dialog pages
-MRESULT EXPENTRY wpConfigDlg(HWND hDlg, ULONG uMsg, MPARAM mp1, MPARAM mp2 )
+MRESULT APIENTRY wpConfigDlg(HWND hDlg, ULONG uMsg, MPARAM mp1, MPARAM mp2 )
 {
     unsigned int i, nIDIValue;
     int nCtlType, nRadioCnt, nIntDataValue, nIntNewValue;
diff -urwN 4os2-o/c/os2cmds.c 4os2/c/os2cmds.c
--- 4os2-o/c/os2cmds.c	2023-01-18 02:41:34.770102309 +0300
+++ 4os2/c/os2cmds.c	2023-04-01 14:28:51.799753196 +0300
@@ -89,34 +89,11 @@
 }
 
 
-// clear the screen (using ANSI), with optional color set
-int cls_cmd( int argc, char **argv )
-{
-    int rval = 0;
-    VIOOVERSCAN overscan;
-
-    if ( argc > 1 ) {
-
-        if ( ( rval = color_cmd( argc, argv )) != 0 )
-            return rval;
-
-    } else if ( gpIniptr->StdColor != 0 ) {
-
-        set_colors( gpIniptr->StdColor & 0xFF );
-
-        // check for default border (high byte)
-        if ( ( overscan.color = ( gpIniptr->StdColor >> 8 )) != 0xFF ) {
-            overscan.cb = sizeof( overscan );
-            overscan.type = 1;
-            (void)VioSetState( &overscan, 0 );
-        }
-    }
-
     // 4OS2 forces ANSI compatibility, so we _know_ this will work!
-    printf( "\033[2J" );
+    //printf( "\033[2J" );
 
-    return rval;
-}
+    //return rval;
+//}
 
 
 // return or set the data path in the environment
@@ -1004,30 +981,6 @@
 }
 
 
-// print 4OS2 version number
-int ver_cmd( int argc, char **argv )
-{
-    extern int ExternalCommands( char *, char * );
-
-    if ( ( argc = switch_arg( argv[1], "R" )) < 0 )
-        return( usage( VER_USAGE ));
-
-    printf( "\n4OS2  %u.%02u%s     OS/2 Version is %s\n", VER_MAJOR, VER_MINOR, VER_REVISION, gszOsVersion );
-
-    if ( argc == 1 ) {
-#ifdef __DEBUG__
-        printf( OS2_REVISION, VER_MAJOR, VER_MINOR, VER_REVISION, VER_BUILD, "DEBUG " );
-#else
-        printf( OS2_REVISION, VER_MAJOR, VER_MINOR, VER_REVISION, VER_BUILD, "" );
-#endif
-        printf( COPYRIGHT );
-        printf( COPYRIGHT2 );
-    }
-
-    return 0;
-}
-
-
 // change the window state (minimized, maximized, or normalized)
 int window_cmd( int argc, char **argv )
 {
diff -urwN 4os2-o/c/os2init.c 4os2/c/os2init.c
--- 4os2-o/c/os2init.c	2023-01-18 02:41:34.922105523 +0300
+++ 4os2/c/os2init.c	2023-04-01 14:28:51.799753196 +0300
@@ -548,12 +548,10 @@
             rc = DosLoadModule( szOs2CmdLine, sizeof( szOs2CmdLine ), szHelperDllName, &hmod );
         }
         if ( rc == 0 ) {
-            DosQueryProcAddr( hmod, 1, NULL, (PFN *)&pfnDQELP );
-            DosQueryProcAddr( hmod, 2, NULL, (PFN *)&pfnDSELP );
             DosQueryProcAddr( hmod, 3, NULL, (PFN *)&pfnSendKeys );
             DosQueryProcAddr( hmod, 4, NULL, (PFN *)&pfnQuitSendKeys );
-        } else
-            qprintf( STDERR, NO_DLL );
+        }// else
+        //    qprintf( STDERR, NO_DLL );
     }
 
     // get WinSetTitleAndIcon, WinQuerySwitchEntry, WinQuerySwitchHandle,
@@ -764,7 +762,5 @@
 // display copyright message
 void DisplayCopyright( void )
 {
-    printf( OS2_VERSION, PROGRAM, gszOsVersion );
-    printf( COPYRIGHT );
-    crlf();
+  cmd_ShowSystemMessage(1047,1L,"%s",""); // @fix use not direct message number
 }
diff -urwN 4os2-o/c/parser.c 4os2/c/parser.c
--- 4os2-o/c/parser.c	2023-01-18 02:41:34.922105523 +0300
+++ 4os2/c/parser.c	2023-04-01 14:28:51.799753196 +0300
@@ -1392,6 +1392,10 @@
     char *ptr;
     PCH feptr;
 
+        UCHAR   pBuf[81] = "";
+        ULONG   cbMsgL;
+        APIRET  ulrc;
+
     // odd kludge for UNC names
     if ( ( gnCurrentDisk = _getdrive()) < 0 )
         gnCurrentDisk = 0;
@@ -1464,7 +1468,11 @@
                         // set attribute (inverse white on mono screen,
                         //   white on blue for color screen)
                         i = ( vioMode.fbType == 0 ) ? 0x70 : 0x1F;
-                        (void)VioWrtCharStrAtt( OS2_PROMPT, strlen( OS2_PROMPT ), 0, 0, (PBYTE)&i, 0 );
+
+                        ulrc = DosGetMessage(NULL, 0, pBuf, sizeof(pBuf), 1492, "OSO001.MSG", &cbMsgL);
+                        if (ulrc != NO_ERROR)
+                        printf(all_GetSystemErrorMessage(ulrc));
+                        (void)VioWrtCharStrAtt( pBuf, strlen( pBuf ), 0, 0, (PBYTE)&i, 0 );
 
                         // kludge if we're on line 0
                         GetCurPos( &i, &n );
diff -urwN 4os2-o/c/replaced/attrib.c 4os2/c/replaced/attrib.c
--- 4os2-o/c/replaced/attrib.c	1970-01-01 03:00:00.000000000 +0300
+++ 4os2/c/replaced/attrib.c	2023-04-01 14:28:51.799753196 +0300
@@ -0,0 +1,284 @@
+/* Replaced by osFree team implementation
+
+#define ATTRIB_BY_ATTRIBUTES 1
+#define ATTRIB_DIRS 2
+#define ATTRIB_NOERRORS 4
+#define ATTRIB_PAUSE 8
+#define ATTRIB_QUIET 0x10
+#define ATTRIB_SUBDIRS 0x20
+
+typedef struct {
+    char szSource[MAXFILENAME];
+    char szTarget[MAXFILENAME];
+    char *szFilename;
+    long fFlags;
+    int nMode;
+    char cAnd;
+    char cOr;
+} ATTRIB_STRUCT;
+
+static int _attrib( ATTRIB_STRUCT * );
+
+// change file attributes (HIDDEN, SYSTEM, READ-ONLY, and ARCHIVE)
+int attrib_cmd( int argc, char **argv )
+{
+    char *arg;
+    char *ptr;
+    int n, rval = 0;
+    union {
+        // file attribute structure
+        unsigned char attribute;
+        struct {
+            unsigned rdonly : 1;
+            unsigned hidden : 1;
+            unsigned system : 1;
+            unsigned reserved : 2;
+            unsigned archive : 1;
+        } bit;
+    } and_mask, or_mask;
+    ATTRIB_STRUCT Attrib;
+
+    Attrib.nMode = FIND_CREATE;
+
+    init_page_size();               // clear row & page length vars
+
+    // get date/time/size ranges
+    if ( GetRange( argv[1], &aRanges, 0 ) != 0 )
+        return ERROR_EXIT;
+
+    // check for flags
+    if ( GetSwitches( argv[1], "*DEPQS", &(Attrib.fFlags), 0 ) != 0 )
+        return(usage( ATTRIB_USAGE ));
+
+    if ( Attrib.fFlags & ATTRIB_PAUSE ) {
+        gnPageLength = GetScrRows();
+    }
+
+    Attrib.nMode |= (( Attrib.fFlags & ATTRIB_DIRS ) ? 0x17 : 0x07 );
+
+    // suppress error message from find_file
+    if ( Attrib.fFlags & ATTRIB_NOERRORS )
+        Attrib.nMode |= FIND_NOERRORS;  // 0x100
+
+    and_mask.attribute = 0x37;
+    or_mask.attribute = 0;
+
+    argc = 0;
+    strcpy( Attrib.szSource, WILD_FILE );   // default to *.*
+
+    do {
+
+        if ( ( arg = ntharg( argv[1], argc++ )) != NULL ) {
+
+            if ( *arg == '-' ) {
+
+                // remove attribute (clear OR and AND bits)
+                while ( *(++arg ) ) {
+
+                    switch ( _ctoupper( *arg ) ) {
+                        case 'A':
+                            or_mask.bit.archive = and_mask.bit.archive = 0;
+                            break;
+                        case 'H':
+                            or_mask.bit.hidden = and_mask.bit.hidden = 0;
+                            break;
+                        case 'R':
+                            or_mask.bit.rdonly = and_mask.bit.rdonly = 0;
+                            break;
+                        case 'S':
+                            or_mask.bit.system = and_mask.bit.system = 0;
+                            break;
+                        case '-':
+                            // kludge for RTPatch bug
+                            break;
+                        case '_':
+                            // ignore for ___A_ syntax
+                            break;
+                        default:
+                            error( ERROR_INVALID_PARAMETER, arg );
+                            return(usage( ATTRIB_USAGE ));
+                    }
+                }
+
+            } else if ( *arg == '+' ) {
+
+                // add attribute (set OR bits)
+                while ( *(++arg ) ) {
+
+                    switch ( _ctoupper( *arg ) ) {
+                        case 'A':
+                            or_mask.bit.archive = 1;
+                            break;
+                        case 'H':
+                            or_mask.bit.hidden = 1;
+                            break;
+                        case 'R':
+                            or_mask.bit.rdonly = 1;
+                            break;
+                        case 'S':
+                            or_mask.bit.system = 1;
+                            break;
+                        case '+':
+                            // kludge for RTPatch bug
+                            break;
+                        case '_':
+                            // ignore for ___A_ syntax
+                            break;
+                        default:
+                            error( ERROR_INVALID_PARAMETER, arg );
+                            return( usage( ATTRIB_USAGE ));
+                    }
+                }
+
+            } else {
+
+                // it must be a filename
+                copy_filename( Attrib.szSource, arg );
+
+                // check for trailing switches
+                // KLUDGE for COMMAND.COM compatibility (ATTRIB *.c +h)
+                for ( n = argc; (( ptr = ntharg( argv[1], n )) != NULL ); n++ ) {
+                    // check for another file spec
+                    if ( ( *ptr != '-' ) && ( *ptr != '+' ) )
+                        goto change_atts;
+                }
+            }
+
+        } else {
+
+            change_atts:
+            if ( mkfname( Attrib.szSource, 0 ) == NULL )
+                return ERROR_EXIT;
+
+            // if source is a directory & no /D specified, add "\*"
+            if ( Attrib.fFlags & ATTRIB_DIRS )
+                strip_trailing( Attrib.szSource, "\\/" );
+            else if ( is_dir( Attrib.szSource ) )
+                mkdirname( Attrib.szSource, WILD_FILE );
+
+            // save the source filename part (for recursive calls and
+            //   include lists)
+            Attrib.szFilename = Attrib.szSource + strlen( path_part( Attrib.szSource));
+            ptr = _alloca( strlen( Attrib.szFilename ) + 1 );
+            Attrib.szFilename = strcpy( ptr, Attrib.szFilename );
+
+            // change attributes
+            Attrib.cAnd = and_mask.attribute;
+            Attrib.cOr = or_mask.attribute;
+
+            rval = _attrib( &Attrib );
+            if ( ( setjmp( cv.env ) == -1 ) || ( rval == CTRLC ) )
+                break;
+            EnableSignals();
+        }
+
+    } while ( ( rval != CTRLC ) && ( arg != NULL ) );
+
+    // disable signal handling momentarily
+    HoldSignals();
+
+    return rval;
+}
+
+
+static int _attrib( ATTRIB_STRUCT *Attrib )
+{
+    unsigned int old_attrib;
+    int fval, rval = 0, rc;
+    char *source_name;
+    FILESEARCH dir;
+
+    EnableSignals();
+
+    // copy date/time range info
+    memmove( &(dir.aRanges), &aRanges, sizeof(RANGES) );
+
+    // change attributes
+    for ( fval = FIND_FIRST; ( find_file( fval, Attrib->szSource, ( Attrib->nMode | FIND_BYATTS | FIND_DATERANGE | FIND_NO_DOTNAMES ), &dir, Attrib->szTarget ) != NULL ); fval = FIND_NEXT ) {
+
+        if ( ( setjmp( cv.env ) == -1 ) || ( cv.exception_flag ) ) {
+            (void)DosFindClose( dir.hdir );
+            return CTRLC;
+        }
+
+        // display old attributes, new attributes, and filename
+        old_attrib = ( dir.attrib & 0x37 );
+        dir.attrib = (unsigned char)(( old_attrib & Attrib->cAnd ) | Attrib->cOr );
+
+        // if attributes were changed, show new ones
+        if ( ( Attrib->fFlags & ATTRIB_QUIET ) == 0 ) {
+
+            qputs( show_atts( old_attrib ));
+
+            if ( ( Attrib->cAnd != 0x37 ) || ( Attrib->cOr != 0 ) )
+                printf( " -> %s", show_atts( dir.attrib ));
+
+            printf("  %s", Attrib->szTarget );
+            crlf();
+            _page_break();
+        }
+
+        // check for a change; ignore if same
+        //   (can't change directory attribute)
+        if ( ( old_attrib != (unsigned int)dir.attrib ) && (( rc = SetFileMode( Attrib->szTarget, (dir.attrib & 0x27))) != 0 ) )
+            rval = error( rc, Attrib->szTarget );
+    }
+
+    // modify matching subdirectory files too?
+    if ( Attrib->fFlags & ATTRIB_SUBDIRS ) {
+
+        // strip the filename & add wildcards for directory search
+        sprintf( Attrib->szSource, FMT_DOUBLE_STR, path_part( Attrib->szSource ), WILD_FILE );
+
+        // save the current subdirectory start
+        source_name = strchr( Attrib->szSource, '*' );
+
+        // search for all subdirectories in this (sub)directory
+        //   tell find_file() not to display errors, & to only
+        //   return subdir names
+#define M (FIND_NOERRORS | FIND_DIRONLY | FILE_DIRECTORY)
+        for ( fval = FIND_FIRST; ( find_file( fval, Attrib->szSource, ( Attrib->nMode | M ),&dir,NULL ) != NULL ); fval = FIND_NEXT ) {
+#undef M
+
+            // make the new "source"
+            sprintf( source_name, FMT_PATH_STR, dir.name, Attrib->szFilename );
+
+            // process directory tree recursively
+            rval = _attrib( Attrib );
+            if ( ( setjmp( cv.env ) == -1 ) || ( rval == CTRLC ) ) {
+                // reset the directory search handle
+                (void)DosFindClose( dir.hdir );
+                return CTRLC;
+            }
+
+            // restore the original name
+            strcpy( source_name, WILD_FILE );
+        }
+    }
+
+    // disable signal handling momentarily
+    HoldSignals();
+
+    return rval;
+}
+
+
+char *show_atts( int attribute )
+{
+    static char atts[6];
+
+    strcpy( atts, "_____" );
+    if ( attribute & _A_RDONLY )
+        atts[0] = 'R';
+    if ( attribute & _A_HIDDEN )
+        atts[1] = 'H';
+    if ( attribute & _A_SYSTEM )
+        atts[2] = 'S';
+    if ( attribute & _A_ARCH )
+        atts[3] = 'A';
+    if ( attribute & _A_SUBDIR )
+        atts[4] = 'D';
+
+    return atts;
+}
+*/
diff -urwN 4os2-o/c/replaced/cls.c 4os2/c/replaced/cls.c
--- 4os2-o/c/replaced/cls.c	1970-01-01 03:00:00.000000000 +0300
+++ 4os2/c/replaced/cls.c	2023-04-01 14:28:51.799753196 +0300
@@ -0,0 +1,31 @@
+/* Replaced by osFree team implementation
+
+// clear the screen (using ANSI), with optional color set
+int cls_cmd( int argc, char **argv )
+{
+    int rval = 0;
+    VIOOVERSCAN overscan;
+
+    if ( argc > 1 ) {
+
+        if ( ( rval = color_cmd( argc, argv )) != 0 )
+            return rval;
+
+    } else if ( gpIniptr->StdColor != 0 ) {
+
+        set_colors( gpIniptr->StdColor & 0xFF );
+
+        // check for default border (high byte)
+        if ( ( overscan.color = ( gpIniptr->StdColor >> 8 )) != 0xFF ) {
+            overscan.cb = sizeof( overscan );
+            overscan.type = 1;
+            (void)VioSetState( &overscan, 0 );
+        }
+    }
+
+    // 4OS2 forces ANSI compatibility, so we _know_ this will work!
+    printf( "\033[2J" );
+
+    return rval;
+}
+*/
diff -urwN 4os2-o/c/replaced/mkdir.c 4os2/c/replaced/mkdir.c
--- 4os2-o/c/replaced/mkdir.c	1970-01-01 03:00:00.000000000 +0300
+++ 4os2/c/replaced/mkdir.c	2023-04-01 14:28:51.799753196 +0300
@@ -0,0 +1,53 @@
+/* Replaced by osFree team implementation
+
+// create directory
+int md_cmd( int argc, char **argv )
+{
+    int rval = 0;
+    char *ptr;
+    unsigned int fUpdateFuzzy;
+    long fMD;
+    char *dirname;
+
+    // check for and remove switches; abort if no directory name arguments
+    if (( GetSwitches( argv[1], "SN", &fMD, 0 ) != 0 ) || ( first_arg( argv[1]) == NULL ))
+        return ( usage( MD_USAGE ));
+    fUpdateFuzzy = (( fMD & 2 ) == 0 );
+
+    for ( argc = 0; (( dirname = ntharg( argv[1], argc )) != NULL ); argc++) {
+
+        mkfname( dirname, 0 );
+
+        // remove trailing '/' or '\'
+        strip_trailing( dirname+3, SLASHES );
+
+        // create directory tree if /S specified
+        if ( fMD & 1 ) {
+
+            // skip UNC name
+            if ( dirname[0] == '\\' ) {
+            for ( ptr = dirname + 2; (( *ptr != '\0' ) && ( *ptr++ != '\\' )); )
+                ;
+            } else
+            ptr = dirname + 3;
+
+            for ( _doserrno = 0; ( *ptr != '\0' ); ptr++ ) {
+
+            if (( *ptr == '\\' ) || ( *ptr == '/' )) {
+                *ptr = '\0';
+                if (( MakeDirectory( dirname, fUpdateFuzzy ) == -1 ) && ( _doserrno != ERROR_ACCESS_DENIED ))
+                break;
+                *ptr = '\\';
+            }
+            }
+        }
+
+        if ( MakeDirectory( dirname, fUpdateFuzzy ) == -1 )
+            rval = error( _doserrno, dirname );
+    }
+
+    return rval;
+}
+
+
+*/
diff -urwN 4os2-o/c/replaced/tree.c 4os2/c/replaced/tree.c
--- 4os2-o/c/replaced/tree.c	1970-01-01 03:00:00.000000000 +0300
+++ 4os2/c/replaced/tree.c	2023-04-01 14:28:51.799753196 +0300
@@ -0,0 +1,193 @@
+/* Replaced by osFree team implementation
+
+static long fTree;
+
+#define TREE_ASCII      0x01
+#define TREE_BARE       0x02
+#define TREE_CDD        0x04
+#define TREE_FILES      0x08
+#define TREE_HIDDEN     0x10
+#define TREE_PAGE       0x20
+#define TREE_SIZE       0x40
+#define TREE_TIME       0x80
+
+// display a directory list or tree
+int tree_cmd( int argc, char **argv )
+{
+    char *arg;
+    char szFilename[MAXFILENAME], szSequelBuffer[MAXPATH];
+    int rval = 0, fTime;
+
+    szSequelBuffer[0] = '\0';
+    init_dir();
+
+    argv++;
+    fTime = GetMultiCharSwitch( *argv, "T", szFilename, 4 );
+
+    // check for and remove switches
+    if ( GetSwitches( *argv, "ABCFHPS", &fTree, 0 ) != 0 )
+        return( usage( TREE_USAGE ));
+
+    if ( fTime ) {
+
+        fTree |= TREE_TIME;
+        arg = szFilename;
+        if ( *arg ) {
+            if ( *arg == ':' )
+                arg++;
+            if ( _ctoupper( *arg ) == 'A' )
+                gnDirTimeField = 1;
+            else if ( _ctoupper( *arg ) == 'C' )
+                gnDirTimeField = 2;
+        }
+    }
+
+    // if no filename arguments, use current directory
+    if ( first_arg( *argv ) == NULL ) {
+        *argv = gcdir( NULL, 0 );
+        AddQuotes( *argv );
+    }
+
+    if ( fTree & TREE_PAGE ) {
+        gnPageLength = GetScrRows();
+    }
+
+    arg = _alloca( strlen( *argv ) + 1 );
+    *argv = strcpy( arg, *argv );
+    for ( argc = 0; (( arg = ntharg( *argv, argc )) != NULL ); argc++ ) {
+
+        if ( mkfname( arg, 0 ) == NULL ) {
+            rval = ERROR_EXIT;
+            break;
+        }
+
+        if ( is_dir( arg ) == 0 ) {
+            if ((glDirFlags & DIRFLAGS_NO_ERRORS) == 0)
+                rval = error( ERROR_PATH_NOT_FOUND, arg );
+            continue;
+        }
+
+        // display "c:\wonky..."
+        _nxtrow();
+        printf( FMT_STR, arg );
+        _nxtrow();
+
+        copy_filename( szFilename, arg );
+        mkdirname( szFilename, WILD_FILE );
+        if ( (( rval = DrawTree( szFilename, szSequelBuffer )) != 0 ) || ( cv.exception_flag ) )
+            break;
+    }
+
+    return rval;
+}
+
+
+// display a directory tree
+static int DrawTree( char *pszCurrent, char *pszSequelBuffer )
+{
+    int rval = 0, fOK, nAttrib;
+    unsigned int uMode = FIND_NO_DOTNAMES | FIND_CREATE | FIND_NOERRORS | FILE_DIRECTORY; // 0x9110
+    char *pszName, *pszSave, cAmPm = ' ';
+    FILESEARCH dir;
+
+    if ( fTree & TREE_HIDDEN )
+        uMode |= FILE_READONLY | FILE_HIDDEN | FILE_SYSTEM;     // 0x07
+
+    if ( ( fTree & TREE_FILES ) == 0 )
+        uMode |= FIND_DIRONLY;          // 0x200
+
+    fOK = ( find_file( FIND_FIRST, pszCurrent, uMode, &dir, NULL ) != NULL );
+
+    while ( fOK ) {
+
+        pszName = strdup( dir.name );
+        nAttrib = dir.attrib;
+
+        if ( fTree & TREE_SIZE ) {
+            printf( (( nAttrib & _A_SUBDIR ) ? DIR_LABEL : "%9lld" ), dir.size );
+            printf("  ");
+        }
+
+        if ( fTree & TREE_TIME ) {
+
+            int month, day, year, minutes, hours;
+            if ( gnDirTimeField == 0 ) {
+                day = dir.fdLW.fdateLastWrite.day;
+                month = dir.fdLW.fdateLastWrite.month;
+                year = dir.fdLW.fdateLastWrite.year;
+                hours = dir.ftLW.ftimeLastWrite.hours;
+                minutes = dir.ftLW.ftimeLastWrite.minutes;
+            } else if ( gnDirTimeField == 1 ) {
+                day = dir.fdLA.fdateLastAccess.day;
+                month = dir.fdLA.fdateLastAccess.month;
+                year = dir.fdLA.fdateLastAccess.year;
+                hours = dir.ftLA.ftimeLastAccess.hours;
+                minutes = dir.ftLA.ftimeLastAccess.minutes;
+            } else {
+                day = dir.fdC.fdateCreation.day;
+                month = dir.fdC.fdateCreation.month;
+                year = dir.fdC.fdateCreation.year;
+                hours = dir.ftC.ftimeCreation.hours;
+                minutes = dir.ftC.ftimeCreation.minutes;
+            }
+
+            printf( "%s ", FormatDate( month, day, year + 1980, 0 ));
+
+            if ( gaCountryInfo.fsTimeFmt == 0 ) {
+                if ( hours >= 12 ) {
+                    hours -= 12;
+                    cAmPm = 'p';
+                } else
+                    cAmPm = 'a';
+            }
+
+            printf( "%2u%c%02u%c  ", hours,
+                    gaCountryInfo.szTimeSeparator[0], minutes, cAmPm );
+        }
+
+        // last directory on its level?
+        fOK = ( find_file( FIND_NEXT, pszCurrent, uMode, &dir, NULL ) != NULL );
+
+        if ( ( fTree & TREE_BARE ) || ( fTree & TREE_CDD ) ) {
+
+            char *arg, *pszPath;
+
+            pszPath = path_part( pszCurrent );
+            arg = strend( pszPath );
+            strcpy( arg, pszName );
+            printf( FMT_STR, pszPath );
+
+        } else if ( fTree & TREE_ASCII )
+            printf( "%s%c--%s", pszSequelBuffer, (( fOK == 0 ) ? '\\' : '+' ), pszName );
+        else
+            printf( "%s%c%s", pszSequelBuffer, (( fOK == 0 ) ? '' : '' ), pszName );
+        _nxtrow();
+
+        if ( nAttrib & _A_SUBDIR ) {
+
+            strcat( pszSequelBuffer, (( fOK == 0 ) ? "   " : (( fTree & TREE_ASCII ) ? "|  " : "  " ) ));
+
+            pszSave = strdup( pszCurrent );
+            insert_path( pszCurrent, pszName, pszCurrent );
+            mkdirname( pszCurrent, WILD_FILE );
+            free( pszName );
+
+            rval = DrawTree( pszCurrent, pszSequelBuffer );
+
+            // check for ^C and reset ^C trapping
+            if ( ( rval == CTRLC ) || ( cv.exception_flag ) )
+                break;
+            strcpy( pszCurrent, pszSave );
+            free( pszSave );
+
+            // Truncate sequel buffer to its previous value
+            pszSequelBuffer[ strlen( pszSequelBuffer ) - 3 ] = '\0';
+        } else
+            free( pszName );
+    }
+
+    return rval;
+}
+
+
+*/
diff -urwN 4os2-o/c/replaced/ver.c 4os2/c/replaced/ver.c
--- 4os2-o/c/replaced/ver.c	1970-01-01 03:00:00.000000000 +0300
+++ 4os2/c/replaced/ver.c	2023-04-01 14:28:51.799753196 +0300
@@ -0,0 +1,26 @@
+/* Replaced by osFree team implementation
+
+// print 4OS2 version number
+int ver_cmd( int argc, char **argv )
+{
+    extern int ExternalCommands( char *, char * );
+
+    if ( ( argc = switch_arg( argv[1], "R" )) < 0 )
+        return( usage( VER_USAGE ));
+
+    printf( "\n4OS2  %u.%02u%s     OS/2 Version is %s\n", VER_MAJOR, VER_MINOR, VER_REVISION, gszOsVersion );
+
+    if ( argc == 1 ) {
+#ifdef __DEBUG__
+        printf( OS2_REVISION, VER_MAJOR, VER_MINOR, VER_REVISION, VER_BUILD, "DEBUG " );
+#else
+        printf( OS2_REVISION, VER_MAJOR, VER_MINOR, VER_REVISION, VER_BUILD, "" );
+#endif
+        printf( COPYRIGHT );
+        printf( COPYRIGHT2 );
+    }
+
+    return 0;
+}
+
+*/
diff -urwN 4os2-o/c/replaced/vol.c 4os2/c/replaced/vol.c
--- 4os2-o/c/replaced/vol.c	1970-01-01 03:00:00.000000000 +0300
+++ 4os2/c/replaced/vol.c	2023-04-01 14:28:51.799753196 +0300
@@ -0,0 +1,27 @@
+/* Replaced by osFree team implementation
+
+// return the current volume name(s)
+int volume_cmd( int argc, char **argv )
+{
+    int rval = 0;
+
+    // if no arguments, return the label for the default disk
+    if ( argc == 1 ) {
+        argv[1] = gcdir( NULL, 0 );
+        argv[2] = NULL;
+    }
+
+    while (*(++argv ) != NULL ) {
+
+        if ( getlabel( *argv ) != 0 )
+            rval = ERROR_EXIT;
+        else
+            crlf();
+    }
+
+    return rval;
+}
+
+
+
+*/
diff -urwN 4os2-o/c/select.c 4os2/c/select.c
--- 4os2-o/c/select.c	2023-01-18 02:41:34.922105523 +0300
+++ 4os2/c/select.c	2023-04-01 14:28:51.799753196 +0300
@@ -164,7 +164,7 @@
     for ( *szCmdline = '\0', n = 0, i = 1; ((rval != CTRLC) && (i <= sel->marked)); ) {
 
         if ( setjmp( cv.env ) == -1 ) {
-            (void)cls_cmd( 1, NULL );
+            (void)clear_screen();
             rval = CTRLC;
             break;
         }
diff -urwN 4os2-o/c/selectc.c 4os2/c/selectc.c
--- 4os2-o/c/selectc.c	2023-01-18 02:41:34.926105608 +0300
+++ 4os2/c/selectc.c	2023-04-01 14:28:51.803753279 +0300
@@ -52,7 +52,7 @@
 
         if ( setjmp( cv.env ) == -1 ) {
         dir_free( sel.sfiles );
-        (void)cls_cmd( 1, NULL );
+        (void)clear_screen();
         rval = CTRLC;
         goto select_bye;
         }
@@ -87,7 +87,7 @@
         if ( sel.entries > 0 ) {
 
         // clear the screen
-        (void)cls_cmd( 1, NULL );
+        (void)clear_screen();
 
         // get default normal and inverse attributes
         if ( gpIniptr->SelectColor != 0 )
@@ -109,7 +109,7 @@
         // get the selection list
         if ( getmark( &sel ) == -1 )
             sel.marked = 0;
-        (void)cls_cmd( 1, NULL );
+        (void)clear_screen();
 
         if ( sel.length >= MAXLINESIZ) {
             rval = error( ERROR_4DOS_COMMAND_TOO_LONG, NULL );
diff -urwN 4os2-o/c/shralias.c 4os2/c/shralias.c
--- 4os2-o/c/shralias.c	2023-01-18 02:41:34.934105777 +0300
+++ 4os2/c/shralias.c	2023-04-01 14:28:51.803753279 +0300
@@ -10,7 +10,7 @@
    It should only be run from 4OS2 or Take Command.
 */
 
-#define INCL_BASE 1
+#define INCL_BASE
 #include <os2.h>
 
 #include "shralias.h"
diff -urwN 4os2-o/c/syscmds.c 4os2/c/syscmds.c
--- 4os2-o/c/syscmds.c	2023-01-18 02:41:34.934105777 +0300
+++ 4os2/c/syscmds.c	2023-04-01 14:28:51.803753279 +0300
@@ -717,56 +717,6 @@
 }
 
 
-// create directory
-int md_cmd( int argc, char **argv )
-{
-    int rval = 0;
-    char *ptr;
-    unsigned int fUpdateFuzzy;
-    long fMD;
-    char *dirname;
-
-    // check for and remove switches; abort if no directory name arguments
-    if (( GetSwitches( argv[1], "SN", &fMD, 0 ) != 0 ) || ( first_arg( argv[1]) == NULL ))
-        return ( usage( MD_USAGE ));
-    fUpdateFuzzy = (( fMD & 2 ) == 0 );
-
-    for ( argc = 0; (( dirname = ntharg( argv[1], argc )) != NULL ); argc++) {
-
-        mkfname( dirname, 0 );
-
-        // remove trailing '/' or '\'
-        strip_trailing( dirname+3, SLASHES );
-
-        // create directory tree if /S specified
-        if ( fMD & 1 ) {
-
-            // skip UNC name
-            if ( dirname[0] == '\\' ) {
-            for ( ptr = dirname + 2; (( *ptr != '\0' ) && ( *ptr++ != '\\' )); )
-                ;
-            } else
-            ptr = dirname + 3;
-
-            for ( _doserrno = 0; ( *ptr != '\0' ); ptr++ ) {
-
-            if (( *ptr == '\\' ) || ( *ptr == '/' )) {
-                *ptr = '\0';
-                if (( MakeDirectory( dirname, fUpdateFuzzy ) == -1 ) && ( _doserrno != ERROR_ACCESS_DENIED ))
-                break;
-                *ptr = '\\';
-            }
-            }
-        }
-
-        if ( MakeDirectory( dirname, fUpdateFuzzy ) == -1 )
-            rval = error( _doserrno, dirname );
-    }
-
-    return rval;
-}
-
-
 // save the current directory & change to new one
 int pushd_cmd( int argc, char **argv )
 {
@@ -964,53 +914,6 @@
 }
 
 
-// return the current volume name(s)
-int volume_cmd( int argc, char **argv )
-{
-    int rval = 0;
-
-    // if no arguments, return the label for the default disk
-    if ( argc == 1 ) {
-        argv[1] = gcdir( NULL, 0 );
-        argv[2] = NULL;
-    }
-
-    while (*(++argv ) != NULL ) {
-
-        if ( getlabel( *argv ) != 0 )
-            rval = ERROR_EXIT;
-        else
-            crlf();
-    }
-
-    return rval;
-}
-
-
-// read a disk label
-int getlabel( char *arg )
-{
-    char volume_name[MAXFILENAME];
-    unsigned long serial_number = 0L;
-
-    // first check for a valid drive name
-    if ( arg[1] != ':' )
-        return ( error( ERROR_INVALID_DRIVE, arg ));
-
-    // read the label
-    if ( QueryVolumeInfo( arg, volume_name, &serial_number ) == NULL )
-        return ERROR_EXIT;
-
-    printf( VOLUME_LABEL, _ctoupper( *arg ), volume_name );
-
-    // display the disk serial number
-    if ( serial_number )
-        printf( VOLUME_SERIAL, ( serial_number >> 16 ), ( serial_number & 0xFFFF ));
-
-    return 0;
-}
-
-
 // return or set the path in the environment
 int path_cmd( int argc, char **argv )
 {
diff -urwN 4os2-o/external.ipf 4os2/external.ipf
--- 4os2-o/external.ipf	1970-01-01 03:00:00.000000000 +0300
+++ 4os2/external.ipf	2023-04-01 14:28:51.803753279 +0300
@@ -0,0 +1,101 @@
+.nameit symbol=date     text='2 Sep'
+.nameit symbol=4verprev text='3.03'
+.nameit symbol=4ver     text='3.04'
+.nameit symbol=4verrev  text='3.04B'
+.nameit symbol=4OS2     text='CMD.EXE'
+.nameit symbol=4OS2INI  text='CMD.INI'
+
+:userdoc.
+
+:h1 name=External.External Commands
+
+:p.
+
+To Do...
+
+:p.The lists below categorize the available
+commands by topic and will help you find the ones that you need.
+:p.
+System configuration&colon.
+:lm margin=4.:table rules=none frame=box cols='12 12 12 12'.
+:row.
+:c.:link reftype=hd refid=ANSI.ANSI:elink.
+:c.:link reftype=hd refid=LABEL.LABEL:elink.
+:c.:link reftype=hd refid=LVM.LVM:elink.
+:c.:link reftype=hd refid=MAKEINI.MAKEINI:elink.
+:etable.
+:p.
+File and directory management&colon.
+:lm margin=4.:table rules=none frame=box cols='12 12 12 12'.
+:row.
+:c.:link reftype=hd refid=BLDLEVEL.BLDLEVEL:elink.
+:c.:link reftype=hd refid=BACKUP.BACKUP:elink.
+:c.:link reftype=hd refid=RESTORE.RESTORE:elink.
+:c.:link reftype=hd refid=UNDELETE.UNDELETE:elink.
+:etable.
+:p.
+
+:ul.
+:li.CHKDSK
+:li.COMP
+:li.DISKCOMP
+:li.DISKCOPY
+:li.DTRACE
+:li.EAUTIL
+:li.FDISK
+:li.FIND
+:li.FORMAT
+:li.FSACCESS
+:li.HELPMSG
+:li.KEYB
+:li.MKMSGF
+:li.MODE
+:li.MORE
+:li.PATCH
+:li.PDUMPSYS
+:li.PDUMPUSR
+:li.PRINT
+:li.PROCDUMP
+:li.PSTAT
+:li.RECOVER
+:li.REPLACE
+:li.SORT
+:li.SPOOL
+:li.STRACE
+:li.SYSLEVEL
+:li.TRACE
+:li.TRAPDUMP
+:li.TRSPOOL
+:li.XCOPY
+:li.VMDISK
+:eul.
+
+:h2 name=VER.VER - Display the &4OS2. and OS/2 version
+:parml compact tsize=12 break=fit.
+:pt.:hp3.Purpose&colon.:ehp3.:pd.Display the current command processor and operating
+system versions.
+.br
+:pt.:hp3.Format&colon.:ehp3.:pd.:hp2.VER [/R]:ehp2.
+:eparml.:lm margin=13.:parml compact tsize=32 break=none.
+:pt.:hp2./R:ehp2.(evision level):pd.
+:eparml.:lm margin=1.
+.br
+:hp2.Usage:ehp2.
+:p.
+Version numbers consist of a one-digit major version number, a
+period, and a one- or two-digit minor version number.  Ver uses the default
+decimal separator defined by the current country information.  The VER
+command displays both version numbers&colon.
+:xmp.
+        [c&colon.\] ver
+
+        &4OS2. &4verrev.   OS/2 Version is 4.50
+:exmp.:p.
+:hp2.Options:ehp2.
+:lm margin=4.:parml tsize=8 break=fit.
+:pt.:hp2./R:ehp2.&colon.:pd.(Revision level) Display the &4OS2. and OS/2
+internal revision levels (if any), plus your &4OS2. serial number and
+registered name.
+:eparml.:lm margin=1.
+
+:euserdoc.
diff -urwN 4os2-o/.git/config 4os2/.git/config
Binary files 4os2-o/.git/index and 4os2/.git/index differ
diff -urwN 4os2-o/.git/logs/HEAD 4os2/.git/logs/HEAD
diff -urwN 4os2-o/.git/logs/refs/heads/main 4os2/.git/logs/refs/heads/main
diff -urwN 4os2-o/.git/logs/refs/remotes/origin/HEAD 4os2/.git/logs/refs/remotes/origin/HEAD
Binary files 4os2-o/.git/objects/pack/pack-40fcaba946b7e9acaee75f0120f8e9ab5376c41b.idx and 4os2/.git/objects/pack/pack-40fcaba946b7e9acaee75f0120f8e9ab5376c41b.idx differ
Binary files 4os2-o/.git/objects/pack/pack-40fcaba946b7e9acaee75f0120f8e9ab5376c41b.pack and 4os2/.git/objects/pack/pack-40fcaba946b7e9acaee75f0120f8e9ab5376c41b.pack differ
Binary files 4os2-o/.git/objects/pack/pack-e34765a09f8d5880de111db373dc2c52c2e69b0e.idx and 4os2/.git/objects/pack/pack-e34765a09f8d5880de111db373dc2c52c2e69b0e.idx differ
Binary files 4os2-o/.git/objects/pack/pack-e34765a09f8d5880de111db373dc2c52c2e69b0e.pack and 4os2/.git/objects/pack/pack-e34765a09f8d5880de111db373dc2c52c2e69b0e.pack differ
diff -urwN 4os2-o/.git/packed-refs 4os2/.git/packed-refs
diff -urwN 4os2-o/.git/refs/heads/main 4os2/.git/refs/heads/main
diff -urwN 4os2-o/gitlog.txt 4os2/gitlog.txt
diff -urwN 4os2-o/h/4all.h 4os2/h/4all.h
--- 4os2-o/h/4all.h	2023-01-18 02:41:34.938105862 +0300
+++ 4os2/h/4all.h	2023-04-01 19:36:41.166229991 +0300
@@ -164,7 +164,7 @@
             unsigned years : 7;
         } file_date;
     } fd;
-    LONGLONG file_size;
+    LONG_LONG file_size;
     char file_name[13];
     unsigned char ampm;             // am/pm for filetime
     unsigned short file_mark;       // SELECT file marker
@@ -237,6 +237,7 @@
     char *cmdname;                  // command name
     int (* func)(int, char **);     // pointer to function
     int pflag;                      // command line parse control flag
+    int index;                      // command index in OSO001.MSG file
 } BUILTIN;
 
 
@@ -632,12 +633,41 @@
 
 #include "version.h"
 
-#define INCL_BASE 1
+#define INCL_BASE
+#define INCL_SUB
+#define INCL_DOSMONITORS
+
+#define INCL_DOSDEVICES
+#define INCL_DOSMEMMGR
+#define INCL_DOSMISC
+#define INCL_DOSMODULEMGR
+#define INCL_DOSNMPIPES
+#define INCL_DOSPROCESS
+#define INCL_DOSPROFILE
+#define INCL_DOSRESOURCES
+#define INCL_DOSSEMAPHORES
+
+#define INCL_DOSNLS
+#define INCL_DOSQUEUES
 #define INCL_DOSDEVIOCTL
+#define INCL_DOSDATETIME
 #define INCL_DOSFILEMGR
+#define INCL_DOSEXCEPTIONS
+#define INCL_DOSSESMGR
+
+#define INCL_DEV
+#define INCL_ERRORS
 #define INCL_WIN
-#define INCL_PM 1
+#define INCL_PM
+#define INCL_GPI
+
 #include <os2.h>
+
+//#define INCL_SUB
+//#define INCL_DOSMONITORS
+//#include "sub32.h"
+
+#include <cmd_shared.h>         // Include file for cmd tools
 #include "4os2.h"
 
 #include "globals.h"            // global variables
diff -urwN 4os2-o/h/globals.h 4os2/h/globals.h
--- 4os2-o/h/globals.h	2023-01-18 02:41:34.938105862 +0300
+++ 4os2/h/globals.h	2023-04-01 14:28:51.803753279 +0300
@@ -88,8 +88,6 @@
 PCH _pgmptr;
 
 WSTAI pfnWSTAI = 0L;            // WinSetTitleAndIcon
-DQELP *pfnDQELP = 0L;           // DosQueryExtLibPath
-DSELP *pfnDSELP = 0L;           // DosSetExtLibPath
 SKEYS *pfnSendKeys = 0L;        // SendKeys
 QUITSKEYS *pfnQuitSendKeys = 0L; // QuitSendKeys
     #if _PM == 0
@@ -210,8 +208,6 @@
 extern unsigned long gnChildPipeProcess;
 
 extern WSTAI pfnWSTAI;          // WinSetTitleAndIcon
-extern DQELP *pfnDQELP;         // DosQueryExtLibPath
-extern DSELP *pfnDSELP;         // DosSetExtLibPath
 extern SKEYS *pfnSendKeys;      // SendKeys
 extern QUITSKEYS *pfnQuitSendKeys; // QuitSendKeys
 extern WINIT *pfnWINIT;         // WinInitialize
diff -urwN 4os2-o/h/inifile.h 4os2/h/inifile.h
--- 4os2-o/h/inifile.h	2023-01-18 02:41:34.938105862 +0300
+++ 4os2/h/inifile.h	2023-04-01 14:28:51.803753279 +0300
@@ -468,7 +468,7 @@
     "SelectStatBarColors", INI_COLOR, 0, VNULL, &gaInifile.SelectStatusColor, DLG_DATA(IDI_SelectStatBarColors, INI_CTL_COLOR, 0)
 
     // Everything but TCMD/16
-    "DuplicateBugs", INI_CHOICE, 0, &V_YesNo, &gaInifile.DupBugs, DLG_NULL
+    "DuplicateBugs", INI_CHOICE, 1, &V_YesNo, &gaInifile.DupBugs, DLG_NULL
     "CMDDirMvCpy", INI_CHOICE, 0, &V_YesNo, &gaInifile.CMDDirMvCpy, DLG_NULL
     "LocalAliases", INI_CHOICE, 0, &V_YesNo, &gaInifile.LocalAliases, DLG_DATA(IDI_LocalAliases, INI_CTL_CHECK, 0)
     "LocalDirHistory", INI_CHOICE, 0, &V_YesNo, &gaInifile.LocalDirHistory, DLG_DATA(IDI_LocalDirHistory, INI_CTL_CHECK, 0)
@@ -476,8 +476,8 @@
     "NextINIFile", INI_STR, 0, VNULL, &gaInifile.NextININame, DLG_NULL
     "DateFmt", INI_STR, 0, VNULL, &gaInifile.DateFmt, DLG_NULL
     "TmSmpFmt", INI_STR, 0, VNULL, &gaInifile.TmSmpFmt, DLG_NULL
-    "Year4Digit", INI_CHOICE, 0, &V_YesNo, &gaInifile.Year4Digit, DLG_DATA(IDI_Year4Digit, INI_CTL_CHECK, 0)
-    "Day2Digit", INI_CHOICE, 0, &V_YesNo, &gaInifile.Day2Digit, DLG_DATA(IDI_Day2Digit, INI_CTL_CHECK, 0)
+    //"Year4Digit", INI_CHOICE, 0, &V_YesNo, &gaInifile.Year4Digit, DLG_DATA(IDI_Year4Digit, INI_CTL_CHECK, 0)
+    //"Day2Digit", INI_CHOICE, 0, &V_YesNo, &gaInifile.Day2Digit, DLG_DATA(IDI_Day2Digit, INI_CTL_CHECK, 0)
 
     // Dummy item to hold name of primary INI file, set up here so
     // INIStr will move it around as needed, but with blank name so user
diff -urwN 4os2-o/h/message.h 4os2/h/message.h
--- 4os2-o/h/message.h	2023-01-18 02:41:34.938105862 +0300
+++ 4os2/h/message.h	2023-04-01 14:28:51.803753279 +0300
@@ -308,10 +308,6 @@
 extern char OS2_FS[];
 extern char OS2_WIN[];
 extern char COMSPEC_OS2[];
-extern char OS2_VERSION[];
-extern char CMD_OS2_VERSION[];
-extern char OS2_REVISION[];
-extern char CMD_OS2_REVISION[];
 extern char NO_DLL[];
 extern char OS2_TITLE[];
 extern char TRACE_STARTUP_MSG[];
diff -urwN 4os2-o/h/proto.h 4os2/h/proto.h
--- 4os2-o/h/proto.h	2023-01-18 02:41:34.938105862 +0300
+++ 4os2/h/proto.h	2023-04-01 14:28:51.803753279 +0300
@@ -3,7 +3,6 @@
 
 // Prototypes for internal commands
 int activate_cmd( int, char ** );
-int attrib_cmd( int, char ** );
 int batch( int, char ** );
 int battext_cmd( int, char ** );
 int beep_cmd( int, char ** );
@@ -12,7 +11,6 @@
 int cd_cmd( int, char ** );
 int cdd_cmd( int, char ** );
 int chcp_cmd( int, char ** );
-int cls_cmd( int, char ** );
 int cmds_cmd( int, char ** );
 int color_cmd( int, char ** );
 int copy_cmd( int, char ** );
@@ -50,7 +48,6 @@
 int list_cmd( int, char ** );
 int loadbtm_cmd( int, char ** );
 int log_cmd( int, char ** );
-int md_cmd( int, char ** );
 int memory_cmd( int, char ** );
 int mv_cmd( int, char ** );
 int on_cmd( int, char ** );
@@ -85,12 +82,9 @@
 int timer_cmd( int, char ** );
 int title_cmd( int, char ** );
 int touch_cmd( int, char ** );
-int tree_cmd( int, char ** );
 int type_cmd( int, char ** );
 int unset_cmd( int, char ** );
-int ver_cmd( int, char ** );
 int verify_cmd( int, char ** );
-int volume_cmd( int, char ** );
 int window_cmd( int, char ** );
 int y_cmd( int, char ** );
 
@@ -105,7 +99,7 @@
 
 // CMDS.C
 int findcmd( char *, int );
-
+int findcmdhelp( char *, int );
 
 // DIRCMDS.C
 void init_dir( void );
@@ -264,6 +258,7 @@
 char * ParseColors( char *, int *, int *);
 int color_shade( char * );
 int process_descriptions( char *, char *, int );
+void clear_screen(void);
 
 // MAIN.C
 int main( int, char ** );
diff -urwN 4os2-o/makewpi.cmd 4os2/makewpi.cmd
diff -urwN 4os2-o/mkzip.cmd 4os2/mkzip.cmd
diff -urwN 4os2-o/option2.dlg 4os2/option2.dlg
--- 4os2-o/option2.dlg	2023-01-18 02:41:34.942105946 +0300
+++ 4os2/option2.dlg	2023-04-01 14:28:51.803753279 +0300
@@ -1,7 +1,5 @@
-#ifndef OS2_INCLUDED
    #include <os2.h>
-#endif
-/* DLGINCLUDE 1 "C:\4DOS\NSRC\RESOURCE.H" */
+DLGINCLUDE 1 "../h/resource.h"
 
 DLGTEMPLATE CONFIG_CMDDLGBOX LOADONCALL MOVEABLE DISCARDABLE
 BEGIN
diff -urwN 4os2-o/option2.rc 4os2/option2.rc
--- 4os2-o/option2.rc	2023-01-18 02:41:34.942105946 +0300
+++ 4os2/option2.rc	2023-04-01 14:28:51.803753279 +0300
@@ -5,5 +5,5 @@
 
 POINTER ID_RESOURCE "../4os2.ico"
 
-rcinclude "..\option2.dlg"
+rcinclude "option2.dlg"
 
diff -urwN 4os2-o/readme.1st 4os2/readme.1st
diff -urwN 4os2-o/release/4start.cmd.sample 4os2/release/4start.cmd.sample
